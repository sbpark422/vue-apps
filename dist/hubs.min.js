var vueComponents=function(e,t){"use strict";function n(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const r=n("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function s(e){return!!e||""===e}function i(e){if(k(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=R(r)?l(r):i(r);if(s)for(const e in s)t[e]=s[e]}return t}return R(e)||A(e)?e:void 0}const o=/;(?![^(]*\))/g,a=/:(.+)/;function l(e){const t={};return e.split(o).forEach((e=>{if(e){const n=e.split(a);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function c(e){let t="";if(R(e))t=e;else if(k(e))for(let n=0;n<e.length;n++){const r=c(e[n]);r&&(t+=r+" ")}else if(A(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const u=e=>R(e)?e:null==e?"":k(e)||A(e)&&(e.toString===P||!S(e.toString))?JSON.stringify(e,h,2):String(e),h=(e,t)=>t&&t.__v_isRef?h(e,t.value):E(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:T(t)?{[`Set(${t.size})`]:[...t.values()]}:!A(t)||k(t)||L(t)?t:String(t),d={},p=[],f=()=>{},m=()=>!1,v=/^on[^a-z]/,y=e=>v.test(e),g=e=>e.startsWith("onUpdate:"),b=Object.assign,w=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},_=Object.prototype.hasOwnProperty,x=(e,t)=>_.call(e,t),k=Array.isArray,E=e=>"[object Map]"===O(e),T=e=>"[object Set]"===O(e),S=e=>"function"==typeof e,R=e=>"string"==typeof e,C=e=>"symbol"==typeof e,A=e=>null!==e&&"object"==typeof e,M=e=>A(e)&&S(e.then)&&S(e.catch),P=Object.prototype.toString,O=e=>P.call(e),L=e=>"[object Object]"===O(e),B=e=>R(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,I=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},F=/-(\w)/g,z=D((e=>e.replace(F,((e,t)=>t?t.toUpperCase():"")))),U=/\B([A-Z])/g,j=D((e=>e.replace(U,"-$1").toLowerCase())),N=D((e=>e.charAt(0).toUpperCase()+e.slice(1))),V=D((e=>e?`on${N(e)}`:"")),q=(e,t)=>!Object.is(e,t),W=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},K=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let H;const $=()=>H||(H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});let X;class Y{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&X&&(this.parent=X,this.index=(X.scopes||(X.scopes=[])).push(this)-1)}run(e){if(this.active)try{return X=this,e()}finally{X=this.parent}}on(){X=this}off(){X=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const Q=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Z=e=>(e.w&ne)>0,J=e=>(e.n&ne)>0,ee=new WeakMap;let te=0,ne=1;let re;const se=Symbol(""),ie=Symbol("");class oe{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=X){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=re,t=le;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=re,re=this,le=!0,ne=1<<++te,te<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ne})(this):ae(this),this.fn()}finally{te<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const s=t[r];Z(s)&&!J(s)?s.delete(e):t[n++]=s,s.w&=~ne,s.n&=~ne}t.length=n}})(this),ne=1<<--te,re=this.parent,le=t,this.parent=void 0}}stop(){this.active&&(ae(this),this.onStop&&this.onStop(),this.active=!1)}}function ae(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let le=!0;const ce=[];function ue(){ce.push(le),le=!1}function he(){const e=ce.pop();le=void 0===e||e}function de(e,t,n){if(le&&re){let t=ee.get(e);t||ee.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=Q()),pe(r)}}function pe(e,t){let n=!1;te<=30?J(e)||(e.n|=ne,n=!Z(e)):n=!e.has(re),n&&(e.add(re),re.deps.push(e))}function fe(e,t,n,r,s,i){const o=ee.get(e);if(!o)return;let a=[];if("clear"===t)a=[...o.values()];else if("length"===n&&k(e))o.forEach(((e,t)=>{("length"===t||t>=r)&&a.push(e)}));else switch(void 0!==n&&a.push(o.get(n)),t){case"add":k(e)?B(n)&&a.push(o.get("length")):(a.push(o.get(se)),E(e)&&a.push(o.get(ie)));break;case"delete":k(e)||(a.push(o.get(se)),E(e)&&a.push(o.get(ie)));break;case"set":E(e)&&a.push(o.get(se))}if(1===a.length)a[0]&&me(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);me(Q(e))}}function me(e,t){for(const t of k(e)?e:[...e])(t!==re||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ve=n("__proto__,__v_isRef,__isVue"),ye=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(C)),ge=ke(),be=ke(!1,!0),we=ke(!0),_e=xe();function xe(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=at(this);for(let e=0,t=this.length;e<t;e++)de(n,0,e+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(at)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ue();const n=at(this)[t].apply(this,e);return he(),n}})),e}function ke(e=!1,t=!1){return function(n,r,s){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&s===(e?t?Ze:Qe:t?Ye:Xe).get(n))return n;const i=k(n);if(!e&&i&&x(_e,r))return Reflect.get(_e,r,s);const o=Reflect.get(n,r,s);if(C(r)?ye.has(r):ve(r))return o;if(e||de(n,0,r),t)return o;if(ht(o)){return!i||!B(r)?o.value:o}return A(o)?e?tt(o):et(o):o}}function Ee(e=!1){return function(t,n,r,s){let i=t[n];if(st(i)&&ht(i)&&!ht(r))return!1;if(!e&&!st(r)&&(it(r)||(r=at(r),i=at(i)),!k(t)&&ht(i)&&!ht(r)))return i.value=r,!0;const o=k(t)&&B(n)?Number(n)<t.length:x(t,n),a=Reflect.set(t,n,r,s);return t===at(s)&&(o?q(r,i)&&fe(t,"set",n,r):fe(t,"add",n,r)),a}}const Te={get:ge,set:Ee(),deleteProperty:function(e,t){const n=x(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&fe(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return C(t)&&ye.has(t)||de(e,0,t),n},ownKeys:function(e){return de(e,0,k(e)?"length":se),Reflect.ownKeys(e)}},Se={get:we,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Re=b({},Te,{get:be,set:Ee(!0)}),Ce=e=>e,Ae=e=>Reflect.getPrototypeOf(e);function Me(e,t,n=!1,r=!1){const s=at(e=e.__v_raw),i=at(t);t!==i&&!n&&de(s,0,t),!n&&de(s,0,i);const{has:o}=Ae(s),a=r?Ce:n?ut:ct;return o.call(s,t)?a(e.get(t)):o.call(s,i)?a(e.get(i)):void(e!==s&&e.get(t))}function Pe(e,t=!1){const n=this.__v_raw,r=at(n),s=at(e);return e!==s&&!t&&de(r,0,e),!t&&de(r,0,s),e===s?n.has(e):n.has(e)||n.has(s)}function Oe(e,t=!1){return e=e.__v_raw,!t&&de(at(e),0,se),Reflect.get(e,"size",e)}function Le(e){e=at(e);const t=at(this);return Ae(t).has.call(t,e)||(t.add(e),fe(t,"add",e,e)),this}function Be(e,t){t=at(t);const n=at(this),{has:r,get:s}=Ae(n);let i=r.call(n,e);i||(e=at(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?q(t,o)&&fe(n,"set",e,t):fe(n,"add",e,t),this}function Ie(e){const t=at(this),{has:n,get:r}=Ae(t);let s=n.call(t,e);s||(e=at(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&fe(t,"delete",e,void 0),i}function De(){const e=at(this),t=0!==e.size,n=e.clear();return t&&fe(e,"clear",void 0,void 0),n}function Fe(e,t){return function(n,r){const s=this,i=s.__v_raw,o=at(i),a=t?Ce:e?ut:ct;return!e&&de(o,0,se),i.forEach(((e,t)=>n.call(r,a(e),a(t),s)))}}function ze(e,t,n){return function(...r){const s=this.__v_raw,i=at(s),o=E(i),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=s[e](...r),u=n?Ce:t?ut:ct;return!t&&de(i,0,l?ie:se),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Ue(e){return function(...t){return"delete"!==e&&this}}function je(){const e={get(e){return Me(this,e)},get size(){return Oe(this)},has:Pe,add:Le,set:Be,delete:Ie,clear:De,forEach:Fe(!1,!1)},t={get(e){return Me(this,e,!1,!0)},get size(){return Oe(this)},has:Pe,add:Le,set:Be,delete:Ie,clear:De,forEach:Fe(!1,!0)},n={get(e){return Me(this,e,!0)},get size(){return Oe(this,!0)},has(e){return Pe.call(this,e,!0)},add:Ue("add"),set:Ue("set"),delete:Ue("delete"),clear:Ue("clear"),forEach:Fe(!0,!1)},r={get(e){return Me(this,e,!0,!0)},get size(){return Oe(this,!0)},has(e){return Pe.call(this,e,!0)},add:Ue("add"),set:Ue("set"),delete:Ue("delete"),clear:Ue("clear"),forEach:Fe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{e[s]=ze(s,!1,!1),n[s]=ze(s,!0,!1),t[s]=ze(s,!1,!0),r[s]=ze(s,!0,!0)})),[e,n,t,r]}const[Ne,Ve,qe,We]=je();function Ke(e,t){const n=t?e?We:qe:e?Ve:Ne;return(t,r,s)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(x(n,r)&&r in t?n:t,r,s)}const Ge={get:Ke(!1,!1)},He={get:Ke(!1,!0)},$e={get:Ke(!0,!1)},Xe=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Ze=new WeakMap;function Je(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>O(e).slice(8,-1))(e))}function et(e){return st(e)?e:nt(e,!1,Te,Ge,Xe)}function tt(e){return nt(e,!0,Se,$e,Qe)}function nt(e,t,n,r,s){if(!A(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Je(e);if(0===o)return e;const a=new Proxy(e,2===o?r:n);return s.set(e,a),a}function rt(e){return st(e)?rt(e.__v_raw):!(!e||!e.__v_isReactive)}function st(e){return!(!e||!e.__v_isReadonly)}function it(e){return!(!e||!e.__v_isShallow)}function ot(e){return rt(e)||st(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function lt(e){return K(e,"__v_skip",!0),e}const ct=e=>A(e)?et(e):e,ut=e=>A(e)?tt(e):e;function ht(e){return!(!e||!0!==e.__v_isRef)}function dt(e){return ht(e)?e.value:e}const pt={get:(e,t,n)=>dt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ht(s)&&!ht(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function ft(e){return rt(e)?e:new Proxy(e,pt)}class mt{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new oe(e,(()=>{var e;this._dirty||(this._dirty=!0,(e=at(e=this)).dep&&me(e.dep))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=at(this);var t;return t=e,le&&re&&pe((t=at(t)).dep||(t.dep=Q())),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function vt(e,t,n,r){let s;try{s=r?e(...r):e()}catch(e){gt(e,t,n)}return s}function yt(e,t,n,r){if(S(e)){const s=vt(e,t,n,r);return s&&M(s)&&s.catch((e=>{gt(e,t,n)})),s}const s=[];for(let i=0;i<e.length;i++)s.push(yt(e[i],t,n,r));return s}function gt(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const s=t.proxy,i=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,s,i))return;r=r.parent}const o=t.appContext.config.errorHandler;if(o)return void vt(o,null,10,[e,s,i])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}Promise.resolve();let bt=!1,wt=!1;const _t=[];let xt=0;const kt=[];let Et=null,Tt=0;const St=[];let Rt=null,Ct=0;const At=Promise.resolve();let Mt=null,Pt=null;function Ot(e){const t=Mt||At;return e?t.then(this?e.bind(this):e):t}function Lt(e){_t.length&&_t.includes(e,bt&&e.allowRecurse?xt+1:xt)||e===Pt||(null==e.id?_t.push(e):_t.splice(function(e){let t=xt+1,n=_t.length;for(;t<n;){const r=t+n>>>1;zt(_t[r])<e?t=r+1:n=r}return t}(e.id),0,e),Bt())}function Bt(){bt||wt||(wt=!0,Mt=At.then(Ut))}function It(e,t,n,r){k(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Bt()}function Dt(e,t=null){if(kt.length){for(Pt=t,Et=[...new Set(kt)],kt.length=0,Tt=0;Tt<Et.length;Tt++)Et[Tt]();Et=null,Tt=0,Pt=null,Dt(e,t)}}function Ft(e){if(St.length){const e=[...new Set(St)];if(St.length=0,Rt)return void Rt.push(...e);for(Rt=e,Rt.sort(((e,t)=>zt(e)-zt(t))),Ct=0;Ct<Rt.length;Ct++)Rt[Ct]();Rt=null,Ct=0}}const zt=e=>null==e.id?1/0:e.id;function Ut(e){wt=!1,bt=!0,Dt(e),_t.sort(((e,t)=>zt(e)-zt(t)));try{for(xt=0;xt<_t.length;xt++){const e=_t[xt];e&&!1!==e.active&&vt(e,null,14)}}finally{xt=0,_t.length=0,Ft(),bt=!1,Mt=null,(_t.length||kt.length||St.length)&&Ut(e)}}let jt,Nt=[],Vt=!1;function qt(e,...t){jt?jt.emit(e,...t):Vt||Nt.push({event:e,args:t})}function Wt(e,t){var n,r;if(jt=e,jt)jt.enabled=!0,Nt.forEach((({event:e,args:t})=>jt.emit(e,...t))),Nt=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(r=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===r?void 0:r.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Wt(e,t)})),setTimeout((()=>{jt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Vt=!0,Nt=[])}),3e3)}else Vt=!0,Nt=[]}const Kt=$t("component:added"),Gt=$t("component:updated"),Ht=$t("component:removed");function $t(e){return t=>{qt(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function Xt(e,t,...n){const r=e.vnode.props||d;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:i}=r[e]||d;i?s=n.map((e=>e.trim())):t&&(s=n.map(G))}let a;__VUE_PROD_DEVTOOLS__&&function(e,t,n){qt("component:emit",e.appContext.app,e,t,n)}(e,t,s);let l=r[a=V(t)]||r[a=V(z(t))];!l&&i&&(l=r[a=V(j(t))]),l&&yt(l,e,6,s);const c=r[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,yt(c,e,6,s)}}function Yt(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const i=e.emits;let o={},a=!1;if(__VUE_OPTIONS_API__&&!S(e)){const r=e=>{const n=Yt(e,t,!0);n&&(a=!0,b(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||a?(k(i)?i.forEach((e=>o[e]=null)):b(o,i),r.set(e,o),o):(r.set(e,null),null)}function Qt(e,t){return!(!e||!y(t))&&(t=t.slice(2).replace(/Once$/,""),x(e,t[0].toLowerCase()+t.slice(1))||x(e,j(t))||x(e,t))}let Zt=null,Jt=null;function en(e){const t=Zt;return Zt=e,Jt=e&&e.type.__scopeId||null,t}function tn(e){Jt=e}function nn(){Jt=null}function rn(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:p,ctx:f,inheritAttrs:m}=e;let v,y;const b=en(e);try{if(4&n.shapeFlag){const e=s||r;v=Nr(u.call(e,e,h,i,p,d,f)),y=l}else{const e=t;0,v=Nr(e.length>1?e(i,{attrs:l,slots:a,emit:c}):e(i,null)),y=t.props?l:sn(l)}}catch(t){Er.length=0,gt(t,e,1),v=Dr(xr)}let w=v;if(y&&!1!==m){const e=Object.keys(y),{shapeFlag:t}=w;e.length&&7&t&&(o&&e.some(g)&&(y=on(y,o)),w=Fr(w,y))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),v=w,en(b),v}const sn=e=>{let t;for(const n in e)("class"===n||"style"===n||y(n))&&((t||(t={}))[n]=e[n]);return t},on=(e,t)=>{const n={};for(const r in e)g(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function an(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Qt(n,i))return!0}return!1}function ln(e,t,n=!1){const r=Yr||Zt;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&S(t)?t.call(r.proxy):t}}const cn={};function un(e,t,n){return hn(e,t,n)}function hn(e,t,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=d){const a=Yr;let l,c,u=!1,h=!1;if(ht(e)?(l=()=>e.value,u=it(e)):rt(e)?(l=()=>e,r=!0):k(e)?(h=!0,u=e.some(rt),l=()=>e.map((e=>ht(e)?e.value:rt(e)?fn(e):S(e)?vt(e,a,2):void 0))):l=S(e)?t?()=>vt(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),yt(e,a,3,[p])}:f,t&&r){const e=l;l=()=>fn(e())}let p=e=>{c=g.onStop=()=>{vt(e,a,4)}};if(ts)return p=f,t?n&&yt(t,a,3,[l(),h?[]:void 0,p]):l(),f;let m=h?[]:cn;const v=()=>{if(g.active)if(t){const e=g.run();(r||u||(h?e.some(((e,t)=>q(e,m[t]))):q(e,m)))&&(c&&c(),yt(t,a,3,[e,m===cn?void 0:m,p]),m=e)}else g.run()};let y;v.allowRecurse=!!t,y="sync"===s?v:"post"===s?()=>mr(v,a&&a.suspense):()=>{!a||a.isMounted?function(e){It(e,Et,kt,Tt)}(v):v()};const g=new oe(l,y);return t?n?v():m=g.run():"post"===s?mr(g.run.bind(g),a&&a.suspense):g.run(),()=>{g.stop(),a&&a.scope&&w(a.scope.effects,g)}}function dn(e,t,n){const r=this.proxy,s=R(e)?e.includes(".")?pn(r,e):()=>r[e]:e.bind(r,r);let i;S(t)?i=t:(i=t.handler,n=t);const o=Yr;Zr(this);const a=hn(s,i.bind(r),n);return o?Zr(o):Jr(),a}function pn(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function fn(e,t){if(!A(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),ht(e))fn(e.value,t);else if(k(e))for(let n=0;n<e.length;n++)fn(e[n],t);else if(T(e)||E(e))e.forEach((e=>{fn(e,t)}));else if(L(e))for(const n in e)fn(e[n],t);return e}const mn=[Function,Array];Boolean,Boolean;function vn(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function yn(e,t,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:g}=t,b=String(e.key),w=vn(n,e),_=(e,t)=>{e&&yt(e,r,9,t)},x={mode:i,persisted:o,beforeEnter(t){let r=a;if(!n.isMounted){if(!s)return;r=m||a}t._leaveCb&&t._leaveCb(!0);const i=w[b];i&&Pr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),_(r,[t])},enter(e){let t=l,r=c,i=u;if(!n.isMounted){if(!s)return;t=v||l,r=y||c,i=g||u}let o=!1;const a=e._enterCb=t=>{o||(o=!0,_(t?i:r,[e]),x.delayedLeave&&x.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,r){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();_(h,[t]);let i=!1;const o=t._leaveCb=n=>{i||(i=!0,r(),_(n?f:p,[t]),t._leaveCb=void 0,w[s]===e&&delete w[s])};w[s]=e,d?(d(t,o),d.length<=1&&o()):o()},clone:e=>yn(e,t,n,r)};return x}function gn(e){if(kn(e))return(e=Fr(e)).children=null,e}function bn(e){return kn(e)?e.children?e.children[0]:void 0:e}function wn(e,t){6&e.shapeFlag&&e.component?wn(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _n(e,t=!1){let n=[],r=0;for(let s=0;s<e.length;s++){const i=e[s];i.type===wr?(128&i.patchFlag&&r++,n=n.concat(_n(i.children,t))):(t||i.type!==xr)&&n.push(i)}if(r>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}const xn=e=>!!e.type.__asyncLoader,kn=e=>e.type.__isKeepAlive;function En(e,t){Sn(e,"a",t)}function Tn(e,t){Sn(e,"da",t)}function Sn(e,t,n=Yr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Cn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)kn(e.parent.vnode)&&Rn(r,t,n,e),e=e.parent}}function Rn(e,t,n,r){const s=Cn(t,e,r,!0);In((()=>{w(r[t],s)}),n)}function Cn(e,t,n=Yr,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;ue(),Zr(n);const s=yt(t,n,e,r);return Jr(),he(),s});return r?s.unshift(i):s.push(i),i}}const An=e=>(t,n=Yr)=>(!ts||"sp"===e)&&Cn(e,t,n),Mn=An("bm"),Pn=An("m"),On=An("bu"),Ln=An("u"),Bn=An("bum"),In=An("um"),Dn=An("sp"),Fn=An("rtg"),zn=An("rtc");function Un(e,t=Yr){Cn("ec",e,t)}let jn=!0;function Nn(e){const t=Wn(e),n=e.proxy,r=e.ctx;jn=!1,t.beforeCreate&&Vn(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:p,updated:m,activated:v,deactivated:y,beforeDestroy:g,beforeUnmount:b,destroyed:w,unmounted:_,render:x,renderTracked:E,renderTriggered:T,errorCaptured:R,serverPrefetch:C,expose:M,inheritAttrs:P,components:O,directives:L,filters:B}=t;if(c&&function(e,t,n=f,r=!1){k(e)&&(e=$n(e));for(const n in e){const s=e[n];let i;i=A(s)?"default"in s?ln(s.from||n,s.default,!0):ln(s.from||n):ln(s),ht(i)&&r?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}(c,r,null,e.appContext.config.unwrapInjectedRef),o)for(const e in o){const t=o[e];S(t)&&(r[e]=t.bind(n))}if(s){const t=s.call(n,n);A(t)&&(e.data=et(t))}if(jn=!0,i)for(const e in i){const t=i[e],s=S(t)?t.bind(n,n):S(t.get)?t.get.bind(n,n):f,o=!S(t)&&S(t.set)?t.set.bind(n):f,a=is({get:s,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(a)for(const e in a)qn(a[e],r,n,e);if(l){const e=S(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(Yr){let n=Yr.provides;const r=Yr.parent&&Yr.parent.provides;r===n&&(n=Yr.provides=Object.create(r)),n[e]=t}}(t,e[t])}))}function I(e,t){k(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(u&&Vn(u,e,"c"),I(Mn,h),I(Pn,d),I(On,p),I(Ln,m),I(En,v),I(Tn,y),I(Un,R),I(zn,E),I(Fn,T),I(Bn,b),I(In,_),I(Dn,C),k(M))if(M.length){const t=e.exposed||(e.exposed={});M.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});x&&e.render===f&&(e.render=x),null!=P&&(e.inheritAttrs=P),O&&(e.components=O),L&&(e.directives=L)}function Vn(e,t,n){yt(k(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function qn(e,t,n,r){const s=r.includes(".")?pn(n,r):()=>n[r];if(R(e)){const n=t[e];S(n)&&un(s,n)}else if(S(e))un(s,e.bind(n));else if(A(e))if(k(e))e.forEach((e=>qn(e,t,n,r)));else{const r=S(e.handler)?e.handler.bind(n):t[e.handler];S(r)&&un(s,r,e)}}function Wn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:s.length||n||r?(l={},s.length&&s.forEach((e=>Kn(l,e,o,!0))),Kn(l,t,o)):l=t,i.set(t,l),l}function Kn(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Kn(e,i,n,!0),s&&s.forEach((t=>Kn(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=Gn[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Gn={data:Hn,props:Yn,emits:Yn,methods:Yn,computed:Yn,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:Yn,directives:Yn,watch:function(e,t){if(!e)return t;if(!t)return e;const n=b(Object.create(null),e);for(const r in t)n[r]=Xn(e[r],t[r]);return n},provide:Hn,inject:function(e,t){return Yn($n(e),$n(t))}};function Hn(e,t){return t?e?function(){return b(S(e)?e.call(this,this):e,S(t)?t.call(this,this):t)}:t:e}function $n(e){if(k(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xn(e,t){return e?[...new Set([].concat(e,t))]:t}function Yn(e,t){return e?b(b(Object.create(null),e),t):t}function Qn(e,t,n,r=!1){const s={},i={};K(i,Or,1),e.propsDefaults=Object.create(null),Zn(e,t,s,i);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);n?e.props=r?s:function(e){return nt(e,!1,Re,He,Ye)}(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Zn(e,t,n,r){const[s,i]=e.propsOptions;let o,a=!1;if(t)for(let l in t){if(I(l))continue;const c=t[l];let u;s&&x(s,u=z(l))?i&&i.includes(u)?(o||(o={}))[u]=c:n[u]=c:Qt(e.emitsOptions,l)||l in r&&c===r[l]||(r[l]=c,a=!0)}if(i){const t=at(n),r=o||d;for(let o=0;o<i.length;o++){const a=i[o];n[a]=Jn(s,t,a,r[a],e,!x(r,a))}}return a}function Jn(e,t,n,r,s,i){const o=e[n];if(null!=o){const e=x(o,"default");if(e&&void 0===r){const e=o.default;if(o.type!==Function&&S(e)){const{propsDefaults:i}=s;n in i?r=i[n]:(Zr(s),r=i[n]=e.call(null,t),Jr())}else r=e}o[0]&&(i&&!e?r=!1:!o[1]||""!==r&&r!==j(n)||(r=!0))}return r}function er(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(__VUE_OPTIONS_API__&&!S(e)){const r=e=>{l=!0;const[n,r]=er(e,t,!0);b(o,n),r&&a.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!i&&!l)return r.set(e,p),p;if(k(i))for(let e=0;e<i.length;e++){const t=z(i[e]);tr(t)&&(o[t]=d)}else if(i)for(const e in i){const t=z(e);if(tr(t)){const n=i[e],r=o[t]=k(n)||S(n)?{type:n}:n;if(r){const e=sr(Boolean,r.type),n=sr(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||x(r,"default"))&&a.push(t)}}}const c=[o,a];return r.set(e,c),c}function tr(e){return"$"!==e[0]}function nr(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function rr(e,t){return nr(e)===nr(t)}function sr(e,t){return k(t)?t.findIndex((t=>rr(t,e))):S(t)&&rr(t,e)?0:-1}const ir=e=>"_"===e[0]||"$stable"===e,or=e=>k(e)?e.map(Nr):[Nr(e)],ar=(e,t,n)=>{const r=function(e,t=Zt,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Cr(-1);const s=en(t),i=e(...n);return en(s),r._d&&Cr(1),__VUE_PROD_DEVTOOLS__&&Gt(t),i};return r._n=!0,r._c=!0,r._d=!0,r}(((...e)=>or(t(...e))),n);return r._c=!1,r},lr=(e,t,n)=>{const r=e._ctx;for(const n in e){if(ir(n))continue;const s=e[n];if(S(s))t[n]=ar(0,s,r);else if(null!=s){const e=or(s);t[n]=()=>e}}},cr=(e,t)=>{const n=or(t);e.slots.default=()=>n};function ur(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ue(),yt(l,n,8,[e.el,a,e,t]),he())}}function hr(){return{app:null,config:{isNativeTag:m,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dr=0;function pr(e,t){return function(n,r=null){null==r||A(r)||(r=null);const s=hr(),i=new Set;let o=!1;const a=s.app={_uid:dr++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:os,get config(){return s.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&S(e.install)?(i.add(e),e.install(a,...t)):S(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(__VUE_OPTIONS_API__&&(s.mixins.includes(e)||s.mixins.push(e)),a),component:(e,t)=>t?(s.components[e]=t,a):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,a):s.directives[e],mount(i,l,c){if(!o){const u=Dr(n,r);return u.appContext=s,l&&t?t(u,i):e(u,i,c),o=!0,a._container=i,i.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&(a._instance=u.component,function(e,t){qt("app:init",e,t,{Fragment:wr,Text:_r,Comment:xr,Static:kr})}(a,os)),ss(u.component)||u.component.proxy}},unmount(){o&&(e(null,a._container),__VUE_PROD_DEVTOOLS__&&(a._instance=null,function(e){qt("app:unmount",e)}(a)),delete a._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,a)};return a}}function fr(e,t,n,r,s=!1){if(k(e))return void e.forEach(((e,i)=>fr(e,t&&(k(t)?t[i]:t),n,r,s)));if(xn(r)&&!s)return;const i=4&r.shapeFlag?ss(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===d?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==l&&(R(c)?(u[c]=null,x(h,c)&&(h[c]=null)):ht(c)&&(c.value=null)),S(l))vt(l,a,12,[o,u]);else{const t=R(l),r=ht(l);if(t||r){const r=()=>{if(e.f){const n=t?u[l]:l.value;s?k(n)&&w(n,i):k(n)?n.includes(i)||n.push(i):t?u[l]=[i]:(l.value=[i],e.k&&(u[e.k]=l.value))}else t?(u[l]=o,x(h,l)&&(h[l]=o)):ht(l)&&(l.value=o,e.k&&(u[e.k]=o))};o?(r.id=-1,mr(r,n)):r()}}}const mr=function(e,t){t&&t.pendingBranch?k(e)?t.effects.push(...e):t.effects.push(e):It(e,Rt,St,Ct)};function vr(e){return function(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&($().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&($().__VUE_PROD_DEVTOOLS__=!1);const n=$();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&Wt(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:m,setScopeId:v=f,cloneNode:y,insertStaticContent:g}=e,w=(e,t,n,r=null,s=null,i=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Pr(e,t)&&(r=re(e),Z(e,s,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case _r:_(e,t,n,r);break;case xr:k(e,t,n,r);break;case kr:null==e&&E(t,n,r,o);break;case wr:D(e,t,n,r,s,i,o,a,l);break;default:1&h?R(e,t,n,r,s,i,o,a,l):6&h?F(e,t,n,r,s,i,o,a,l):(64&h||128&h)&&c.process(e,t,n,r,s,i,o,a,l,ie)}null!=u&&s&&fr(u,e&&e.ref,i,t||e,!t)},_=(e,t,n,s)=>{if(null==e)r(t.el=a(t.children),n,s);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},k=(e,t,n,s)=>{null==e?r(t.el=l(t.children||""),n,s):t.el=e.el},E=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},T=({el:e,anchor:t},n,s)=>{let i;for(;e&&e!==t;)i=m(e),r(e,n,s),e=i;r(t,n,s)},S=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),s(e),e=n;s(t)},R=(e,t,n,r,s,i,o,a,l)=>{o=o||"svg"===t.type,null==e?C(t,n,r,s,i,o,a,l):O(e,t,s,i,o,a,l)},C=(e,t,n,s,a,l,c,h)=>{let d,p;const{type:f,props:m,shapeFlag:v,transition:g,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==y&&-1===b)d=e.el=y(e.el);else{if(d=e.el=o(e.type,l,m&&m.is,m),8&v?u(d,e.children):16&v&&P(e.children,d,null,s,a,l&&"foreignObject"!==f,c,h),w&&ur(e,null,s,"created"),m){for(const t in m)"value"===t||I(t)||i(d,t,null,m[t],l,e.children,s,a,ne);"value"in m&&i(d,"value",null,m.value),(p=m.onVnodeBeforeMount)&&Wr(p,s,e)}A(d,e,e.scopeId,c,s)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(d,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(d,"__vueParentComponent",{value:s,enumerable:!1})),w&&ur(e,null,s,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;_&&g.beforeEnter(d),r(d,t,n),((p=m&&m.onVnodeMounted)||_||w)&&mr((()=>{p&&Wr(p,s,e),_&&g.enter(d),w&&ur(e,null,s,"mounted")}),a)},A=(e,t,n,r,s)=>{if(n&&v(e,n),r)for(let t=0;t<r.length;t++)v(e,r[t]);if(s){if(t===s.subTree){const t=s.vnode;A(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},P=(e,t,n,r,s,i,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Vr(e[c]):Nr(e[c]);w(null,l,t,n,r,s,i,o,a)}},O=(e,t,n,r,s,o,a)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:p}=t;c|=16&e.patchFlag;const f=e.props||d,m=t.props||d;let v;n&&yr(n,!1),(v=m.onVnodeBeforeUpdate)&&Wr(v,n,t,e),p&&ur(t,e,n,"beforeUpdate"),n&&yr(n,!0);const y=s&&"foreignObject"!==t.type;if(h?L(e.dynamicChildren,h,l,n,r,y,o):a||G(e,t,l,null,n,r,y,o,!1),c>0){if(16&c)B(l,t,f,m,n,r,s);else if(2&c&&f.class!==m.class&&i(l,"class",null,m.class,s),4&c&&i(l,"style",f.style,m.style,s),8&c){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const a=o[t],c=f[a],u=m[a];u===c&&"value"!==a||i(l,a,c,u,s,e.children,n,r,ne)}}1&c&&e.children!==t.children&&u(l,t.children)}else a||null!=h||B(l,t,f,m,n,r,s);((v=m.onVnodeUpdated)||p)&&mr((()=>{v&&Wr(v,n,t,e),p&&ur(t,e,n,"updated")}),r)},L=(e,t,n,r,s,i,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===wr||!Pr(l,c)||70&l.shapeFlag)?h(l.el):n;w(l,c,u,null,r,s,i,o,!0)}},B=(e,t,n,r,s,o,a)=>{if(n!==r){for(const l in r){if(I(l))continue;const c=r[l],u=n[l];c!==u&&"value"!==l&&i(e,l,u,c,a,t.children,s,o,ne)}if(n!==d)for(const l in n)I(l)||l in r||i(e,l,n[l],null,a,t.children,s,o,ne);"value"in r&&i(e,"value",n.value,r.value)}},D=(e,t,n,s,i,o,l,c,u)=>{const h=t.el=e?e.el:a(""),d=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(r(h,n,s),r(d,n,s),P(t.children,n,d,i,o,l,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(L(e.dynamicChildren,f,n,i,o,l,c),(null!=t.key||i&&t===i.subTree)&&gr(e,t,!0)):G(e,t,n,d,i,o,l,c,u)},F=(e,t,n,r,s,i,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,n,r,o,l):U(t,n,r,s,i,o,l):N(e,t,l)},U=(e,t,n,r,s,i,o)=>{const a=e.component=function(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||$r,i={uid:Xr++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Y(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:er(r,s),emitsOptions:Yt(r,s),emit:null,emitted:null,propsDefaults:d,inheritAttrs:r.inheritAttrs,ctx:d,data:d,props:d,attrs:d,slots:d,refs:d,setupState:d,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=Xt.bind(null,i),e.ce&&e.ce(i);return i}(e,r,s);if(kn(e)&&(a.ctx.renderer=ie),function(e,t=!1){ts=t;const{props:n,children:r}=e.vnode,s=es(e);Qn(e,n,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=at(t),K(t,"_",n)):lr(t,e.slots={})}else e.slots={},t&&cr(e,t);K(e.slots,Or,1)})(e,r);const i=s?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lt(new Proxy(e.ctx,Hr));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(de(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;Zr(e),ue();const s=vt(r,e,0,[e.props,n]);if(he(),Jr(),M(s)){if(s.then(Jr,Jr),t)return s.then((n=>{ns(e,n,t)})).catch((t=>{gt(t,e,0)}));e.asyncDep=s}else ns(e,s,t)}else rs(e,t)}(e,t):void 0;ts=!1}(a),a.asyncDep){if(s&&s.registerDep(a,V),!e.el){const e=a.subTree=Dr(xr);k(null,e,t,n)}}else V(a,e,t,n,s,i,o)},N=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||r!==o&&(r?!o||an(r,o,c):!!o);if(1024&l)return!0;if(16&l)return r?an(r,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!Qt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void q(r,t,n);r.next=t,function(e){const t=_t.indexOf(e);t>xt&&_t.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},V=(e,t,n,r,s,i,o)=>{const a=()=>{if(e.isMounted){let t,{next:n,bu:r,u:a,parent:l,vnode:c}=e,u=n;yr(e,!1),n?(n.el=c.el,q(e,n,o)):n=c,r&&W(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Wr(t,l,n,c),yr(e,!0);const d=rn(e),p=e.subTree;e.subTree=d,w(p,d,h(p.el),re(p),e,s,i),n.el=d.el,null===u&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,d.el),a&&mr(a,s),(t=n.props&&n.props.onVnodeUpdated)&&mr((()=>Wr(t,l,n,c)),s),__VUE_PROD_DEVTOOLS__&&Gt(e)}else{let o;const{el:a,props:l}=t,{bm:c,m:u,parent:h}=e,d=xn(t);if(yr(e,!1),c&&W(c),!d&&(o=l&&l.onVnodeBeforeMount)&&Wr(o,h,t),yr(e,!0),a&&le){const n=()=>{e.subTree=rn(e),le(a,e.subTree,e,s,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const o=e.subTree=rn(e);w(null,o,n,r,e,s,i),t.el=o.el}if(u&&mr(u,s),!d&&(o=l&&l.onVnodeMounted)){const e=t;mr((()=>Wr(o,h,e)),s)}256&t.shapeFlag&&e.a&&mr(e.a,s),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&Kt(e),t=n=r=null}},l=e.effect=new oe(a,(()=>Lt(e.update)),e.scope),c=e.update=l.run.bind(l);c.id=e.uid,yr(e,!0),c()},q=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=at(s),[l]=e.propsOptions;let c=!1;if(!(r||o>0)||16&o){let r;Zn(e,t,s,i)&&(c=!0);for(const i in a)t&&(x(t,i)||(r=j(i))!==i&&x(t,r))||(l?!n||void 0===n[i]&&void 0===n[r]||(s[i]=Jn(l,a,i,void 0,e,!0)):delete s[i]);if(i!==a)for(const e in i)t&&x(t,e)||(delete i[e],c=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];const u=t[o];if(l)if(x(i,o))u!==i[o]&&(i[o]=u,c=!0);else{const t=z(o);s[t]=Jn(l,a,t,u,e,!1)}else u!==i[o]&&(i[o]=u,c=!0)}}c&&fe(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=d;if(32&r.shapeFlag){const e=t._;e?n&&1===e?i=!1:(b(s,t),n||1!==e||delete s._):(i=!t.$stable,lr(t,s)),o=t}else t&&(cr(e,t),o={default:1});if(i)for(const e in s)ir(e)||e in o||delete s[e]})(e,t.children,n),ue(),Dt(void 0,e.update),he()},G=(e,t,n,r,s,i,o,a,l=!1)=>{const c=e&&e.children,h=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void X(c,d,n,r,s,i,o,a,l);if(256&p)return void H(c,d,n,r,s,i,o,a,l)}8&f?(16&h&&ne(c,s,i),d!==c&&u(n,d)):16&h?16&f?X(c,d,n,r,s,i,o,a,l):ne(c,s,i,!0):(8&h&&u(n,""),16&f&&P(d,n,r,s,i,o,a,l))},H=(e,t,n,r,s,i,o,a,l)=>{t=t||p;const c=(e=e||p).length,u=t.length,h=Math.min(c,u);let d;for(d=0;d<h;d++){const r=t[d]=l?Vr(t[d]):Nr(t[d]);w(e[d],r,n,null,s,i,o,a,l)}c>u?ne(e,s,i,!0,!1,h):P(t,n,r,s,i,o,a,l,h)},X=(e,t,n,r,s,i,o,a,l)=>{let c=0;const u=t.length;let h=e.length-1,d=u-1;for(;c<=h&&c<=d;){const r=e[c],u=t[c]=l?Vr(t[c]):Nr(t[c]);if(!Pr(r,u))break;w(r,u,n,null,s,i,o,a,l),c++}for(;c<=h&&c<=d;){const r=e[h],c=t[d]=l?Vr(t[d]):Nr(t[d]);if(!Pr(r,c))break;w(r,c,n,null,s,i,o,a,l),h--,d--}if(c>h){if(c<=d){const e=d+1,h=e<u?t[e].el:r;for(;c<=d;)w(null,t[c]=l?Vr(t[c]):Nr(t[c]),n,h,s,i,o,a,l),c++}}else if(c>d)for(;c<=h;)Z(e[c],s,i,!0),c++;else{const f=c,m=c,v=new Map;for(c=m;c<=d;c++){const e=t[c]=l?Vr(t[c]):Nr(t[c]);null!=e.key&&v.set(e.key,c)}let y,g=0;const b=d-m+1;let _=!1,x=0;const k=new Array(b);for(c=0;c<b;c++)k[c]=0;for(c=f;c<=h;c++){const r=e[c];if(g>=b){Z(r,s,i,!0);continue}let u;if(null!=r.key)u=v.get(r.key);else for(y=m;y<=d;y++)if(0===k[y-m]&&Pr(r,t[y])){u=y;break}void 0===u?Z(r,s,i,!0):(k[u-m]=c+1,u>=x?x=u:_=!0,w(r,t[u],n,null,s,i,o,a,l),g++)}const E=_?function(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,o=n[i-1];for(;i-- >0;)n[i]=o,o=t[o];return n}(k):p;for(y=E.length-1,c=b-1;c>=0;c--){const e=m+c,h=t[e],d=e+1<u?t[e+1].el:r;0===k[c]?w(null,h,n,d,s,i,o,a,l):_&&(y<0||c!==E[y]?Q(h,n,d,2):y--)}}},Q=(e,t,n,s,i=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void Q(e.component.subTree,t,n,s);if(128&u)return void e.suspense.move(t,n,s);if(64&u)return void a.move(e,t,n,ie);if(a===wr){r(o,t,n);for(let e=0;e<c.length;e++)Q(c[e],t,n,s);return void r(e.anchor,t,n)}if(a===kr)return void T(e,t,n);if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(o),r(o,t,n),mr((()=>l.enter(o)),i);else{const{leave:e,delayLeave:s,afterLeave:i}=l,a=()=>r(o,t,n),c=()=>{e(o,(()=>{a(),i&&i()}))};s?s(o,a,c):c()}else r(o,t,n)},Z=(e,t,n,r=!1,s=!1)=>{const{type:i,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&fr(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!xn(e);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&Wr(m,t,e),6&u)te(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&ur(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,s,ie,r):c&&(i!==wr||h>0&&64&h)?ne(c,t,n,!1,!0):(i===wr&&384&h||!s&&16&u)&&ne(l,t,n),r&&J(e)}(f&&(m=o&&o.onVnodeUnmounted)||p)&&mr((()=>{m&&Wr(m,t,e),p&&ur(e,null,t,"unmounted")}),n)},J=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===wr)return void ee(n,r);if(t===kr)return void S(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},ee=(e,t)=>{let n;for(;e!==t;)n=m(e),s(e),e=n;s(t)},te=(e,t,n)=>{const{bum:r,scope:s,update:i,subTree:o,um:a}=e;r&&W(r),s.stop(),i&&(i.active=!1,Z(o,e,t,n)),a&&mr(a,t),mr((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&Ht(e)},ne=(e,t,n,r=!1,s=!1,i=0)=>{for(let o=i;o<e.length;o++)Z(e[o],t,n,r,s)},re=e=>6&e.shapeFlag?re(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),se=(e,t,n)=>{null==e?t._vnode&&Z(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),Ft(),t._vnode=e},ie={p:w,um:Z,m:Q,r:J,mt:U,mc:P,pc:G,pbc:L,n:re,o:e};let ae,le;t&&([ae,le]=t(ie));return{render:se,hydrate:ae,createApp:pr(se,ae)}}(e)}function yr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function gr(e,t,n=!1){const r=e.children,s=t.children;if(k(r)&&k(s))for(let e=0;e<r.length;e++){const t=r[e];let i=s[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=s[e]=Vr(s[e]),i.el=t.el),n||gr(t,i))}}const br=Symbol(),wr=Symbol(void 0),_r=Symbol(void 0),xr=Symbol(void 0),kr=Symbol(void 0),Er=[];let Tr=null;function Sr(e=!1){Er.push(Tr=e?null:[])}let Rr=1;function Cr(e){Rr+=e}function Ar(e){return e.dynamicChildren=Rr>0?Tr||p:null,Er.pop(),Tr=Er[Er.length-1]||null,Rr>0&&Tr&&Tr.push(e),e}function Mr(e,t,n,r,s,i){return Ar(Ir(e,t,n,r,s,i,!0))}function Pr(e,t){return e.type===t.type&&e.key===t.key}const Or="__vInternal",Lr=({key:e})=>null!=e?e:null,Br=({ref:e,ref_key:t,ref_for:n})=>null!=e?R(e)||ht(e)||S(e)?{i:Zt,r:e,k:t,f:!!n}:e:null;function Ir(e,t=null,n=null,r=0,s=null,i=(e===wr?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lr(t),ref:t&&Br(t),scopeId:Jt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(qr(l,n),128&i&&e.normalize(l)):n&&(l.shapeFlag|=R(n)?8:16),Rr>0&&!o&&Tr&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&Tr.push(l),l}const Dr=function(e,t=null,n=null,r=0,s=null,o=!1){e&&e!==br||(e=xr);if(a=e,a&&!0===a.__v_isVNode){const r=Fr(e,t,!0);return n&&qr(r,n),r}var a;(function(e){return S(e)&&"__vccOpts"in e})(e)&&(e=e.__vccOpts);if(t){t=function(e){return e?ot(e)||Or in e?b({},e):e:null}(t);let{class:e,style:n}=t;e&&!R(e)&&(t.class=c(e)),A(n)&&(ot(n)&&!k(n)&&(n=b({},n)),t.style=i(n))}const l=R(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:A(e)?4:S(e)?2:0;return Ir(e,t,n,r,s,l,o,!0)};function Fr(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,l=t?function(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=c([t.class,r.class]));else if("style"===e)t.style=i([t.style,r.style]);else if(y(e)){const n=t[e],s=r[e];!s||n===s||k(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Lr(l),ref:t&&t.ref?n&&s?k(s)?s.concat(Br(t)):[s,Br(t)]:Br(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wr?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fr(e.ssContent),ssFallback:e.ssFallback&&Fr(e.ssFallback),el:e.el,anchor:e.anchor}}function zr(e=" ",t=0){return Dr(_r,null,e,t)}function Ur(e,t){const n=Dr(kr,null,e);return n.staticCount=t,n}function jr(e="",t=!1){return t?(Sr(),function(e,t,n,r,s){return Ar(Dr(e,t,n,r,s,!0))}(xr,null,e)):Dr(xr,null,e)}function Nr(e){return null==e||"boolean"==typeof e?Dr(xr):k(e)?Dr(wr,null,e.slice()):"object"==typeof e?Vr(e):Dr(_r,null,String(e))}function Vr(e){return null===e.el||e.memo?e:Fr(e)}function qr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(k(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),qr(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Or in t?3===r&&Zt&&(1===Zt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Zt}}else S(t)?(t={default:t,_ctx:Zt},n=32):(t=String(t),64&r?(n=16,t=[zr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Wr(e,t,n,r=null){yt(e,t,7,[n,r])}const Kr=e=>e?es(e)?ss(e)||e.proxy:Kr(e.parent):null,Gr=b(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Kr(e.parent),$root:e=>Kr(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?Wn(e):e.type,$forceUpdate:e=>()=>Lt(e.update),$nextTick:e=>Ot.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?dn.bind(e):f}),Hr={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=o[t];if(void 0!==a)switch(a){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(r!==d&&x(r,t))return o[t]=1,r[t];if(s!==d&&x(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&x(c,t))return o[t]=3,i[t];if(n!==d&&x(n,t))return o[t]=4,n[t];__VUE_OPTIONS_API__&&!jn||(o[t]=0)}}const u=Gr[t];let h,p;return u?("$attrs"===t&&de(e,0,t),u(e)):(h=a.__cssModules)&&(h=h[t])?h:n!==d&&x(n,t)?(o[t]=4,n[t]):(p=l.config.globalProperties,x(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return s!==d&&x(s,t)?(s[t]=n,!0):r!==d&&x(r,t)?(r[t]=n,!0):!x(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==d&&x(e,o)||t!==d&&x(t,o)||(a=i[0])&&x(a,o)||x(r,o)||x(Gr,o)||x(s.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?this.set(e,t,n.get(),null):null!=n.value&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},$r=hr();let Xr=0;let Yr=null;const Qr=()=>Yr||Zt,Zr=e=>{Yr=e,e.scope.on()},Jr=()=>{Yr&&Yr.scope.off(),Yr=null};function es(e){return 4&e.vnode.shapeFlag}let ts=!1;function ns(e,t,n){S(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:A(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=ft(t)),rs(e,n)}function rs(e,t,n){const r=e.type;e.render||(e.render=r.render||f),__VUE_OPTIONS_API__&&(Zr(e),ue(),Nn(e),he(),Jr())}function ss(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ft(lt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Gr?Gr[n](e):void 0}))}const is=(e,t)=>function(e,t,n=!1){let r,s;const i=S(e);return i?(r=e,s=f):(r=e.get,s=e.set),new mt(r,s,i||!s,n)}(e,0,ts),os="3.2.31",as="undefined"!=typeof document?document:null,ls=as&&as.createElement("template"),cs={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t?as.createElementNS("http://www.w3.org/2000/svg",e):as.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&s.setAttribute("multiple",r.multiple),s},createText:e=>as.createTextNode(e),createComment:e=>as.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>as.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),s!==i&&(s=s.nextSibling););else{ls.innerHTML=r?`<svg>${e}</svg>`:e;const s=ls.content;if(r){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const us=/\s*!important$/;function hs(e,t,n){if(k(n))n.forEach((n=>hs(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=ps[t];if(n)return n;let r=z(t);if("filter"!==r&&r in e)return ps[t]=r;r=N(r);for(let n=0;n<ds.length;n++){const s=ds[n]+r;if(s in e)return ps[t]=s}return t}(e,t);us.test(n)?e.setProperty(j(r),n.replace(us,""),"important"):e[r]=n}}const ds=["Webkit","Moz","ms"],ps={};const fs="http://www.w3.org/1999/xlink";let ms=Date.now,vs=!1;if("undefined"!=typeof window){ms()>document.createEvent("Event").timeStamp&&(ms=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);vs=!!(e&&Number(e[1])<=53)}let ys=0;const gs=Promise.resolve(),bs=()=>{ys=0};function ws(e,t,n,r,s=null){const i=e._vei||(e._vei={}),o=i[t];if(r&&o)o.value=r;else{const[n,a]=function(e){let t;if(_s.test(e)){let n;for(t={};n=e.match(_s);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[j(e.slice(2)),t]}(t);if(r){const o=i[t]=function(e,t){const n=e=>{const r=e.timeStamp||ms();(vs||r>=n.attached-1)&&yt(function(e,t){if(k(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>ys||(gs.then(bs),ys=ms()))(),n}(r,s);!function(e,t,n,r){e.addEventListener(t,n,r)}(e,n,o,a)}else o&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,o,a),i[t]=void 0)}}const _s=/(?:Once|Passive|Capture)$/;const xs=/^on[a-z]/;Boolean;const ks=b({patchProp:(e,t,n,i,o=!1,a,l,c,u)=>{"class"===t?function(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,o):"style"===t?function(e,t,n){const r=e.style,s=R(n);if(n&&!s){for(const e in n)hs(r,e,n[e]);if(t&&!R(t))for(const e in t)null==n[e]&&hs(r,e,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}(e,n,i):y(t)?g(t)||ws(e,t,0,i,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&xs.test(t)&&S(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(xs.test(t)&&R(n))return!1;return t in e}(e,t,i,o))?function(e,t,n,r,i,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,i,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}if(""===n||null==n){const r=typeof e[t];if("boolean"===r)return void(e[t]=s(n));if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=n}catch(e){}}(e,t,i,a,l,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(fs,t.slice(6,t.length)):e.setAttributeNS(fs,t,n);else{const i=r(t);null==n||i&&!s(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}(e,t,i,o))}},cs);let Es;const Ts=(...e)=>{const t=(Es||(Es=vr(ks))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(R(e)){return document.querySelector(e)}return e}(e);if(!r)return;const s=t._component;S(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};var Ss="https://resources.realitymedia.digital/vue-apps/dist/1a6ace377133f14a.png";const Rs={"xr-layer":"",class:"fade"},Cs=(e=>(tn("data-v-06a9f319"),e=e(),nn(),e))((()=>Ir("p",null," Here's some more text just to make things not blank. ",-1)));var As={props:{msg:String},setup(e){const t=ln("shared");return(n,r)=>(Sr(),Mr(wr,null,[Ir("h1",Rs,u(e.msg),1),Cs,Ir("button",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>dt(t).increment&&dt(t).increment(...e))},"count is: "+u(dt(t).state.count),1)],64))},__scopeId:"data-v-06a9f319"};const Ms={id:"room"},Ps=Ir("img",{"xr-layer":"",alt:"Vue logo",src:Ss},null,-1);var Os={setup(e){let t=ln("params");var n=t&&t.mesg?t.mesg:"Networked Vue Component with Shared Button Count";return(e,t)=>(Sr(),Mr("div",Ms,[Ps,Dr(As,{msg:dt(n)},null,8,["msg"]),jr(' <SomeText msg="Networked Vue Component with Shared Button Count" /> ')]))}};const Ls=[];for(let e=0;e<256;e++)Ls[e]=(e<16?"0":"")+e.toString(16);function Bs(e,t,n){return Math.max(t,Math.min(n,e))}class Is{constructor(e=0,t=0,n=0,r=1){this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}static slerpFlat(e,t,n,r,s,i,o){let a=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=s[i+0],d=s[i+1],p=s[i+2],f=s[i+3];if(0===o)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=f);if(u!==f||a!==h||l!==d||c!==p){let e=1-o;const t=a*h+l*d+c*p+u*f,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const s=Math.sqrt(r),i=Math.atan2(s,t*n);e=Math.sin(e*i)/s,o=Math.sin(o*i)/s}const s=o*n;if(a=a*e+h*s,l=l*e+d*s,c=c*e+p*s,u=u*e+f*s,e===1-o){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,s,i){const o=n[r],a=n[r+1],l=n[r+2],c=n[r+3],u=s[i],h=s[i+1],d=s[i+2],p=s[i+3];return e[t]=o*p+c*u+a*d-l*h,e[t+1]=a*p+c*h+l*u-o*d,e[t+2]=l*p+c*d+o*h-a*u,e[t+3]=c*p-o*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,s=e._z,i=e._order,o=Math.cos,a=Math.sin,l=o(n/2),c=o(r/2),u=o(s/2),h=a(n/2),d=a(r/2),p=a(s/2);switch(i){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],s=t[8],i=t[1],o=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=n+o+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(s-l)*e,this._z=(i-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-a)/e,this._x=.25*e,this._y=(r+i)/e,this._z=(s+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(s-l)/e,this._x=(r+i)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(i-r)/e,this._x=(s+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bs(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,s=e._z,i=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+i*o+r*l-s*a,this._y=r*c+i*a+s*o-n*l,this._z=s*c+i*l+n*a-r*o,this._w=i*c-n*o-r*a-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,s=this._z,i=this._w;let o=i*e._w+n*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=n,this._y=r,this._z=s,this;const a=1-o*o;if(a<=Number.EPSILON){const e=1-t;return this._w=e*i+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=i*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=s*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(s),n*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Is.prototype.isQuaternion=!0;class Ds{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(zs.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(zs.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*r,this.y=s[1]*t+s[4]*n+s[7]*r,this.z=s[2]*t+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,s=e.elements,i=1/(s[3]*t+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*r+s[12])*i,this.y=(s[1]*t+s[5]*n+s[9]*r+s[13])*i,this.z=(s[2]*t+s[6]*n+s[10]*r+s[14])*i,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,s=e.x,i=e.y,o=e.z,a=e.w,l=a*t+i*r-o*n,c=a*n+o*t-s*r,u=a*r+s*n-i*t,h=-s*t-i*n-o*r;return this.x=l*a+h*-s+c*-o-u*-i,this.y=c*a+h*-i+u*-s-l*-o,this.z=u*a+h*-o+l*-i-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r,this.y=s[1]*t+s[5]*n+s[9]*r,this.z=s[2]*t+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,s=e.z,i=t.x,o=t.y,a=t.z;return this.x=r*a-s*o,this.y=s*i-n*a,this.z=n*o-r*i,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Fs.copy(this).projectOnVector(e),this.sub(Fs)}reflect(e){return this.sub(Fs.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Bs(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Ds.prototype.isVector3=!0;const Fs=new Ds,zs=new Is;class Us{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,s,i,o,a,l,c,u,h,d,p,f,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=s,v[5]=i,v[9]=o,v[13]=a,v[2]=l,v[6]=c,v[10]=u,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Us).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/js.setFromMatrixColumn(e,0).length(),s=1/js.setFromMatrixColumn(e,1).length(),i=1/js.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*i,t[9]=n[9]*i,t[10]=n[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,s=e.z,i=Math.cos(n),o=Math.sin(n),a=Math.cos(r),l=Math.sin(r),c=Math.cos(s),u=Math.sin(s);if("XYZ"===e.order){const e=i*c,n=i*u,r=o*c,s=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=n+r*l,t[5]=e-s*l,t[9]=-o*a,t[2]=s-e*l,t[6]=r+n*l,t[10]=i*a}else if("YXZ"===e.order){const e=a*c,n=a*u,r=l*c,s=l*u;t[0]=e+s*o,t[4]=r*o-n,t[8]=i*l,t[1]=i*u,t[5]=i*c,t[9]=-o,t[2]=n*o-r,t[6]=s+e*o,t[10]=i*a}else if("ZXY"===e.order){const e=a*c,n=a*u,r=l*c,s=l*u;t[0]=e-s*o,t[4]=-i*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=i*c,t[9]=s-e*o,t[2]=-i*l,t[6]=o,t[10]=i*a}else if("ZYX"===e.order){const e=i*c,n=i*u,r=o*c,s=o*u;t[0]=a*c,t[4]=r*l-n,t[8]=e*l+s,t[1]=a*u,t[5]=s*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*a,t[10]=i*a}else if("YZX"===e.order){const e=i*a,n=i*l,r=o*a,s=o*l;t[0]=a*c,t[4]=s-e*u,t[8]=r*u+n,t[1]=u,t[5]=i*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-s*u}else if("XZY"===e.order){const e=i*a,n=i*l,r=o*a,s=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+s,t[5]=i*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=s*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Vs,e,qs)}lookAt(e,t,n){const r=this.elements;return Gs.subVectors(e,t),0===Gs.lengthSq()&&(Gs.z=1),Gs.normalize(),Ws.crossVectors(n,Gs),0===Ws.lengthSq()&&(1===Math.abs(n.z)?Gs.x+=1e-4:Gs.z+=1e-4,Gs.normalize(),Ws.crossVectors(n,Gs)),Ws.normalize(),Ks.crossVectors(Gs,Ws),r[0]=Ws.x,r[4]=Ks.x,r[8]=Gs.x,r[1]=Ws.y,r[5]=Ks.y,r[9]=Gs.y,r[2]=Ws.z,r[6]=Ks.z,r[10]=Gs.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,s=this.elements,i=n[0],o=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],v=n[14],y=n[3],g=n[7],b=n[11],w=n[15],_=r[0],x=r[4],k=r[8],E=r[12],T=r[1],S=r[5],R=r[9],C=r[13],A=r[2],M=r[6],P=r[10],O=r[14],L=r[3],B=r[7],I=r[11],D=r[15];return s[0]=i*_+o*T+a*A+l*L,s[4]=i*x+o*S+a*M+l*B,s[8]=i*k+o*R+a*P+l*I,s[12]=i*E+o*C+a*O+l*D,s[1]=c*_+u*T+h*A+d*L,s[5]=c*x+u*S+h*M+d*B,s[9]=c*k+u*R+h*P+d*I,s[13]=c*E+u*C+h*O+d*D,s[2]=p*_+f*T+m*A+v*L,s[6]=p*x+f*S+m*M+v*B,s[10]=p*k+f*R+m*P+v*I,s[14]=p*E+f*C+m*O+v*D,s[3]=y*_+g*T+b*A+w*L,s[7]=y*x+g*S+b*M+w*B,s[11]=y*k+g*R+b*P+w*I,s[15]=y*E+g*C+b*O+w*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],s=e[12],i=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+s*a*u-r*l*u-s*o*h+n*l*h+r*o*d-n*a*d)+e[7]*(+t*a*d-t*l*h+s*i*h-r*i*d+r*l*c-s*a*c)+e[11]*(+t*l*u-t*o*d-s*i*u+n*i*d+s*o*c-n*l*c)+e[15]*(-r*o*c-t*a*u+t*o*h+r*i*u-n*i*h+n*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],v=e[15],y=u*m*l-f*h*l+f*a*d-o*m*d-u*a*v+o*h*v,g=p*h*l-c*m*l-p*a*d+i*m*d+c*a*v-i*h*v,b=c*f*l-p*u*l+p*o*d-i*f*d-c*o*v+i*u*v,w=p*u*a-c*f*a-p*o*h+i*f*h+c*o*m-i*u*m,_=t*y+n*g+r*b+s*w;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=y*x,e[1]=(f*h*s-u*m*s-f*r*d+n*m*d+u*r*v-n*h*v)*x,e[2]=(o*m*s-f*a*s+f*r*l-n*m*l-o*r*v+n*a*v)*x,e[3]=(u*a*s-o*h*s-u*r*l+n*h*l+o*r*d-n*a*d)*x,e[4]=g*x,e[5]=(c*m*s-p*h*s+p*r*d-t*m*d-c*r*v+t*h*v)*x,e[6]=(p*a*s-i*m*s-p*r*l+t*m*l+i*r*v-t*a*v)*x,e[7]=(i*h*s-c*a*s+c*r*l-t*h*l-i*r*d+t*a*d)*x,e[8]=b*x,e[9]=(p*u*s-c*f*s-p*n*d+t*f*d+c*n*v-t*u*v)*x,e[10]=(i*f*s-p*o*s+p*n*l-t*f*l-i*n*v+t*o*v)*x,e[11]=(c*o*s-i*u*s-c*n*l+t*u*l+i*n*d-t*o*d)*x,e[12]=w*x,e[13]=(c*f*r-p*u*r+p*n*h-t*f*h-c*n*m+t*u*m)*x,e[14]=(p*o*r-i*f*r-p*n*a+t*f*a+i*n*m-t*o*m)*x,e[15]=(i*u*r-c*o*r+c*n*a-t*u*a-i*n*h+t*o*h)*x,this}scale(e){const t=this.elements,n=e.x,r=e.y,s=e.z;return t[0]*=n,t[4]*=r,t[8]*=s,t[1]*=n,t[5]*=r,t[9]*=s,t[2]*=n,t[6]*=r,t[10]*=s,t[3]*=n,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),s=1-n,i=e.x,o=e.y,a=e.z,l=s*i,c=s*o;return this.set(l*i+n,l*o-r*a,l*a+r*o,0,l*o+r*a,c*o+n,c*a-r*i,0,l*a-r*o,c*a+r*i,s*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,s,i){return this.set(1,n,s,0,e,1,i,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,s=t._x,i=t._y,o=t._z,a=t._w,l=s+s,c=i+i,u=o+o,h=s*l,d=s*c,p=s*u,f=i*c,m=i*u,v=o*u,y=a*l,g=a*c,b=a*u,w=n.x,_=n.y,x=n.z;return r[0]=(1-(f+v))*w,r[1]=(d+b)*w,r[2]=(p-g)*w,r[3]=0,r[4]=(d-b)*_,r[5]=(1-(h+v))*_,r[6]=(m+y)*_,r[7]=0,r[8]=(p+g)*x,r[9]=(m-y)*x,r[10]=(1-(h+f))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let s=js.set(r[0],r[1],r[2]).length();const i=js.set(r[4],r[5],r[6]).length(),o=js.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Ns.copy(this);const a=1/s,l=1/i,c=1/o;return Ns.elements[0]*=a,Ns.elements[1]*=a,Ns.elements[2]*=a,Ns.elements[4]*=l,Ns.elements[5]*=l,Ns.elements[6]*=l,Ns.elements[8]*=c,Ns.elements[9]*=c,Ns.elements[10]*=c,t.setFromRotationMatrix(Ns),n.x=s,n.y=i,n.z=o,this}makePerspective(e,t,n,r,s,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*s/(t-e),l=2*s/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),h=-(i+s)/(i-s),d=-2*i*s/(i-s);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,n,r,s,i){const o=this.elements,a=1/(t-e),l=1/(n-r),c=1/(i-s),u=(t+e)*a,h=(n+r)*l,d=(i+s)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}Us.prototype.isMatrix4=!0;const js=new Ds,Ns=new Us,Vs=new Ds(0,0,0),qs=new Ds(1,1,1),Ws=new Ds,Ks=new Ds,Gs=new Ds;function Hs(e,t,n,r=0){r++;for(let s=(e=e.shadowRoot||e).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const e=s.assignedElements?.({flatten:!0});if(e)for(const i of e)t.call(n,i,r)&&Hs(s,t,n,r);t.call(n,s,r)&&Hs(s,t,n,r)}}class $s{left=0;top=0;width=0;height=0;copy(e){return this.top=e.top,this.left=e.left,this.width=e.width,this.height=e.height,this}}class Xs{left=0;top=0;right=0;bottom=0;copy(e){return this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom,this}}function Ys(e,t=new $s,n){const r=e.ownerDocument,s=r.documentElement,i=r.body;if(e===s)return function(e,t){const n=e.documentElement,r=e.body,s=getComputedStyle(n),i=getComputedStyle(r);return t.top=r.offsetTop+parseFloat(s.marginTop)||0+parseFloat(i.marginTop)||0,t.left=r.offsetLeft+parseFloat(s.marginLeft)||0+parseFloat(i.marginLeft)||0,t.width=Math.max(Math.max(r.scrollWidth,n.scrollWidth),Math.max(r.offsetWidth,n.offsetWidth),Math.max(r.clientWidth,n.clientWidth)),t.height=Math.max(Math.max(r.scrollHeight,n.scrollHeight),Math.max(r.offsetHeight,n.offsetHeight),Math.max(r.clientHeight,n.clientHeight)),t}(r,t);if(n===e)return t.left=0,t.top=0,t.width=e.offsetWidth,void(t.height=e.offsetHeight);const o=e.ownerDocument.defaultView;let a,l=e,c=l.offsetParent,u=o.getComputedStyle(l,null),h=l.offsetTop,d=l.offsetLeft;for(c&&n&&(c.contains(n)||c.contains(n.getRootNode().host))&&c!==n&&(Ys(n,t,c),d-=t.left,h-=t.top);(l=l.parentElement)&&l!==i&&l!==s&&l!==n&&"fixed"!==u.position;)a=o.getComputedStyle(l,null),h-=l.scrollTop,d-=l.scrollLeft,l===c&&(h+=l.offsetTop,d+=l.offsetLeft,h+=parseFloat(a.borderTopWidth)||0,d+=parseFloat(a.borderLeftWidth)||0,c=l.offsetParent),u=a;return"fixed"===u.position&&(h+=Math.max(s.scrollTop,i.scrollTop),d+=Math.max(s.scrollLeft,i.scrollLeft)),t.left=d,t.top=h,t.width=e.offsetWidth,t.height=e.offsetHeight,t}const Qs=document.createElement("div");Qs.id="VIEWPORT",Qs.style.position="fixed",Qs.style.width="100vw",Qs.style.height="100vh",Qs.style.visibility="hidden",Qs.style.pointerEvents="none";const Zs=function(e,t){const n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),n.dataset.downloadurl=["application/octet-stream",n.download,n.href].join(":"),n.click()},Js=new Us,ei=new Us;class ti{manager;element;eventCallback;isMediaElement=!1;isVideoElement=!1;isCanvasElement=!1;constructor(e,t,n){if(this.manager=e,this.element=t,this.eventCallback=n,!e)throw new Error("WebLayerManager must be initialized");qi.layers.set(t,this),t.setAttribute(qi.LAYER_ATTRIBUTE,""),this.parentLayer=qi.getClosestLayer(this.element,!1),this.isVideoElement="VIDEO"===t.nodeName,this.isMediaElement=this.isVideoElement||"IMG"===t.nodeName||"CANVAS"===t.nodeName,this.eventCallback("layercreated",{target:t})}desiredPseudoState={hover:!1,active:!1,focus:!1,target:!1};needsRefresh=!0;setNeedsRefresh(e=!1){if(this.needsRefresh=!0,e)for(const t of this.childLayers)t.setNeedsRefresh(e)}needsRemoval=!1;parentLayer;childLayers=[];set pixelRatio(e){"number"==typeof e?this.element.setAttribute(qi.PIXEL_RATIO_ATTRIBUTE,e.toString()):this.element.removeAttribute(qi.PIXEL_RATIO_ATTRIBUTE)}get pixelRatio(){const e=this.element.getAttribute(qi.PIXEL_RATIO_ATTRIBUTE);return e?parseFloat(e):null}get computedPixelRatio(){return this.pixelRatio??this.parentLayer?.computedPixelRatio??1}allStateHashes=new Set;previousDOMStateKey;desiredDOMStateKey;currentDOMStateKey;lastSVGUrl;get previousDOMState(){return this.previousDOMStateKey?this.manager.getLayerState(this.previousDOMStateKey):void 0}get desiredDOMState(){return this.desiredDOMStateKey?this.manager.getLayerState(this.desiredDOMStateKey):void 0}get currentDOMState(){return this.currentDOMStateKey?this.manager.getLayerState(this.currentDOMStateKey):void 0}domMetrics={bounds:new $s,padding:new Xs,margin:new Xs,border:new Xs};get depth(){let e=0,t=this;for(;t.parentLayer;)t=t.parentLayer,e++;return e}get rootLayer(){let e=this;for(;e.parentLayer;)e=e.parentLayer;return e}traverseParentLayers(e){const t=this.parentLayer;t&&(t.traverseParentLayers(e),e(t))}traverseLayers(e){e(this),this.traverseChildLayers(e)}traverseChildLayers(e){for(const t of this.childLayers)t.traverseLayers(e)}update(){if(this.desiredDOMStateKey!==this.currentDOMStateKey){const e=this.desiredDOMState;e&&(this.isMediaElement||e.texture?.ktx2Url||e.texture?.canvas||e.fullWidth*e.fullHeight==0)&&(this.currentDOMStateKey=this.desiredDOMStateKey)}const e=this.previousDOMState?.texture?.ktx2Url??this.previousDOMState?.texture?.canvas,t=this.currentDOMState?.texture?.ktx2Url??this.previousDOMState?.texture?.canvas;t&&e!==t&&this.eventCallback("layerpainted",{target:this.element}),this.previousDOMStateKey=this.currentDOMStateKey}async refresh(){this.needsRefresh=!1,this._updateParentAndChildLayers();const e=await this.manager.addToSerializeQueue(this);e.needsRasterize&&"string"==typeof e.stateKey&&e.svgUrl&&await this.manager.addToRasterizeQueue(e.stateKey,e.svgUrl)}_updateParentAndChildLayers(){const e=this.element,t=this.childLayers,n=t.slice(),r=this.parentLayer;this.parentLayer=qi.getClosestLayer(this.element,!1),r!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:e})),t.length=0,Hs(e,this._tryConvertElementToWebLayer,this);for(const e of n){qi.getClosestLayer(e.element,!1)||(e.needsRemoval=!0,t.push(e))}}_tryConvertElementToWebLayer(e){if(this.needsRemoval)return!1;const t=e,n=getComputedStyle(t);if(t.hasAttribute(qi.LAYER_ATTRIBUTE)||"VIDEO"===t.nodeName||"none"!==n.transform){let e=qi.layers.get(t);return e||(e=new ti(this.manager,t,this.eventCallback)),this.childLayers.push(e),!1}return!0}}var ni,ri=[],si="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(ni||(ni={}));var ii,oi=function(e){return Object.freeze(e)},ai=function(e,t){this.inlineSize=e,this.blockSize=t,oi(this)},li=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,oi(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ci=function(e){return e instanceof SVGElement&&"getBBox"in e},ui=function(e){if(ci(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var s=e,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||e.getClientRects().length)},hi=function(e){var t,n;if(e instanceof Element)return!0;var r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},di="undefined"!=typeof window?window:{},pi=new WeakMap,fi=/auto|scroll/,mi=/^tb|vertical/,vi=/msie|trident/i.test(di.navigator&&di.navigator.userAgent),yi=function(e){return parseFloat(e||"0")},gi=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new ai((n?t:e)||0,(n?e:t)||0)},bi=oi({devicePixelContentBoxSize:gi(),borderBoxSize:gi(),contentBoxSize:gi(),contentRect:new li(0,0,0,0)}),wi=function(e,t){if(void 0===t&&(t=!1),pi.has(e)&&!t)return pi.get(e);if(ui(e))return pi.set(e,bi),bi;var n=getComputedStyle(e),r=ci(e)&&e.ownerSVGElement&&e.getBBox(),s=!vi&&"border-box"===n.boxSizing,i=mi.test(n.writingMode||""),o=!r&&fi.test(n.overflowY||""),a=!r&&fi.test(n.overflowX||""),l=r?0:yi(n.paddingTop),c=r?0:yi(n.paddingRight),u=r?0:yi(n.paddingBottom),h=r?0:yi(n.paddingLeft),d=r?0:yi(n.borderTopWidth),p=r?0:yi(n.borderRightWidth),f=r?0:yi(n.borderBottomWidth),m=h+c,v=l+u,y=(r?0:yi(n.borderLeftWidth))+p,g=d+f,b=a?e.offsetHeight-g-e.clientHeight:0,w=o?e.offsetWidth-y-e.clientWidth:0,_=s?m+y:0,x=s?v+g:0,k=r?r.width:yi(n.width)-_-w,E=r?r.height:yi(n.height)-x-b,T=k+m+w+y,S=E+v+b+g,R=oi({devicePixelContentBoxSize:gi(Math.round(k*devicePixelRatio),Math.round(E*devicePixelRatio),i),borderBoxSize:gi(T,S,i),contentBoxSize:gi(k,E,i),contentRect:new li(h,l,k,E)});return pi.set(e,R),R},_i=function(e,t,n){var r=wi(e,n),s=r.borderBoxSize,i=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case ni.DEVICE_PIXEL_CONTENT_BOX:return o;case ni.BORDER_BOX:return s;default:return i}},xi=function(e){var t=wi(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=oi([t.borderBoxSize]),this.contentBoxSize=oi([t.contentBoxSize]),this.devicePixelContentBoxSize=oi([t.devicePixelContentBoxSize])},ki=function(e){if(ui(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Ei=function(){var e=1/0,t=[];ri.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new xi(t.target),s=ki(t.target);r.push(n),t.lastReportedSize=_i(t.target,t.observedBox),s<e&&(e=s)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},Ti=function(e){ri.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(ki(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},Si=function(){var e,t=0;for(Ti(t);ri.some((function(e){return e.activeTargets.length>0}));)t=Ei(),Ti(t);return ri.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:si}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=si),window.dispatchEvent(e)),t>0},Ri=[],Ci=function(e){if(!ii){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Ri.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),ii=function(){n.textContent=""+(t?t--:t++)}}Ri.push(e),ii()},Ai=0,Mi={attributes:!0,characterData:!0,childList:!0,subtree:!0},Pi=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Oi=function(e){return void 0===e&&(e=0),Date.now()+e},Li=!1,Bi=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Li){Li=!0;var n,r=Oi(e);n=function(){var n=!1;try{n=Si()}finally{if(Li=!1,e=r-Oi(),!Ai)return;n?t.run(1e3):e>0?t.run(e):t.start()}},Ci((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Mi)};document.body?t():di.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Pi.forEach((function(t){return di.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Pi.forEach((function(t){return di.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),Ii=function(e){!Ai&&e>0&&Bi.start(),!(Ai+=e)&&Bi.stop()},Di=function(){function e(e,t){this.target=e,this.observedBox=t||ni.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=_i(this.target,this.observedBox,!0);return function(e){return!ci(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),Fi=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},zi=new WeakMap,Ui=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},ji=function(){function e(){}return e.connect=function(e,t){var n=new Fi(e,t);zi.set(e,n)},e.observe=function(e,t,n){var r=zi.get(e),s=0===r.observationTargets.length;Ui(r.observationTargets,t)<0&&(s&&ri.push(r),r.observationTargets.push(new Di(t,n&&n.box)),Ii(1),Bi.schedule())},e.unobserve=function(e,t){var n=zi.get(e),r=Ui(n.observationTargets,t),s=1===n.observationTargets.length;r>=0&&(s&&ri.splice(ri.indexOf(n),1),n.observationTargets.splice(r,1),Ii(-1))},e.disconnect=function(e){var t=this,n=zi.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Ni=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ji.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!hi(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ji.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!hi(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ji.unobserve(this,e)},e.prototype.disconnect=function(){ji.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Vi=self.ResizeObserver||Ni;class qi{static ATTRIBUTE_PREFIX="xr";static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static serializer=new XMLSerializer;static textEncoder=new TextEncoder;static getPsuedoAttributes(e){return(e.hover?`${this.HOVER_ATTRIBUTE}="" `:" ")+(e.focus?`${this.FOCUS_ATTRIBUTE}="" `:" ")+(e.active?`${this.ACTIVE_ATTRIBUTE}="" `:" ")+(e.target?`${this.TARGET_ATTRIBUTE}="" `:" ")}static rootLayers=new Map;static layers=new Map;static focusElement=null;static activeElement=null;static targetElement=null;static mutationObservers=new Map;static resizeObservers=new Map;static rootNodeObservers=new Map;static containerStyleElement;static dataURLMap=new Map;static embeddedCSSMap=new Map;static embeddedStyles=new Map;static fontStyles=new Map;static initRootNodeObservation(e){const t=e.ownerDocument,n=e.getRootNode(),r="head"in n?n.head:n;if(this.rootNodeObservers.get(n))return;if(!this.containerStyleElement){const e=this.containerStyleElement=t.createElement("style");t.head.appendChild(e),e.innerHTML=`\n        [${qi.RENDERING_CONTAINER_ATTRIBUTE}] {\n          all: initial;\n          position: fixed;\n          width: 100%;\n          height: 100%;\n          top: 0px;\n        }\n      `}const s=`\n    a {\n      color: blue;\n      text-decoration: underline;\n    }\n\n    :host > [${qi.LAYER_ATTRIBUTE}] {\n      display: flow-root;\n    }\n\n    [${qi.RENDERING_DOCUMENT_ATTRIBUTE}] * {\n      transform: none !important;\n    }\n\n    [${qi.RENDERING_ATTRIBUTE}], [${qi.RENDERING_ATTRIBUTE}] * {\n      visibility: visible !important;\n      /* the following is a hack for Safari; \n      without some kind of css filter active, \n      any box-shadow effect will fail to rasterize properly */\n      filter: opacity(1);\n    }\n    \n    [${qi.RENDERING_ATTRIBUTE}] [${qi.LAYER_ATTRIBUTE}], [${qi.RENDERING_ATTRIBUTE}] [${qi.LAYER_ATTRIBUTE}] * {\n      visibility: hidden !important;\n    }\n\n    [${qi.RENDERING_ATTRIBUTE}] {\n      position: relative !important;\n      top: 0 !important;\n      left: 0 !important;\n      float: left !important; /* prevent margin-collapse in SVG foreign-element for Webkit */\n      box-sizing:border-box;\n      min-width:var(--x-width);\n      min-height:var(--x-height);\n    }\n\n    [${qi.RENDERING_PARENT_ATTRIBUTE}] {\n      transform: none !important;\n      left: 0 !important;\n      top: 0 !important;\n      margin: 0 !important;\n      border:0 !important;\n      border-radius:0 !important;\n      width: 100% !important;\n      height:100% !important;\n      padding:0 !important;\n      visibility:hidden !important;\n      filter:none !important;\n    }\n    \n    [${qi.RENDERING_PARENT_ATTRIBUTE}]::before, [${qi.RENDERING_PARENT_ATTRIBUTE}]::after {\n      content:none !important;\n      box-shadow:none !important;\n    }\n    `,i=t.createElement("style");if(i.textContent=s,r.append(i),n===t){let e="";const t=()=>{if(e!=window.location.hash&&window.location.hash)try{this.targetElement=n.querySelector(window.location.hash)}catch{}e=window.location.hash};window.addEventListener("hashchange",t,!1),t(),window.addEventListener("focusin",(e=>{this.focusElement=e.target}),!1),window.addEventListener("focusout",(e=>{this.focusElement=null}),!1),window.addEventListener("load",(e=>{o()}))}const o=()=>{for(const[e,t]of this.layers)t.needsRefresh=!0},a=e=>{var t=e.nodeName.toUpperCase();-1!==l.indexOf(t)&&e.addEventListener("load",o)},l=["STYLE","LINK"],c=new MutationObserver((e=>{for(const t of e){-1!==l.indexOf(t.target.nodeName.toUpperCase())&&(o(),this.embeddedStyles.delete(t.target));for(const e of t.addedNodes)a(e)}}));c.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(n,c)}static setLayerNeedsRefresh(e){e.needsRefresh=!0}static createLayerTree(e,t,n){if(qi.getClosestLayer(e))throw new Error("A root WebLayer for the given element already exists");const r=function(e,t){if(document.contains(e))return e;const n=document.createElement("div");return n.id=e.id?"container-"+e.id:"",n.setAttribute(qi.RENDERING_CONTAINER_ATTRIBUTE,""),n.style.visibility="hidden",n.style.pointerEvents="none",n.style.touchAction="none",n.attachShadow({mode:"open"}).appendChild(e),document.documentElement.appendChild(n),n}(e);qi.initRootNodeObservation(e);const s=new MutationObserver(qi._handleMutations);this.mutationObservers.set(e,s),this.startMutationObserver(e);const i=new Vi((e=>{for(const t of e){const e=this.getClosestLayer(t.target);e.traverseLayers(qi.setLayerNeedsRefresh),e.traverseParentLayers(qi.setLayerNeedsRefresh)}}));i.observe(e),this.resizeObservers.set(e,i),e.addEventListener("input",this._triggerRefresh,{capture:!0}),e.addEventListener("keydown",this._triggerRefresh,{capture:!0}),e.addEventListener("submit",this._triggerRefresh,{capture:!0}),e.addEventListener("change",this._triggerRefresh,{capture:!0}),e.addEventListener("focus",this._triggerRefresh,{capture:!0}),e.addEventListener("blur",this._triggerRefresh,{capture:!0}),e.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const o=new ti(t.manager,e,n);return this.rootLayers.set(e,o),r}static disposeLayer(e){if(this.rootLayers.has(e.element)){this.rootLayers.delete(e.element);this.mutationObservers.get(e.element).disconnect(),this.mutationObservers.delete(e.element);this.resizeObservers.get(e.element).disconnect(),this.resizeObservers.delete(e.element),e.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0})}}static getClosestLayer(e,t=!0){const n=(t?e:e.parentElement)?.closest(`[${qi.LAYER_ATTRIBUTE}]`);if(!n){const n=e?.getRootNode().host;if(n)return this.getClosestLayer(n,t)}return this.layers.get(n)}static pauseMutationObservers(){const e=qi.mutationObservers.values();for(const t of e)qi._handleMutations(t.takeRecords()),t.disconnect()}static resumeMutationObservers(){for(const[e]of qi.mutationObservers)this.startMutationObserver(e)}static startMutationObserver(e){qi.mutationObservers.get(e).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0})}static _handleMutations=e=>{for(const t of e){if("attributes"===t.type){if(t.target.getAttribute(t.attributeName)===t.oldValue)continue}if("characterData"===t.type){const e=t.target;if(e.data===t.oldValue)continue;if("style"===e.parentElement?.tagName.toLowerCase()){const t=e.parentElement;t.getRootNode(),this.embeddedStyles.delete(t)}}const e=t.target.nodeType===Node.ELEMENT_NODE?t.target:t.target.parentElement;if(!e)continue;const n=qi.getClosestLayer(e);if(n){if("attributes"===t.type&&"class"===t.attributeName){if((t.oldValue?t.oldValue:"")===t.target.className)continue}n.parentLayer?n.parentLayer.traverseChildLayers(qi.setLayerNeedsRefresh):n.traverseLayers(qi.setLayerNeedsRefresh)}}};static _triggerRefresh=async e=>{const t=qi.getClosestLayer(e.target);t&&(t.parentLayer?t.parentLayer.traverseChildLayers(qi.setLayerNeedsRefresh):t.traverseLayers(qi.setLayerNeedsRefresh))};static arrayBufferToBase64(e){for(var t="",n=e.byteLength,r=0;r<n;r++)t+=String.fromCharCode(e[r]);return window.btoa(t)}static attributeCSS(e,t){return t?`[${e}]=${t}`:`[${e}]`}static attributeHTML(e,t){return t?`${e}="${t}"`:`${e}=""`}static updateInputAttributes(e){e.matches("input")&&this._updateInputAttribute(e);for(const t of e.getElementsByTagName("input"))this._updateInputAttribute(t)}static _updateInputAttribute(e){e.hasAttribute("checked")?e.checked||e.removeAttribute("checked"):e.checked&&e.setAttribute("checked",""),e.getAttribute("value")!==e.value&&e.setAttribute("value",e.value)}static isBlankImage(e){return!new Uint32Array(e.buffer).some((e=>0!==e))}}const Wi=Symbol("ON_BEFORE_UPDATE"),Ki=new t.Vector3;class Gi extends t.Object3D{element;container;static GEOMETRY=new t.PlaneGeometry(1,1,2,2);static FLIPPED_GEOMETRY=function(e){const t=e.attributes.uv;for(let e=0;e<t.count;e++)t.setY(e,1-t.getY(e));return e}(new t.PlaneGeometry(1,1,2,2));static shouldApplyDOMLayout(e){const t=e.shouldApplyDOMLayout;return"always"===t||!0===t||"never"!==t&&!1!==t&&!("auto"!==t||!e.parentWebLayer||e.parent!==e.parentWebLayer)}_camera;constructor(e,n){super(),this.element=e,this.container=n,this.name=e.id,this._webLayer=qi.getClosestLayer(e),e.layer=this;const r=this._webLayer.isMediaElement?Gi.GEOMETRY:Gi.FLIPPED_GEOMETRY;this.contentMesh=new t.Mesh(r,new t.MeshBasicMaterial({side:t.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1,toneMapped:!1})),this._boundsMesh=new t.Mesh(r,new t.MeshBasicMaterial({visible:!1})),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(e,t,n)=>{this._camera=n},this._boundsMesh.matrixAutoUpdate=!0,this.container.options.manager.layersByElement.set(this.element,this),this.container.options.manager.layersByMesh.set(this.contentMesh,this)}_webLayer;_localZ=0;_viewZ=0;_renderZ=0;_mediaSrc;_mediaTexture;textures=new Set;_previousTexture;_textureMap=new Map;get allStateHashes(){return this._webLayer.allStateHashes}get domState(){return this._webLayer.currentDOMState}get texture(){const e=this.container.manager,n=this._webLayer;if(n.isMediaElement){const r=this.element;let s=this._mediaTexture;return(!s||s.image&&r.src!==s.image.src)&&(s&&s.dispose(),s=n.isVideoElement?new t.VideoTexture(r):n.isCanvasElement?new t.CanvasTexture(r):(new t.TextureLoader).load(r.src),s.wrapS=t.ClampToEdgeWrapping,s.wrapT=t.ClampToEdgeWrapping,s.minFilter=t.LinearFilter,e.textureEncoding&&(s.encoding=e.textureEncoding),this._mediaTexture=s),s}const r=this._webLayer.currentDOMState?.texture?.hash;if(r){this._textureMap.has(r)||this._textureMap.set(r,{});const t=e.getTexture(r),n=this._textureMap.get(r);return t.compressedTexture&&!n.compressedTexture&&(n.canvasTexture?.dispose(),n.canvasTexture=void 0,n.compressedTexture=t.compressedTexture.clone(),n.compressedTexture.needsUpdate=!0),t.canvasTexture&&!n.canvasTexture&&(n.canvasTexture=t.canvasTexture.clone(),n.canvasTexture.needsUpdate=!0),n.compressedTexture??n.canvasTexture}}contentMesh;_boundsMesh;cursor=new t.Object3D;depthMaterial=new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking,alphaTest:.001});domLayout=new t.Object3D;domSize=new t.Vector3(1,1,1);get desiredPseudoStates(){return this._webLayer.desiredPseudoState}get pseudoStates(){return this._webLayer.currentDOMState?.pseudo}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(e=!0){this._webLayer.setNeedsRefresh(e)}get needsRemoval(){return this._webLayer.needsRemoval}bounds=new $s;margin=new Xs;get parentWebLayer(){return this._webLayer.parentLayer&&this.container.manager.layersByElement.get(this._webLayer.parentLayer.element)}childWebLayers=[];shouldApplyDOMLayout="auto";async refresh(e=!1){const t=[];t.push(this._webLayer.refresh()),this.childWebLayers.length=0;for(const n of this._webLayer.childLayers){const r=this.container.manager.layersByElement.get(qi.getClosestLayer(n.element)?.element);r&&(this.childWebLayers.push(r),e&&t.push(r.refresh(e)))}return Promise.all(t).then((()=>{}))}updateLayout(){if(this._updateDOMLayout(),this._camera){this._localZ=Math.abs(Ki.setFromMatrixPosition(this.matrix).z+Ki.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Ki).applyMatrix4(this._camera.matrixWorldInverse).z);let e=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=e:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.container.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index)}}updateContent(){if(this.parentWebLayer&&!this.parentWebLayer.domLayout)return;const e=this.contentMesh,t=this.texture,n=e.material;if(t&&n.map!==t){const e=this.contentMesh.scale,r=Math.abs(e.x*this.scale.x/e.y*this.scale.y),s=this.domSize.x/this.domSize.y;Math.abs(s-r)<1e3&&(n.map=t,this.depthMaterial.map=t,n.needsUpdate=!0,this.depthMaterial.needsUpdate=!0)}const r=e.material,s=r.opacity<.005;s?e.visible=!1:r.map&&(e.visible=!0),this.needsRemoval&&s&&(this.parent&&this.parent.remove(this),this.dispose()),this._refreshMediaBounds()}[Wi](){}_doUpdate(){this[Wi](),this.updateContent(),this.updateLayout(),Gi.shouldApplyDOMLayout(this)&&(this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale)),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.container.options.autoRefresh&&this.refresh(),this._previousTexture!==this.texture&&(this.texture&&this.container.manager.renderer.initTexture(this.texture),this._previousTexture=this.texture,this.container.options.onLayerPaint?.(this)),this._webLayer.update(),this.container.manager.scheduleTasksIfNeeded()}get pixelRatio(){return this._webLayer.pixelRatio}set pixelRatio(e){this._webLayer.pixelRatio=e}get computedPixelRatio(){return this._webLayer.computedPixelRatio}update(e=!1){e?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate()}querySelector(e){const t=this.element.querySelector(e)||this.element.shadowRoot?.querySelector(e);if(t)return this.container.manager.layersByElement.get(t)}querySelectorAll(e){const t=this.element.querySelectorAll(e)||this.element.shadowRoot?.querySelectorAll(e);return Array.from(t).map((e=>this.container.manager.layersByElement.get(e))).filter((e=>e))}traverseLayerAncestors(e){const t=this.parentWebLayer;t&&(t.traverseLayerAncestors(e),e.call(this,t))}traverseLayersPreOrder(e){if(!1===e.call(this,this))return!1;for(const t of this.childWebLayers)if(!1===t.traverseLayersPreOrder(e))return!1;return!0}traverseLayersPostOrder(e){for(const t of this.childWebLayers)if(!1===t.traverseLayersPostOrder(e))return!1;return e.call(this,this)||!0}dispose(){qi.disposeLayer(this._webLayer);for(const e of this.textures)e.dispose();for(const e of this.childWebLayers)e.dispose()}_refreshMediaBounds(){if(this._webLayer.isMediaElement){const e=this._webLayer.isVideoElement,t=this.domState;if(!t)return;const n=this.element,r=this.texture,s=getComputedStyle(this.element),{objectFit:i}=s,{width:o,height:a}=this.bounds.copy(t.bounds),l=e?n.videoWidth:n.naturalWidth,c=e?n.videoHeight:n.naturalHeight,u=l/c,h=o/a;switch(r.center.set(.5,.5),i){case"none":r.repeat.set(o/l,a/c).clampScalar(0,1);break;case"contain":case"scale-down":if(r.repeat.set(1,1),h>u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;case"cover":if(r.repeat.set(o/l,a/c),h<u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;default:r.repeat.set(1,1)}t.bounds.copy(this.bounds)}}_updateDOMLayout(){if(this.needsRemoval)return;const e=this._webLayer.currentDOMState;if(!e)return;const{bounds:t,margin:n,cssTransform:r}=e,s=this._webLayer.isMediaElement;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const i=this.bounds.copy(t),o=this.margin.copy(n),a=i.width,l=i.height,c=s?0:o.left,u=s?0:o.right,h=s?0:o.top,d=a+c+u,p=l+h+(s?0:o.bottom),f=1/this.container.manager.pixelsPerMeter;this.domSize.set(Math.max(f*d,1e-5),Math.max(f*p,1e-5),1);const m=this.parentWebLayer;if(!m)return;const v=m.bounds,y=m.margin,g=v.width+y.left+y.right,b=v.height+y.bottom+y.top,w=-g/2+y.left,_=b/2-y.top;this.domLayout.position.set(f*(w+d/2+i.left-c),f*(_-p/2-i.top+h),0),r&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(r),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale))}}class Hi{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:t,msg:n,transfer:r}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,r)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const $i=new WeakMap;let Xi=0;class Yi extends t.Loader{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Hi,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}init(){if(!this.transcoderPending){const e=new t.FileLoader(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const n=e.loadAsync("basis_transcoder.js"),r=new t.FileLoader(this.manager);r.setPath(this.transcoderPath),r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const s=r.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,s]).then((([e,t])=>{const n=Yi.BasisWorker.toString(),r=["/* constants */","let _EngineFormat = "+JSON.stringify(Yi.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Yi.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Yi.BasisFormat),"/* basis_transcoder.js */",e,"/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r])),this.transcoderBinary=t,this.workerPool.setWorkerCreator((()=>{const e=new Worker(this.workerSourceURL),t=this.transcoderBinary.slice(0);return e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:t},[t]),e}))})),Xi>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Xi++}return this.transcoderPending}load(e,n,r,s){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new t.FileLoader(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const o=new t.CompressedTexture;return i.load(e,(e=>{if($i.has(e)){return $i.get(e).promise.then(n).catch(s)}this._createTexture([e]).then((function(e){o.copy(e),o.needsUpdate=!0,n&&n(o)})).catch(s)}),r,s),o}_createTextureFrom(e){const{mipmaps:n,width:r,height:s,format:i,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=e;if("error"===o)return Promise.reject(a);const u=new t.CompressedTexture(n,r,s,i,t.UnsignedByteType);return u.minFilter=1===n.length?t.LinearFilter:t.LinearMipmapLinearFilter,u.magFilter=t.LinearFilter,u.generateMipmaps=!1,u.needsUpdate=!0,u.encoding=2===l?t.sRGBEncoding:t.LinearEncoding,u.premultiplyAlpha=!!(1&c),u}_createTexture(e,t={}){const n=t,r=this.init().then((()=>this.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:n},e))).then((e=>this._createTextureFrom(e.data)));return $i.set(e[0],{promise:r}),r}dispose(){return URL.revokeObjectURL(this.workerSourceURL),this.workerPool.dispose(),Xi--,this}}Yi.BasisFormat={ETC1S:0,UASTC_4x4:1},Yi.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},Yi.EngineFormat={RGBAFormat:t.RGBAFormat,RGBA_ASTC_4x4_Format:t.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:t.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:t.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:t.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:t.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:t.RGB_ETC1_Format,RGB_ETC2_Format:t.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:t.RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format:t.RGB_S3TC_DXT1_Format},Yi.BasisWorker=function(){let e,t,n;const r=_EngineFormat,s=_TranscoderFormat,i=_BasisFormat;self.addEventListener("message",(function(o){const u=o.data;switch(u.type){case"init":e=u.config,h=u.transcoderBinary,t=new Promise((e=>{n={wasmBinary:h,onRuntimeInitialized:e},BASIS(n)})).then((()=>{n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((()=>{try{const{width:t,height:o,hasAlpha:h,mipmaps:d,format:p,dfdTransferFn:f,dfdFlags:m}=function(t){const o=new n.KTX2File(new Uint8Array(t));function u(){o.close(),o.delete()}if(!o.isValid())throw u(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const h=o.isUASTC()?i.UASTC_4x4:i.ETC1S,d=o.getWidth(),p=o.getHeight(),f=o.getLevels(),m=o.getHasAlpha(),v=o.getDFDTransferFunc(),y=o.getDFDFlags(),{transcoderFormat:g,engineFormat:b}=function(t,n,o,u){let h,d;const p=t===i.ETC1S?a:l;for(let r=0;r<p.length;r++){const s=p[r];if(e[s.if]&&(s.basisFormat.includes(t)&&!(u&&s.transcoderFormat.length<2)&&(!s.needsPowerOfTwo||c(n)&&c(o))))return h=s.transcoderFormat[u?1:0],d=s.engineFormat[u?1:0],{transcoderFormat:h,engineFormat:d}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=s.RGBA32,d=r.RGBAFormat,{transcoderFormat:h,engineFormat:d}}(h,d,p,m);if(!d||!p||!f)throw u(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw u(),new Error("THREE.KTX2Loader: .startTranscoding failed");const w=[];for(let e=0;e<f;e++){const t=o.getImageLevelInfo(e,0,0),n=t.origWidth,r=t.origHeight,s=new Uint8Array(o.getImageTranscodedSizeInBytes(e,0,0,g));if(!o.transcodeImage(s,e,0,0,g,0,-1,-1))throw u(),new Error("THREE.KTX2Loader: .transcodeImage failed.");w.push({data:s,width:n,height:r})}return u(),{width:d,height:p,hasAlpha:m,mipmaps:w,format:b,dfdTransferFn:v,dfdFlags:y}}(u.buffers[0]),v=[];for(let e=0;e<d.length;++e)v.push(d[e].data.buffer);self.postMessage({type:"transcode",id:u.id,width:t,height:o,hasAlpha:h,mipmaps:d,format:p,dfdTransferFn:f,dfdFlags:m},v)}catch(e){console.error(e),self.postMessage({type:"error",id:u.id,error:e.message})}}))}var h}));const o=[{if:"astcSupported",basisFormat:[i.UASTC_4x4],transcoderFormat:[s.ASTC_4x4,s.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.BC7_M5,s.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.BC1,s.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.ETC1,s.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.PVRTC1_4_RGB,s.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],a=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),l=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function c(e){return e<=2||0==(e&e-1)&&0!==e}};const Qi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Zi=Object.keys,Ji=Array.isArray;function eo(e,t){return"object"!=typeof t||Zi(t).forEach((function(n){e[n]=t[n]})),e}"undefined"==typeof Promise||Qi.Promise||(Qi.Promise=Promise);const to=Object.getPrototypeOf,no={}.hasOwnProperty;function ro(e,t){return no.call(e,t)}function so(e,t){"function"==typeof t&&(t=t(to(e))),("undefined"==typeof Reflect?Zi:Reflect.ownKeys)(t).forEach((n=>{oo(e,n,t[n])}))}const io=Object.defineProperty;function oo(e,t,n,r){io(e,t,eo(n&&ro(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ao(e){return{from:function(t){return e.prototype=Object.create(t.prototype),oo(e.prototype,"constructor",e),{extend:so.bind(null,e.prototype)}}}}const lo=Object.getOwnPropertyDescriptor;function co(e,t){let n;return lo(e,t)||(n=to(e))&&co(n,t)}const uo=[].slice;function ho(e,t,n){return uo.call(e,t,n)}function po(e,t){return t(e)}function fo(e){if(!e)throw new Error("Assertion Failed")}function mo(e){Qi.setImmediate?setImmediate(e):setTimeout(e,0)}function vo(e,t){return e.reduce(((e,n,r)=>{var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function yo(e,t){if(ro(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var i=yo(e,t[r]);n.push(i)}return n}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:yo(a,t.substr(o+1))}}function go(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){fo("string"!=typeof n&&"length"in n);for(var r=0,s=t.length;r<s;++r)go(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var o=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===n?Ji(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=n;else{var l=e[o];l&&ro(e,o)||(l=e[o]={}),go(l,a,n)}}else void 0===n?Ji(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function bo(e){var t={};for(var n in e)ro(e,n)&&(t[n]=e[n]);return t}const wo=[].concat;function _o(e){return wo.apply([],e)}const xo="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(_o([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Qi[e])),ko=xo.map((e=>Qi[e]));vo(xo,(e=>[e,!0]));let Eo=null;function To(e){Eo="undefined"!=typeof WeakMap&&new WeakMap;const t=So(e);return Eo=null,t}function So(e){if(!e||"object"!=typeof e)return e;let t=Eo&&Eo.get(e);if(t)return t;if(Ji(e)){t=[],Eo&&Eo.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(So(e[n]))}else if(ko.indexOf(e.constructor)>=0)t=e;else{const n=to(e);for(var s in t=n===Object.prototype?{}:Object.create(n),Eo&&Eo.set(e,t),e)ro(e,s)&&(t[s]=So(e[s]))}return t}const{toString:Ro}={};function Co(e){return Ro.call(e).slice(8,-1)}const Ao="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",Mo="symbol"==typeof Ao?function(e){var t;return null!=e&&(t=e[Ao])&&t.apply(e)}:function(){return null},Po={};function Oo(e){var t,n,r,s;if(1===arguments.length){if(Ji(e))return e.slice();if(this===Po&&"string"==typeof e)return[e];if(s=Mo(e)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Lo="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var Bo="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Io(e,t){Bo=e,Do=t}var Do=()=>!0;const Fo=!new Error("").stack;function zo(){if(Fo)try{throw zo.arguments,new Error}catch(e){return e}return new Error}function Uo(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(Do).map((e=>"\n"+e)).join("")):""}var jo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],No=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(jo),Vo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function qo(e,t){this._e=zo(),this.name=e,this.message=t}function Wo(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join("\n")}function Ko(e,t,n,r){this._e=zo(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Wo(e,t)}function Go(e,t){this._e=zo(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Wo(e,t)}ao(qo).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Uo(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ao(Ko).from(qo),ao(Go).from(qo);var Ho=No.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const $o=qo;var Xo=No.reduce(((e,t)=>{var n=t+"Error";function r(e,r){this._e=zo(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Vo[t]||n,this.inner=null)}return ao(r).from($o),e[t]=r,e}),{});Xo.Syntax=SyntaxError,Xo.Type=TypeError,Xo.Range=RangeError;var Yo=jo.reduce(((e,t)=>(e[t+"Error"]=Xo[t],e)),{});var Qo=No.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Xo[t]),e)),{});function Zo(){}function Jo(e){return e}function ea(e,t){return null==e||e===Jo?t:function(n){return t(e(n))}}function ta(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function na(e,t){return e===Zo?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ta(r,this.onsuccess):r),s&&(this.onerror=this.onerror?ta(s,this.onerror):s),void 0!==i?i:n}}function ra(e,t){return e===Zo?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ta(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ta(r,this.onerror):r)}}function sa(e,t){return e===Zo?t:function(n){var r=e.apply(this,arguments);eo(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?ta(s,this.onsuccess):s),i&&(this.onerror=this.onerror?ta(i,this.onerror):i),void 0===r?void 0===o?void 0:o:eo(r,o)}}function ia(e,t){return e===Zo?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function oa(e,t){return e===Zo?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Qo.ModifyError=Ko,Qo.DexieError=qo,Qo.BulkError=Go;var aa={};const[la,ca,ua]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,to(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,to(t),e]})(),ha=ca&&ca.then,da=la&&la.constructor,pa=!!ua;var fa=!1,ma=ua?()=>{ua.then(za)}:Qi.setImmediate?setImmediate.bind(null,za):Qi.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{za(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(za,0)},va=function(e,t){Ta.push([e,t]),ga&&(ma(),ga=!1)},ya=!0,ga=!0,ba=[],wa=[],_a=null,xa=Jo,ka={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:cl,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{cl(e[0],e[1])}catch(e){}}))}},Ea=ka,Ta=[],Sa=0,Ra=[];function Ca(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Zo,this._lib=!1;var t=this._PSD=Ea;if(Bo&&(this._stackHolder=zo(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==aa)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Oa(this,this._value))}this._state=null,this._value=null,++t.ref,Pa(this,e)}const Aa={get:function(){var e=Ea,t=$a;function n(n,r){var s=!e.global&&(e!==Ea||t!==$a);const i=s&&!Za();var o=new Ca(((t,o)=>{Ba(this,new Ma(ol(n,e,s,i),ol(r,e,s,i),t,o,e))}));return Bo&&Fa(o,this),o}return n.prototype=aa,n},set:function(e){oo(this,"then",e&&e.prototype===aa?Aa:{get:function(){return e},set:Aa.set})}};function Ma(e,t,n,r,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function Pa(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ua();t&&"function"==typeof t.then?Pa(e,((e,n)=>{t instanceof Ca?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,La(e)),n&&ja()}}),Oa.bind(null,e))}catch(t){Oa(e,t)}}function Oa(e,t){if(wa.push(t),null===e._state){var n=e._lib&&Ua();t=xa(t),e._state=!1,e._value=t,Bo&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((()=>{var n=co(t,"stack");t._promise=e,oo(t,"stack",{get:()=>fa?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){ba.some((t=>t._value===e._value))||ba.push(e)}(e),La(e),n&&ja()}}function La(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ba(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===Sa&&(++Sa,va((()=>{0==--Sa&&Na()}),[]))}function Ba(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Sa,va(Ia,[n,e,t])}else e._listeners.push(t)}function Ia(e,t,n){try{_a=t;var r,s=t._value;t._state?r=e(s):(wa.length&&(wa=[]),r=e(s),-1===wa.indexOf(s)&&function(e){var t=ba.length;for(;t;)if(ba[--t]._value===e._value)return void ba.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{_a=null,0==--Sa&&Na(),--n.psd.ref||n.psd.finalize()}}function Da(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var s,i,o=e._value;null!=o?(s=o.name||"Error",i=o.message||o,r=Uo(o,0)):(s=o,i=""),t.push(s+(i?": "+i:"")+r)}return Bo&&((r=Uo(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Da(e._prev,t,n)),t}function Fa(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function za(){Ua()&&ja()}function Ua(){var e=ya;return ya=!1,ga=!1,e}function ja(){var e,t,n;do{for(;Ta.length>0;)for(e=Ta,Ta=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Ta.length>0);ya=!0,ga=!0}function Na(){var e=ba;ba=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ra.slice(0),n=t.length;n;)t[--n]()}function Va(e){return new Ca(aa,!1,e)}function qa(e,t){var n=Ea;return function(){var r=Ua(),s=Ea;try{return nl(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{nl(s,!1),r&&ja()}}}so(Ca.prototype,{then:Aa,_then:function(e,t){Ba(this,new Ma(null,null,e,t,Ea))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?n(e):Va(e))):this.then(null,(e=>e&&e.name===t?n(e):Va(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Va(t))))},stack:{get:function(){if(this._stack)return this._stack;try{fa=!0;var e=Da(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{fa=!1}}},timeout:function(e,t){return e<1/0?new Ca(((n,r)=>{var s=setTimeout((()=>r(new Xo.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&oo(Ca.prototype,Symbol.toStringTag,"Dexie.Promise"),ka.env=rl(),so(Ca,{all:function(){var e=Oo.apply(null,arguments).map(Ja);return new Ca((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((s,i)=>Ca.resolve(s).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof Ca)return e;if(e&&"function"==typeof e.then)return new Ca(((t,n)=>{e.then(t,n)}));var t=new Ca(aa,!0,e);return Fa(t,_a),t},reject:Va,race:function(){var e=Oo.apply(null,arguments).map(Ja);return new Ca(((t,n)=>{e.map((e=>Ca.resolve(e).then(t,n)))}))},PSD:{get:()=>Ea,set:e=>Ea=e},totalEchoes:{get:()=>$a},newPSD:Ya,usePSD:sl,scheduler:{get:()=>va,set:e=>{va=e}},rejectionMapper:{get:()=>xa,set:e=>{xa=e}},follow:(e,t)=>new Ca(((n,r)=>Ya(((t,n)=>{var r=Ea;r.unhandleds=[],r.onunhandled=n,r.finalize=ta((function(){!function(e){function t(){e(),Ra.splice(Ra.indexOf(t),1)}Ra.push(t),++Sa,va((()=>{0==--Sa&&Na()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),da&&(da.allSettled&&oo(Ca,"allSettled",(function(){const e=Oo.apply(null,arguments).map(Ja);return new Ca((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,s)=>Ca.resolve(e).then((e=>r[s]={status:"fulfilled",value:e}),(e=>r[s]={status:"rejected",reason:e})).then((()=>--n||t(r)))))}))})),da.any&&"undefined"!=typeof AggregateError&&oo(Ca,"any",(function(){const e=Oo.apply(null,arguments).map(Ja);return new Ca(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,i)=>Ca.resolve(e).then((e=>t(e)),(e=>{s[i]=e,--r||n(new AggregateError(s))}))))}))})));const Wa={awaits:0,echoes:0,id:0};var Ka=0,Ga=[],Ha=0,$a=0,Xa=0;function Ya(e,t,n,r){var s=Ea,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Xa;var o=ka.env;i.env=pa?{Promise:Ca,PromiseProp:{value:Ca,configurable:!0,writable:!0},all:Ca.all,race:Ca.race,allSettled:Ca.allSettled,any:Ca.any,resolve:Ca.resolve,reject:Ca.reject,nthen:al(o.nthen,i),gthen:al(o.gthen,i)}:{},t&&eo(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=sl(i,e,n,r);return 0===i.ref&&i.finalize(),a}function Qa(){return Wa.id||(Wa.id=++Ka),++Wa.awaits,Wa.echoes+=100,Wa.id}function Za(){return!!Wa.awaits&&(0==--Wa.awaits&&(Wa.id=0),Wa.echoes=100*Wa.awaits,!0)}function Ja(e){return Wa.echoes&&e&&e.constructor===da?(Qa(),e.then((e=>(Za(),e)),(e=>(Za(),ul(e))))):e}function el(e){++$a,Wa.echoes&&0!=--Wa.echoes||(Wa.echoes=Wa.id=0),Ga.push(Ea),nl(e,!0)}function tl(){var e=Ga[Ga.length-1];Ga.pop(),nl(e,!1)}function nl(e,t){var n=Ea;if((t?!Wa.echoes||Ha++&&e===Ea:!Ha||--Ha&&e===Ea)||il(t?el.bind(null,e):tl),e!==Ea&&(Ea=e,n===ka&&(ka.env=rl()),pa)){var r=ka.env.Promise,s=e.env;ca.then=s.nthen,r.prototype.then=s.gthen,(n.global||e.global)&&(Object.defineProperty(Qi,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function rl(){var e=Qi.Promise;return pa?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Qi,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ca.then,gthen:e.prototype.then}:{}}function sl(e,t,n,r,s){var i=Ea;try{return nl(e,!0),t(n,r,s)}finally{nl(i,!1)}}function il(e){ha.call(la,e)}function ol(e,t,n,r){return"function"!=typeof e?e:function(){var s=Ea;n&&Qa(),nl(t,!0);try{return e.apply(this,arguments)}finally{nl(s,!1),r&&il(Za)}}}function al(e,t){return function(n,r){return e.call(this,ol(n,t),ol(r,t))}}-1===(""+ha).indexOf("[native code]")&&(Qa=Za=Zo);const ll="unhandledrejection";function cl(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,s={promise:t,reason:e};if(Qi.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ll,!0,!0),eo(r,s)):Qi.CustomEvent&&eo(r=new CustomEvent(ll,{detail:s}),s),r&&Qi.dispatchEvent&&(dispatchEvent(r),!Qi.PromiseRejectionEvent&&Qi.onunhandledrejection))try{Qi.onunhandledrejection(r)}catch(e){}Bo&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var ul=Ca.reject;function hl(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Ea.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Ho.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>hl(e,t,n,r)))):ul(s)}return s._promise(t,((e,t)=>Ya((()=>(Ea.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return ul(new Xo.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ul(new Xo.DatabaseClosed);e.open().catch(Zo)}return e._state.dbReadyPromise.then((()=>hl(e,t,n,r)))}const dl="3.2.2",pl=String.fromCharCode(65535),fl=-1/0,ml="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vl="String expected.",yl=[],gl="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),bl=gl,wl=gl,_l=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),xl="__dbnames",kl="readonly",El="readwrite";function Tl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Sl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Rl(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=To(t))[e],t)}class Cl{_trans(e,t,n){const r=this._tx||Ea.trans,s=this.name;function i(e,n,r){if(!r.schema[s])throw new Xo.NotFound("Table "+s+" not part of transaction");return t(r.idbtrans,r)}const o=Ua();try{return r&&r.db===this.db?r===Ea.trans?r._promise(e,i,n):Ya((()=>r._promise(e,i,n)),{trans:r,transless:Ea.transless||Ea}):hl(this.db,e,[this.name],i)}finally{o&&ja()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(Ji(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=Zi(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(n&&this.db._maxKey!==pl)return this.where(n.name).equals(n.keyPath.map((t=>e[t])));!n&&Bo&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,s=this.db._deps.indexedDB;function i(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[o,a]=t.reduce((([t,n],s)=>{const o=r[s],a=e[s];return[t||o,t||!o?Tl(n,o&&o.multi?e=>{const t=yo(e,s);return Ji(t)&&t.some((e=>i(a,e)))}:e=>i(a,yo(e,s))):n]}),[null,null]);return o?this.where(o.name).equals(e[o.keyPath]).filter(a):n?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Ji(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(ro(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){eo(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=Rl(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?Ca.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{go(e,r,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||Ji(e))return this.where(":id").equals(e).modify(t);{const n=yo(e,this.schema.primKey.keyPath);if(void 0===n)return ul(new Xo.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Zi(t).forEach((n=>{go(e,n,t[n])})):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=Rl(r)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?Ca.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{go(e,r,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?Ca.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:Sl}))).then((e=>e.numFailures?Ca.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new Xo.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Xo.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let a=i&&n?e.map(Rl(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new Go(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new Xo.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new Xo.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let a=i&&n?e.map(Rl(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new Go(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new Go(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Al(e){var t={},n=function(n,r){if(r){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(e,r,s){if("object"==typeof e)return o(e);r||(r=ia),s||(s=Zo);var i={subscribers:[],fire:s,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=r(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(r,s)}};return t[e]=n[e]=i,i}function o(e){Zi(e).forEach((function(t){var n=e[t];if(Ji(n))i(t,e[t][0],e[t][1]);else{if("asap"!==n)throw new Xo.InvalidArgument("Invalid event config");var r=i(t,Jo,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){mo((function(){e.apply(null,t)}))}))}))}}))}}function Ml(e,t){return ao(t).from({prototype:e}),t}function Pl(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ol(e,t){e.filter=Tl(e.filter,t)}function Ll(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Tl(r(),t()):t,e.justLimit=n&&!r}function Bl(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new Xo.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function Il(e,t,n){const r=Bl(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Dl(e,t,n,r){const s=e.replayFilter?Tl(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},o=(e,n,r)=>{if(!s||s(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var o=n.primaryKey,a=""+o;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(o)),ro(i,a)||(i[a]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(o,n),Fl(Il(e,r,n),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Fl(Il(e,r,n),Tl(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Fl(e,t,n,r){var s=r?(e,t,s)=>n(r(e),t,s):n,i=qa(s);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=Zo}),(t=>{e.fail(t),n=Zo}))||i(e.value,e,(e=>n=e)),n()}))}))}function zl(e,t){try{const n=Ul(e),r=Ul(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(jl(e),jl(t));case"Array":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n){const r=zl(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Ul(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=Co(e);return"ArrayBuffer"===n?"binary":n}function jl(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Nl{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,ul.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ul.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Tl(t.algorithm,e)}_iterate(e,t){return Dl(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&eo(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Dl(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Pl(t,!0))return n.count({trans:e,query:{index:Bl(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Dl(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],s=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,s),r=i(t,s);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&Pl(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Bl(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Dl(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Pl(t)?Ll(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Ll(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Ll(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Ol(this._ctx,(function(n,r,s){return!e(n.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Ol(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=Tl(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Pl(t,!0)&&t.limit>0)return this._read((e=>{var n=Bl(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ol(this._ctx,(function(e){var t=e.primaryKey.toString(),r=ro(n,t);return n[t]=!0,!r})),this}modify(e){var t=this._ctx;return this._write((n=>{var r;if("function"==typeof e)r=e;else{var s=Zi(e),i=s.length;r=function(t){for(var n=!1,r=0;r<i;++r){var o=s[r],a=e[o];yo(t,o)!==a&&(go(t,o,a),n=!0)}return n}}const o=t.table.core,{outbound:a,extractKey:l}=o.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let h=0;const d=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;h+=e-r;for(let e of Zi(n))u.push(n[e])};return this.clone().primaryKeys().then((s=>{const i=u=>{const h=Math.min(c,s.length-u);return o.getMany({trans:n,keys:s.slice(u,u+h),cache:"immutable"}).then((d=>{const f=[],m=[],v=a?[]:null,y=[];for(let e=0;e<h;++e){const t=d[e],n={value:To(t),primKey:s[u+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(s[u+e]):a||0===zl(l(t),l(n.value))?(m.push(n.value),a&&v.push(s[u+e])):(y.push(s[u+e]),f.push(n.value)))}const g=Pl(t)&&t.limit===1/0&&("function"!=typeof e||e===Vl)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&o.mutate({trans:n,type:"add",values:f}).then((e=>{for(let t in e.failures)y.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||g&&"object"==typeof e)&&o.mutate({trans:n,type:"put",keys:v,values:m,criteria:g,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(y.length>0||g&&e===Vl)&&o.mutate({trans:n,type:"delete",keys:y,criteria:g}).then((e=>p(y.length,e))))).then((()=>s.length>u+h&&i(u+c)))}))};return i(0).then((()=>{if(u.length>0)throw new Ko("Error modifying one or more objects",u,h,d);return s.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Pl(e)&&(e.isPrimKey&&!wl||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:n,type:"deleteRange",range:s}).then((({failures:e,lastResult:n,results:r,numFailures:s})=>{if(s)throw new Ko("Could not delete some values",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Vl)}}const Vl=(e,t)=>t.value=null;function ql(e,t){return e<t?-1:e===t?0:1}function Wl(e,t){return e>t?-1:e===t?0:1}function Kl(e,t,n){var r=e instanceof Ql?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Gl(e){return new e.Collection(e,(()=>Yl(""))).limit(0)}function Hl(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,l=0;l<o;++l){var c=t[l];if(c!==r[l])return s(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):s(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[l],c)<0&&(a=l)}return o<r.length&&"next"===i?e+n.substr(e.length):o<e.length&&"prev"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function $l(e,t,n,r){var s,i,o,a,l,c,u,h=n.length;if(!n.every((e=>"string"==typeof e)))return Kl(e,vl);function d(e){s=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o="next"===e?ql:Wl;var t=n.map((function(e){return{lower:i(e),upper:s(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":r}d("next");var p=new e.Collection(e,(()=>Xl(a[0],l[h-1]+r)));p._ondirectionchange=function(e){d(e)};var f=0;return p._addAlgorithm((function(e,n,r){var s=e.key;if("string"!=typeof s)return!1;var d=i(s);if(t(d,l,f))return!0;for(var p=null,m=f;m<h;++m){var v=Hl(s,d,a[m],l[m],o,c);null===v&&null===p?f=m+1:(null===p||o(p,v)>0)&&(p=v)}return n(null!==p?function(){e.continue(p+u)}:r),!1})),p}function Xl(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Yl(e){return{type:1,lower:e,upper:e}}class Ql{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Gl(this):new this.Collection(this,(()=>Xl(e,t,!n,!r)))}catch(e){return Kl(this,ml)}}equals(e){return null==e?Kl(this,ml):new this.Collection(this,(()=>Yl(e)))}above(e){return null==e?Kl(this,ml):new this.Collection(this,(()=>Xl(e,void 0,!0)))}aboveOrEqual(e){return null==e?Kl(this,ml):new this.Collection(this,(()=>Xl(e,void 0,!1)))}below(e){return null==e?Kl(this,ml):new this.Collection(this,(()=>Xl(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Kl(this,ml):new this.Collection(this,(()=>Xl(void 0,e)))}startsWith(e){return"string"!=typeof e?Kl(this,vl):this.between(e,e+pl,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):$l(this,((e,t)=>0===e.indexOf(t[0])),[e],pl)}equalsIgnoreCase(e){return $l(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=Oo.apply(Po,arguments);return 0===e.length?Gl(this):$l(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=Oo.apply(Po,arguments);return 0===e.length?Gl(this):$l(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,pl)}anyOf(){const e=Oo.apply(Po,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Kl(this,ml)}if(0===e.length)return Gl(this);const n=new this.Collection(this,(()=>Xl(e[0],e[e.length-1])));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,s,i)=>{const o=n.key;for(;t(o,e[r])>0;)if(++r,r===e.length)return s(i),!1;return 0===t(o,e[r])||(s((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[fl,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=Oo.apply(Po,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Kl(this,ml)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[fl,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,s=this._descending,i=this._min,o=this._max;if(0===e.length)return Gl(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Kl(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Xo.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=r;function h(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=i(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),c.sort(h)}catch(e){return Kl(this,ml)}let d=0;const p=l?e=>r(e,c[d][1])>0:e=>r(e,c[d][1])>=0,f=a?e=>s(e,c[d][0])>0:e=>s(e,c[d][0])>=0;let m=p;const v=new this.Collection(this,(()=>Xl(c[0][0],c[c.length-1][1],!a,!l)));return v._ondirectionchange=e=>{"next"===e?(m=p,u=r):(m=f,u=s),c.sort(h)},v._addAlgorithm(((e,t,n)=>{for(var s=e.key;m(s);)if(++d,d===c.length)return t(n),!1;return!!function(e){return!p(e)&&!f(e)}(s)||(0===this._cmp(s,c[d][1])||0===this._cmp(s,c[d][0])||t((()=>{u===r?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),v}startsWithAnyOf(){const e=Oo.apply(Po,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Gl(this):this.inAnyRange(e.map((e=>[e,e+pl]))):Kl(this,"startsWithAnyOf() only works with strings")}}function Zl(e){return qa((function(t){return Jl(t),e(t.target.error),!1}))}function Jl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const ec="storagemutated",tc="x-storagemutated-1",nc=Al(null,ec);class rc{_lock(){return fo(!Ea.global),++this._reculock,1!==this._reculock||Ea.global||(Ea.lockOwnerFor=this),this}_unlock(){if(fo(!Ea.global),0==--this._reculock)for(Ea.global||(Ea.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{sl(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Ea.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(fo(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new Xo.DatabaseClosed(n);case"MissingAPIError":throw new Xo.MissingAPI(n.message,n);default:throw new Xo.OpenFailed(n)}if(!this.active)throw new Xo.TransactionInactive;return fo(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=qa((t=>{Jl(t),this._reject(e.error)})),e.onabort=qa((t=>{Jl(t),this.active&&this._reject(new Xo.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=qa((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&nc.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return ul(new Xo.ReadOnly("Transaction is readonly"));if(!this.active)return ul(new Xo.TransactionInactive);if(this._locked())return new Ca(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,s)},Ea])}));if(n)return Ya((()=>{var e=new Ca(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new Ca(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Ca.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new Ca(((e,r)=>{n.then((n=>t._waitingQueue.push(qa(e.bind(null,n)))),(e=>t._waitingQueue.push(qa(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Xo.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(ro(t,e))return t[e];const n=this.schema[e];if(!n)throw new Xo.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function sc(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+ic(t)}}function ic(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function oc(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:vo(n,(e=>[e.name,e]))}}let ac=e=>{try{return e.only([[]]),ac=()=>[[]],[[]]}catch(e){return ac=()=>pl,pl}};function lc(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>yo(t,e)}(e):t=>yo(t,e)}function cc(e){return[].slice.call(e)}let uc=0;function hc(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function dc(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:s,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!s):t.bound(n,r,!!s,!!i)}const{schema:s,hasGetAll:i}=function(e,t){const n=cc(e.objectStoreNames);return{schema:{name:e.name,tables:n.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:n}=e,r=Ji(t),s=null==t,i={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:s,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:lc(t)},indexes:cc(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:n,multiEntry:r,keyPath:s}=e,o={name:t,compound:Ji(s),keyPath:s,unique:n,multiEntry:r,extractKey:lc(s)};return i[hc(s)]=o,o})),getIndexByKeyPath:e=>i[hc(e)]};return i[":id"]=o.primaryKey,null!=t&&(i[hc(t)]=o.primaryKey),o}))},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),o=s.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:s,values:i,range:o}){return new Promise(((a,l)=>{a=qa(a);const c=e.objectStore(t),u=null==c.keyPath,h="put"===n||"add"===n;if(!h&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:d}=s||i||{length:1};if(s&&i&&s.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],m=[];let v=0;const y=e=>{++v,Jl(e)};if("deleteRange"===n){if(4===o.type)return a({numFailures:v,failures:m,results:[],lastResult:void 0});3===o.type?f.push(p=c.clear()):f.push(p=c.delete(r(o)))}else{const[e,t]=h?u?[i,s]:[i,null]:[s,null];if(h)for(let r=0;r<d;++r)f.push(p=t&&void 0!==t[r]?c[n](e[r],t[r]):c[n](e[r])),p.onerror=y;else for(let t=0;t<d;++t)f.push(p=c[n](e[t])),p.onerror=y}const g=e=>{const t=e.target.result;f.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:v,failures:m,results:"delete"===n?s:f.map((e=>e.result)),lastResult:t})};p.onerror=e=>{y(e),g(e)},p.onsuccess=g}))},getMany:({trans:e,keys:n})=>new Promise(((r,s)=>{r=qa(r);const i=e.objectStore(t),o=n.length,a=new Array(o);let l,c=0,u=0;const h=e=>{const t=e.target;a[t._pos]=t.result,++u===c&&r(a)},d=Zl(s);for(let e=0;e<o;++e)null!=n[e]&&(l=i.get(n[e]),l._pos=e,l.onsuccess=h,l.onerror=d,++c);0===c&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,s)=>{r=qa(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=Zl(s)})),query:function(e){return n=>new Promise(((s,i)=>{s=qa(s);const{trans:o,values:a,limit:l,query:c}=n,u=l===1/0?void 0:l,{index:h,range:d}=c,p=o.objectStore(t),f=h.isPrimaryKey?p:p.index(h.name),m=r(d);if(0===l)return s({result:[]});if(e){const e=a?f.getAll(m,u):f.getAllKeys(m,u);e.onsuccess=e=>s({result:e.target.result}),e.onerror=Zl(i)}else{let e=0;const t=a||!("openKeyCursor"in f)?f.openCursor(m):f.openKeyCursor(m),n=[];t.onsuccess=r=>{const i=t.result;return i?(n.push(a?i.value:i.primaryKey),++e===l?s({result:n}):void i.continue()):s({result:n})},t.onerror=Zl(i)}}))}(i),openCursor:function({trans:e,values:n,query:s,reverse:i,unique:o}){return new Promise(((a,l)=>{a=qa(a);const{index:c,range:u}=s,h=e.objectStore(t),d=c.isPrimaryKey?h:h.index(c.name),p=i?o?"prevunique":"prev":o?"nextunique":"next",f=n||!("openKeyCursor"in d)?d.openCursor(r(u),p):d.openKeyCursor(r(u),p);f.onerror=Zl(l),f.onsuccess=qa((t=>{const n=f.result;if(!n)return void a(null);n.___id=++uc,n.done=!1;const r=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const i=n.advance.bind(n),o=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=qa(l),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=qa(e),f.onerror=Zl(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}})),a=()=>{if(f.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return f.onsuccess=qa((e=>{f.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=s,n.advance=i,a(),t},a(n)}),l)}))},count({query:e,trans:n}){const{index:s,range:i}=e;return new Promise(((e,o)=>{const a=n.objectStore(t),l=s.isPrimaryKey?a:a.index(s.name),c=r(i),u=c?l.count(c):l.count();u.onsuccess=qa((t=>e(t.target.result))),u.onerror=Zl(o)}))}}}(e))),a={};return o.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:ac(t),schema:s}}function pc({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},s){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(dc(t,n,s),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function fc({_novip:e},t,n,r){n.forEach((n=>{const s=r[n];t.forEach((t=>{const r=co(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?oo(t,n,{get(){return this.table(n)},set(e){io(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))}))}))}function mc({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function vc(e,t){return e._cfg.version-t._cfg.version}function yc(e,t,n,r){const s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(n),i._completion.catch(r);const o=i._reject.bind(i),a=Ea.transless||Ea;Ya((()=>{Ea.trans=i,Ea.transless=a,0===t?(Zi(s).forEach((e=>{bc(n,e,s[e].primKey,s[e].indexes)})),pc(e,n),Ca.follow((()=>e.on.populate.fire(i))).catch(o)):function({_novip:e},t,n,r){const s=[],i=e._versions;let o=e._dbSchema=_c(e,e.idbdb,r),a=!1;function l(){return s.length?Ca.resolve(s.shift()(n.idbtrans)).then(l):Ca.resolve()}return i.filter((e=>e._cfg.version>=t)).forEach((i=>{s.push((()=>{const s=o,l=i._cfg.dbschema;xc(e,s,r),xc(e,l,r),o=e._dbSchema=l;const c=gc(s,l);c.add.forEach((e=>{bc(r,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new Xo.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach((e=>wc(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),wc(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const u=i._cfg.contentUpgrade;if(u&&i._cfg.version>t){pc(e,r),n._memoizedTables={},a=!0;let t=bo(l);c.del.forEach((e=>{t[e]=s[e]})),mc(e,[e.Transaction.prototype]),fc(e,[e.Transaction.prototype],Zi(t),t),n.schema=t;const i=Lo(u);let o;i&&Qa();const h=Ca.follow((()=>{if(o=u(n),o&&i){var e=Za.bind(null,null);o.then(e,e)}}));return o&&"function"==typeof o.then?Ca.resolve(o):h.then((()=>o))}})),s.push((t=>{if(!a||!bl){!function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(i._cfg.dbschema,t)}mc(e,[e.Transaction.prototype]),fc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}))})),l().then((()=>{var e,t;t=r,Zi(e=o).forEach((n=>{t.db.objectStoreNames.contains(n)||bc(t,n,e[n].primKey,e[n].indexes)}))}))}(e,t,i,n).catch(o)}))}function gc(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!gl)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,r=i.idxByName;let o;for(o in t)r[o]||e.del.push(o);for(o in r){const n=t[o],s=r[o];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function bc(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>wc(s,e))),s}function wc(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function _c(e,t,n){const r={};return ho(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const i=sc(ic(s),s||"",!1,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=sc(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&"string"!=typeof s,!1);o.push(a)}r[e]=oc(e,i,o)})),r}function xc({_novip:e},t,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const i=r[s],o=n.objectStore(i);e._hasGetAll="getAll"in o;for(let e=0;e<o.indexNames.length;++e){const n=o.indexNames[e],r=o.index(n).keyPath,s="string"==typeof r?r:"["+ho(r).join("+")+"]";if(t[i]){const e=t[i].idxByName[s];e&&(e.name=n,delete t[i].idxByName[s],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Qi.WorkerGlobalScope&&Qi instanceof Qi.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class kc{_parseStoresSpec(e,t){Zi(e).forEach((n=>{if(null!==e[n]){var r=e[n].split(",").map(((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return sc(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Ji(r),0===t)})),s=r.shift();if(s.multi)throw new Xo.Schema("Primary key cannot be multi-valued");r.forEach((e=>{if(e.auto)throw new Xo.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Xo.Schema("Index must have a name and cannot be an empty string")})),t[n]=oc(n,s,r)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?eo(this._cfg.storesSource,e):e;const n=t._versions,r={};let s={};return n.forEach((e=>{eo(r,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(r,s)})),t._dbSchema=s,mc(t,[t._allTables,t,t.Transaction.prototype]),fc(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Zi(s),s),t._storeNames=Zi(s),this}upgrade(e){return this._cfg.contentUpgrade=oa(this._cfg.contentUpgrade||Zo,e),this}}function Ec(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Gc(xl,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Tc(e){return e&&"function"==typeof e.databases}function Sc(e){return Ya((function(){return Ea.letThrough=!0,e()}))}function Rc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Cc(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?ul(t.dbOpenError):e));Bo&&(t.openCanceller._stackHolder=zo()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function s(){if(t.openCanceller!==r)throw new Xo.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,o=null,a=!1;return Ca.race([r,("undefined"==typeof navigator?Ca.resolve():Rc()).then((()=>new Ca(((r,i)=>{if(s(),!n)throw new Xo.MissingAPI;const l=e.name,c=t.autoSchema?n.open(l):n.open(l,Math.round(10*e.verno));if(!c)throw new Xo.MissingAPI;c.onerror=Zl(i),c.onblocked=qa(e._fireOnBlocked),c.onupgradeneeded=qa((r=>{if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=Jl,o.abort(),c.result.close();const e=n.deleteDatabase(l);e.onsuccess=e.onerror=qa((()=>{i(new Xo.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{o.onerror=Zl(i);var s=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;a=s<1,e._novip.idbdb=c.result,yc(e,s/10,o,i)}}),i),c.onsuccess=qa((()=>{o=null;const n=e._novip.idbdb=c.result,s=ho(n.objectStoreNames);if(s.length>0)try{const r=n.transaction(1===(i=s).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=_c(0,t,n);e._storeNames=ho(t.objectStoreNames,0),fc(e,[e._allTables],Zi(r),r)}(e,n,r):(xc(e,e._dbSchema,r),function(e,t){const n=gc(_c(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),pc(e,r)}catch(e){}var i;yl.push(e),n.onversionchange=qa((n=>{t.vcFired=!0,e.on("versionchange").fire(n)})),n.onclose=qa((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},n){!Tc(e)&&n!==xl&&Ec(e,t).put({name:n}).catch(Zo)}(e._deps,l),r()}),i)}))))]).then((()=>(s(),t.onReadyBeingFired=[],Ca.resolve(Sc((()=>e.on.ready.fire(e.vip)))).then((function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(oa,Zo);return t.onReadyBeingFired=[],Ca.resolve(Sc((()=>r(e.vip)))).then(n)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((n=>{t.dbOpenError=n;try{o&&o.abort()}catch(e){}return r===t.openCanceller&&e._close(),ul(n)})).finally((()=>{t.openComplete=!0,i()}))}function Ac(e){var t=t=>e.next(t),n=s(t),r=s((t=>e.throw(t)));function s(e){return t=>{var s=e(t),i=s.value;return s.done?i:i&&"function"==typeof i.then?i.then(n,r):Ji(i)?Promise.all(i).then(n,r):n(i)}}return s(t)()}function Mc(e,t,n){var r=arguments.length;if(r<2)throw new Xo.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=_o(s);return[e,i,n]}function Pc(e,t,n,r,s){return Ca.resolve().then((()=>{const i=Ea.transless||Ea,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===Ho.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Pc(e,t,n,null,s)))):ul(r)}const l=Lo(s);let c;l&&Qa();const u=Ca.follow((()=>{if(c=s.call(o,o),c)if(l){var e=Za.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=Ac(c))}),a);return(c&&"function"==typeof c.then?Ca.resolve(c).then((e=>o.active?e:ul(new Xo.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(r&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),ul(e))))}))}function Oc(e,t,n){const r=Ji(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const Lc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function o(e,t,n){const r=hc(e),a=s[r]=s[r]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...n,isVirtual:c,keyTail:t,keyLength:l,extractKey:lc(e),unique:!c&&n.unique};if(a.push(u),u.isPrimaryKey||i.push(u),l>1){o(2===l?e[0]:e.slice(0,l-1),t+1,n)}return a.sort(((e,t)=>e.keyTail-t.keyTail)),u}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const e of r.indexes)o(e.keyPath,0,e);function l(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,s=n.keyTail,{type:1===r.type?2:r.type,lower:Oc(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Oc(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const c={...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=s[hc(e)];return t&&t[0]}},count:e=>n.count(l(e)),query:e=>n.query(l(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:i}=t.query.index;if(!s)return n.openCursor(t);return n.openCursor(l(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(Oc(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(Oc(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return s}(n)))}};return c}}}};function Bc(e,t,n,r){return n=n||{},r=r||"",Zi(e).forEach((s=>{if(ro(t,s)){var i=e[s],o=t[s];if("object"==typeof i&&"object"==typeof o&&i&&o){const e=Co(i);e!==Co(o)?n[r+s]=t[s]:"Object"===e?Bc(i,o,n,r+s+"."):i!==o&&(n[r+s]=t[s])}else i!==o&&(n[r+s]=t[s])}else n[r+s]=void 0})),Zi(t).forEach((s=>{ro(e,s)||(n[r+s]=t[s])})),n}const Ic={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,s={...n,mutate(e){const s=Ea.trans,{deleting:i,creating:o,updating:a}=s.table(t).hook;switch(e.type){case"add":if(o.fire===Zo)break;return s._promise("readwrite",(()=>l(e)),!0);case"put":if(o.fire===Zo&&a.fire===Zo)break;return s._promise("readwrite",(()=>l(e)),!0);case"delete":if(i.fire===Zo)break;return s._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(i.fire===Zo)break;return s._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=Ea.trans,s=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,s).then((l=>{const c=s.map(((n,s)=>{const c=l[s],u={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(u,n,c,t);else if("add"===e.type||void 0===c){const i=o.fire.call(u,n,e.values[s],t);null==n&&null!=i&&(n=i,e.keys[s]=n,r.outbound||go(e.values[s],r.keyPath,n))}else{const r=Bc(c,e.values[s]),i=a.fire.call(u,r,n,c,t);if(i){const t=e.values[s];Object.keys(i).forEach((e=>{ro(t,e)?t[e]=i[e]:go(t,e,i[e])}))}}return u}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<s.length;++r){const i=n?n[r]:s[r],o=c[r];null==i?o.onerror&&o.onerror(t[r]):o.onsuccess&&o.onsuccess("put"===e.type&&l[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,s){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:n})=>l({type:"delete",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function Dc(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)0===zl(t.keys[s],e[i])&&(r.push(n?To(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch(e){return null}}const Fc={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Dc(e.keys,e.trans._cache,"clone"===e.cache);return t?Ca.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?To(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function zc(e){return!("from"in e)}const Uc=function(e,t){if(!this){const t=new Uc;return e&&"d"in e&&eo(t,e),t}eo(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function jc(e,t,n){const r=zl(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(zc(e))return eo(e,{from:t,to:n,d:1});const s=e.l,i=e.r;if(zl(n,e.from)<0)return s?jc(s,t,n):e.l={from:t,to:n,d:1,l:null,r:null},qc(e);if(zl(t,e.to)>0)return i?jc(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},qc(e);zl(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),zl(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;s&&!e.l&&Nc(e,s),i&&o&&Nc(e,i)}function Nc(e,t){zc(t)||function e(t,{from:n,to:r,l:s,r:i}){jc(t,n,r),s&&e(t,s),i&&e(t,i)}(e,t)}function Vc(e){let t=zc(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&zl(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||zl(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function qc(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const t="r"===s?"l":"r",n={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],n[s]=r[t],e[t]=n,n.d=Wc(n)}e.d=Wc(e)}function Wc({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}so(Uc.prototype,{add(e){return Nc(this,e),this},addKey(e){return jc(this,e,e),this},addKeys(e){return e.forEach((e=>jc(this,e,e))),this},[Ao](){return Vc(this)}});const Kc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Uc(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const s=e.table(r),{schema:i}=s,{primaryKey:o}=i,{extractKey:a,outbound:l}=o,c={...s,mutate:e=>{const o=e.trans,a=o.mutatedParts||(o.mutatedParts={}),l=e=>{const n=`idb://${t}/${r}/${e}`;return a[n]||(a[n]=new Uc)},c=l(""),u=l(":dels"),{type:h}=e;let[d,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const f=e.trans._cache;return s.mutate(e).then((e=>{if(Ji(d)){"delete"!==h&&(d=e.results),c.addKeys(d);const t=Dc(d,f);t||"add"===h||u.addKeys(d),(t||p)&&function(e,t,n,r){function s(t){const s=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const o=e=>t.multiEntry&&Ji(e)?e.forEach((e=>s.addKey(e))):s.addKey(e);(n||r).forEach(((e,t)=>{const s=n&&i(n[t]),a=r&&i(r[t]);0!==zl(s,a)&&(null!=s&&o(s),null!=a&&o(a))}))}t.indexes.forEach(s)}(l,i,t,p)}else if(d){const e={from:d.lower,to:d.upper};u.add(e),c.add(e)}else c.add(n),u.add(n),i.indexes.forEach((e=>l(e.name).add(n)));return e}))}},u=({query:{index:t,range:n}})=>{var r,s;return[t,new Uc(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},h={get:e=>[o,new Uc(e.key)],getMany:e=>[o,(new Uc).addKeys(e.keys)],count:u,query:u,openCursor:u};return Zi(h).forEach((e=>{c[e]=function(i){const{subscr:o}=Ea;if(o){const c=e=>{const n=`idb://${t}/${r}/${e}`;return o[n]||(o[n]=new Uc)},u=c(""),d=c(":dels"),[p,f]=h[e](i);if(c(p.name||"").add(f),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&i.values&&s.query({...i,values:!1});return s[e].apply(this,arguments).then((n=>{if("query"===e){if(l&&i.values)return t.then((({result:e})=>(u.addKeys(e),n)));const e=i.values?n.result.map(a):n.result;i.values?u.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return n}))}d.add(n)}}return s[e].apply(this,arguments)}})),c}}}};class Gc{constructor(e,t){this._middlewares={},this.verno=0;const n=Gc.dependencies;this._options=t={addons:Gc.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Zo,dbReadyPromise:null,cancelOpen:Zo,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;s.dbReadyPromise=new Ca((e=>{s.dbReadyResolve=e})),s.openCanceller=new Ca(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=Al(this,"populate","blocked","versionchange","close",{ready:[oa,Zo]}),this.on.ready.subscribe=po(this.on.ready.subscribe,(e=>(t,n)=>{Gc.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Ca.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,Ml(Nl.prototype,(function(e,t){this.db=i;let n=Sl,r=null;if(t)try{n=t()}catch(e){r=e}const s=e._ctx,o=s.table,a=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:a!==Jo?a:null}}))),this.Table=function(e){return Ml(Cl.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Al(null,{creating:[na,Zo],reading:[ea,Jo],updating:[sa,Zo],deleting:[ra,Zo]})}))}(this),this.Transaction=function(e){return Ml(rc.prototype,(function(t,n,r,s,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Al(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ca(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ul(e)}))}))}(this),this.Version=function(e){return Ml(kc.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return Ml(Ql.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const s=e._deps.indexedDB;if(!s)throw new Xo.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=ac(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),yl.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(Lc),this.use(Ic),this.use(Kc),this.use(Fc),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Xo.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Xo.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(vc),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Ea.letThrough||this._vip)?e():new Ca(((e,t)=>{if(this._state.openComplete)return t(new Xo.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Xo.DatabaseClosed);this.open().catch(Zo)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return Cc(this)}_close(){const e=this._state,t=yl.indexOf(this);if(t>=0&&yl.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Ca((t=>{e.dbReadyResolve=t})),e.openCanceller=new Ca(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Xo.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Ca(((n,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=qa((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Tc(e)&&n!==xl&&Ec(e,t).delete(n).catch(Zo)}(this._deps,this.name),n()})),e.onerror=Zl(r),e.onblocked=this._fireOnBlocked};if(e)throw new Xo.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Zi(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Mc.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Ea.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const s=-1!==e.indexOf("?");let i,o;e=e.replace("!","").replace("?","");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===kl)i=kl;else{if("rw"!=e&&e!=El)throw new Xo.InvalidArgument("Invalid transaction mode: "+e);i=El}if(r){if(r.mode===kl&&i===El){if(!s)throw new Xo.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&o.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new Xo.SubTransaction("Table "+e+" not included in parent transaction.");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):ul(e)}const a=Pc.bind(null,this,i,o,r,n);return r?r._promise(i,a,"lock"):Ea.trans?sl(Ea.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!ro(this._allTables,e))throw new Xo.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Hc="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class $c{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[Hc](){return this}}function Xc(e,t){return Zi(t).forEach((n=>{Nc(e[n]||(e[n]=new Uc),t[n])})),e}let Yc;try{Yc={indexedDB:Qi.indexedDB||Qi.mozIndexedDB||Qi.webkitIndexedDB||Qi.msIndexedDB,IDBKeyRange:Qi.IDBKeyRange||Qi.webkitIDBKeyRange}}catch(e){Yc={indexedDB:null,IDBKeyRange:null}}const Qc=Gc;function Zc(e){let t=Jc;try{Jc=!0,nc.storagemutated.fire(e)}finally{Jc=t}}so(Qc,{...Qo,delete:e=>new Qc(e,{addons:[]}).delete(),exists:e=>new Qc(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Tc(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==xl)))):Ec(e,t).toCollection().primaryKeys()}(Qc.dependencies).then(e)}catch(e){return ul(new Xo.MissingAPI)}},defineClass:()=>function(e){eo(this,e)},ignoreTransaction:e=>Ea.trans?sl(Ea.transless,e):e(),vip:Sc,async:function(e){return function(){try{var t=Ac(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Ca.resolve(t)}catch(e){return ul(e)}}},spawn:function(e,t,n){try{var r=Ac(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Ca.resolve(r)}catch(e){return ul(e)}},currentTransaction:{get:()=>Ea.trans||null},waitFor:function(e,t){const n=Ca.resolve("function"==typeof e?Qc.ignoreTransaction(e):e).timeout(t||6e4);return Ea.trans?Ea.trans.waitFor(n):n},Promise:Ca,debug:{get:()=>Bo,set:e=>{Io(e,"dexie"===e?()=>!0:_l)}},derive:ao,extend:eo,props:so,override:po,Events:Al,on:nc,liveQuery:function(e){return new $c((t=>{const n=Lo(e);let r=!1,s={},i={};const o={get closed(){return r},unsubscribe:()=>{r=!0,nc.storagemutated.unsubscribe(u)}};t.start&&t.start(o);let a=!1,l=!1;function c(){return Zi(i).some((e=>s[e]&&function(e,t){const n=Vc(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=Vc(e);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if(zl(a.from,s.to)<=0&&zl(a.to,s.from)>=0)return!0;zl(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}(s[e],i[e])))}const u=e=>{Xc(s,e),c()&&h()},h=()=>{if(a||r)return;s={};const d={},p=function(t){n&&Qa();const r=()=>Ya(e,{subscr:t,trans:null}),s=Ea.trans?sl(Ea.transless,r):r();return n&&s.then(Za,Za),s}(d);l||(nc(ec,u),l=!0),a=!0,Promise.resolve(p).then((e=>{a=!1,r||(c()?h():(s={},i=d,t.next&&t.next(e)))}),(e=>{a=!1,t.error&&t.error(e),o.unsubscribe()}))};return h(),o}))},extendObservabilitySet:Xc,getByKeyPath:yo,setByKeyPath:go,delByKeyPath:function(e,t){"string"==typeof t?go(e,t,void 0):"length"in t&&[].map.call(t,(function(t){go(e,t,void 0)}))},shallowClone:bo,deepClone:To,getObjectDiff:Bc,cmp:zl,asap:mo,minKey:fl,addons:[],connections:yl,errnames:Ho,dependencies:Yc,semVer:dl,version:dl.split(".").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),Qc.maxKey=ac(Qc.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(nc(ec,(e=>{if(!Jc){let t;gl?(t=document.createEvent("CustomEvent"),t.initCustomEvent(tc,!0,!0,e)):t=new CustomEvent(tc,{detail:e}),Jc=!0,dispatchEvent(t),Jc=!1}})),addEventListener(tc,(({detail:e})=>{Jc||Zc(e)})));let Jc=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(tc);nc(ec,(t=>{Jc||e.postMessage(t)})),e.onmessage=e=>{e.data&&Zc(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){nc(ec,(e=>{try{Jc||("undefined"!=typeof localStorage&&localStorage.setItem(tc,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:tc,changedParts:e}))))}catch(e){}})),"undefined"!=typeof addEventListener&&addEventListener("storage",(e=>{if(e.key===tc){const t=JSON.parse(e.newValue);t&&Zc(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===tc&&Zc(e.changedParts)}))}Ca.rejectionMapper=function(e,t){if(!e||e instanceof qo||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Yo[e.name])return e;var n=new Yo[e.name](t||e.message,e);return"stack"in e&&oo(n,"stack",{get:function(){return this.inner.stack}}),n},Io(Bo,_l);var eu=new Blob(['(() => {\n  var __create = Object.create;\n  var __defProp = Object.defineProperty;\n  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n  var __getOwnPropNames = Object.getOwnPropertyNames;\n  var __getProtoOf = Object.getPrototypeOf;\n  var __hasOwnProp = Object.prototype.hasOwnProperty;\n  var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });\n  var __commonJS = (cb, mod) => function __require() {\n    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n  };\n  var __reExport = (target, module, copyDefault, desc) => {\n    if (module && typeof module === "object" || typeof module === "function") {\n      for (let key of __getOwnPropNames(module))\n        if (!__hasOwnProp.call(target, key) && (copyDefault || key !== "default"))\n          __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });\n    }\n    return target;\n  };\n  var __toESM = (module, isNodeMode) => {\n    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", !isNodeMode && module && module.__esModule ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);\n  };\n\n  // (disabled):../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/require-utils.node\n  var require_require_utils = __commonJS({\n    "(disabled):../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/require-utils.node"() {\n    }\n  });\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/utils/version.js\n  var VERSION = true ? "3.1.4" : "latest";\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js\n  function assert(condition, message) {\n    if (!condition) {\n      throw new Error(message || "loaders.gl assertion failed.");\n    }\n  }\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js\n  var globals = {\n    self: typeof self !== "undefined" && self,\n    window: typeof window !== "undefined" && window,\n    global: typeof global !== "undefined" && global,\n    document: typeof document !== "undefined" && document\n  };\n  var self_ = globals.self || globals.window || globals.global || {};\n  var window_ = globals.window || globals.self || globals.global || {};\n  var global_ = globals.global || globals.self || globals.window || {};\n  var document_ = globals.document || {};\n  var isBrowser = typeof process !== "object" || String(process) !== "[object process]" || process.browser;\n  var isWorker = typeof importScripts === "function";\n  var isMobile = typeof window !== "undefined" && typeof window.orientation !== "undefined";\n  var matches = typeof process !== "undefined" && process.version && /v([0-9]*)/.exec(process.version);\n  var nodeVersion = matches && parseFloat(matches[1]) || 0;\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/library-utils/library-utils.js\n  var node = __toESM(require_require_utils());\n  var VERSION2 = true ? "3.1.4" : LATEST;\n  var loadLibraryPromises = {};\n  async function loadLibrary(libraryUrl, moduleName = null, options = {}) {\n    if (moduleName) {\n      libraryUrl = getLibraryUrl(libraryUrl, moduleName, options);\n    }\n    loadLibraryPromises[libraryUrl] = loadLibraryPromises[libraryUrl] || loadLibraryFromFile(libraryUrl);\n    return await loadLibraryPromises[libraryUrl];\n  }\n  function getLibraryUrl(library, moduleName, options) {\n    if (library.startsWith("http")) {\n      return library;\n    }\n    const modules = options.modules || {};\n    if (modules[library]) {\n      return modules[library];\n    }\n    if (!isBrowser) {\n      return "modules/".concat(moduleName, "/dist/libs/").concat(library);\n    }\n    if (options.CDN) {\n      assert(options.CDN.startsWith("http"));\n      return "".concat(options.CDN, "/").concat(moduleName, "@").concat(VERSION2, "/dist/libs/").concat(library);\n    }\n    if (isWorker) {\n      return "../src/libs/".concat(library);\n    }\n    return "modules/".concat(moduleName, "/src/libs/").concat(library);\n  }\n  async function loadLibraryFromFile(libraryUrl) {\n    if (libraryUrl.endsWith("wasm")) {\n      const response2 = await fetch(libraryUrl);\n      return await response2.arrayBuffer();\n    }\n    if (!isBrowser) {\n      try {\n        return node && node.requireFromFile && await node.requireFromFile(libraryUrl);\n      } catch {\n        return null;\n      }\n    }\n    if (isWorker) {\n      return importScripts(libraryUrl);\n    }\n    const response = await fetch(libraryUrl);\n    const scriptSource = await response.text();\n    return loadLibraryFromString(scriptSource, libraryUrl);\n  }\n  function loadLibraryFromString(scriptSource, id) {\n    if (!isBrowser) {\n      return node.requireFromString && node.requireFromString(scriptSource, id);\n    }\n    if (isWorker) {\n      eval.call(global_, scriptSource);\n      return null;\n    }\n    const script = document.createElement("script");\n    script.id = id;\n    try {\n      script.appendChild(document.createTextNode(scriptSource));\n    } catch (e) {\n      script.text = scriptSource;\n    }\n    document.body.appendChild(script);\n    return null;\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/parsers/basis-module-loader.js\n  var VERSION3 = true ? "3.1.4" : "latest";\n  var BASIS_CDN_ENCODER_WASM = "https://unpkg.com/@loaders.gl/textures@".concat(VERSION3, "/dist/libs/basis_encoder.wasm");\n  var BASIS_CDN_ENCODER_JS = "https://unpkg.com/@loaders.gl/textures@".concat(VERSION3, "/dist/libs/basis_encoder.js");\n  var loadBasisEncoderPromise;\n  async function loadBasisEncoderModule(options) {\n    const modules = options.modules || {};\n    if (modules.basisEncoder) {\n      return modules.basisEncoder;\n    }\n    loadBasisEncoderPromise = loadBasisEncoderPromise || loadBasisEncoder(options);\n    return await loadBasisEncoderPromise;\n  }\n  async function loadBasisEncoder(options) {\n    let BASIS_ENCODER = null;\n    let wasmBinary = null;\n    [BASIS_ENCODER, wasmBinary] = await Promise.all([await loadLibrary(BASIS_CDN_ENCODER_JS, "textures", options), await loadLibrary(BASIS_CDN_ENCODER_WASM, "textures", options)]);\n    BASIS_ENCODER = BASIS_ENCODER || globalThis.BASIS;\n    return await initializeBasisEncoderModule(BASIS_ENCODER, wasmBinary);\n  }\n  function initializeBasisEncoderModule(BasisEncoderModule, wasmBinary) {\n    const options = {};\n    if (wasmBinary) {\n      options.wasmBinary = wasmBinary;\n    }\n    return new Promise((resolve) => {\n      BasisEncoderModule(options).then((module) => {\n        const {\n          BasisFile,\n          KTX2File,\n          initializeBasis,\n          BasisEncoder\n        } = module;\n        initializeBasis();\n        resolve({\n          BasisFile,\n          KTX2File,\n          BasisEncoder\n        });\n      });\n    });\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/encoders/encode-ktx2-basis-texture.js\n  async function encodeKTX2BasisTexture(image, options = {}) {\n    const {\n      useSRGB = false,\n      qualityLevel = 10,\n      encodeUASTC = false,\n      mipmaps = false\n    } = options;\n    const {\n      BasisEncoder\n    } = await loadBasisEncoderModule(options);\n    const basisEncoder = new BasisEncoder();\n    try {\n      const basisFileData = new Uint8Array(image.width * image.height * 4);\n      basisEncoder.setCreateKTX2File(true);\n      basisEncoder.setKTX2UASTCSupercompression(true);\n      basisEncoder.setKTX2SRGBTransferFunc(true);\n      basisEncoder.setSliceSourceImage(0, image.data, image.width, image.height, false);\n      basisEncoder.setPerceptual(useSRGB);\n      basisEncoder.setMipSRGB(useSRGB);\n      basisEncoder.setQualityLevel(qualityLevel);\n      basisEncoder.setUASTC(encodeUASTC);\n      basisEncoder.setMipGen(mipmaps);\n      const numOutputBytes = basisEncoder.encode(basisFileData);\n      const actualKTX2FileData = basisFileData.subarray(0, numOutputBytes).buffer;\n      return actualKTX2FileData;\n    } catch (error) {\n      console.error("Basis Universal Supercompressed GPU Texture encoder Error: ", error);\n      throw error;\n    } finally {\n      basisEncoder.delete();\n    }\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/ktx2-basis-universal-texture-writer.js\n  var KTX2BasisUniversalTextureWriter = {\n    name: "Basis Universal Supercompressed GPU Texture",\n    id: "ktx2-basis-supercompressed-texture",\n    module: "textures",\n    version: VERSION,\n    extensions: ["ktx2"],\n    options: {\n      useSRGB: false,\n      qualityLevel: 10,\n      encodeUASTC: false,\n      mipmaps: false\n    },\n    encode: encodeKTX2BasisTexture\n  };\n\n  // core/textures/KTX2Worker.ts\n  var worker = self;\n  worker.onmessage = async (msg) => {\n    try {\n      const texture = await KTX2BasisUniversalTextureWriter.encode(msg.data, {\n        useSRGB: true,\n        encodeUASTC: true,\n        mipmaps: true\n      });\n      const response = { texture };\n      worker.postMessage(response, [texture]);\n    } catch (err) {\n      worker.postMessage({ error: err.message });\n    }\n  };\n})();\n'],{type:"text/javascript"}),tu=URL.createObjectURL(eu);async function nu(e){if(qi.embeddedCSSMap.has(e))return qi.embeddedCSSMap.get(e);const t=await fetch(e,{headers:{accept:"text/css"}}),n=await ru(e,await t.text());return qi.embeddedCSSMap.set(e,n),qi.embeddedCSSMap.get(e)}async function ru(e,t){let n;const r=[];t=(t=(t=(t=t.replace(new RegExp(":hover","g"),qi.attributeCSS(qi.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),qi.attributeCSS(qi.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),qi.attributeCSS(qi.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),qi.attributeCSS(qi.TARGET_ATTRIBUTE));const s=RegExp(/(@import.*?["']([^"']+)["'].*?|url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\))/gi);for(;n=s.exec(t);){const s=!!n[2]?"type/css":void 0,i=n[2]||n[3];r.push(su(new URL(i,e).href,s).then((e=>{t=t.replace(i,e)})))}return await Promise.all(r),t}async function su(e,t){if(e.startsWith("data"))return e;if(qi.dataURLMap.has(e))return qi.dataURLMap.get(e);const n=new Promise((async n=>{const r=await fetch(e,t?{headers:{accept:t}}:void 0),s=r.headers.get("content-type");if("text/css"==s){const t=await ru(e,await r.text());qi.embeddedCSSMap.set(e,t),n("data:"+s+";base64,"+window.btoa(t))}else{const e=new Uint8Array(await r.arrayBuffer());n("data:"+s+";base64,"+qi.arrayBufferToBase64(e))}}));return qi.dataURLMap.set(e,n),n}function iu(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function ou(e,t){return" "+e+'="'+iu(t)+'"'}async function au(e,t){let n=[];for(const r of e.childNodes)n.push(lu(r,t));return Promise.all(n).then((e=>e.join("")))}async function lu(e,t){const n=t.replacer?.(t.target,e);if("string"==typeof n)return n;if("#document"===e.nodeName||"#document-fragment"===e.nodeName)return au(e,t);if(e.tagName)return async function(e,t){const n=e.tagName.toLowerCase();let r="<"+n;r+=function(e,t){return e.hasAttribute("xmlns")||!t&&e.namespaceURI===e.parentElement.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'}(e,0===t.depth);const s=au(e,t);for(const t of e.attributes)"src"===t.name?"IMG"===e.nodeName?r+=ou(t.name,await su(t.value)):r+=ou("data-src",t.value):r+=ou(t.name,t.value);return e.childNodes.length>0?(t.depth++,r+=">",r+=await s,r+="</"+n+">",t.depth--):r+="/>",r}(e,t);if("#text"===e.nodeName)return function(e){return(e.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e);if("#comment"===e.nodeName);else if("#cdata-section"===e.nodeName)return function(e){return"<![CDATA["+e.nodeValue+"]]>"}(e);return""}const cu=(e,t)=>{if(e===t)return;if(t.nodeType!==Node.ELEMENT_NODE)return;const n=t,r=n.tagName?.toLowerCase(),s=getComputedStyle(n),i="inline"===s.display||"inline-block"===s.display;if("style"===r||"link"===r)return"";if(i)return;const o=qi.layers.get(n);if(o){o.manager.updateDOMMetrics(o);const e=o.domMetrics.bounds;let t="";const r=`box-sizing:border-box;max-width:${e.width}px;max-height:${e.height}px;min-width:${e.width}px;min-height:${e.height}px;visibility:hidden`;let s=!1;for(const e of o.element.attributes)"src"!==e.name&&("style"==e.name?(t+=ou(e.name,e.value+";"+r),s=!0):t+=ou(e.name,e.value));s||(t+=ou("style",r));const i=n.tagName.toLowerCase();return`<${i} ${t}></${i}>`}};const uu=new Array(255);for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");uu[e]=t}function hu(e){return function(e){const t=e.length;let n="";for(let r=0;r<t;++r)n+=uu[e[r]];return n}(new Uint8Array(e))}var du,pu,fu;try{du=new TextDecoder}catch(e){}var mu,vu,yu,gu,bu,wu=0,_u={},xu=0,ku=0,Eu=[],Tu={useRecords:!1,mapsAsObjects:!0};class Su{}const Ru=new Su;Ru.name="MessagePack 0xC1";var Cu=!1,Au=2;try{new Function("")}catch(e){Au=1/0}class Mu{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(pu)return rh((()=>(sh(),this?this.unpack(e,t):Mu.prototype.unpack.call(Tu,e,t))));fu=t>-1?t:e.length,wu=0,ku=0,vu=null,yu=null,pu=e;try{bu=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){if(pu=null,e instanceof Uint8Array)throw t;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof Mu){if(_u=this,this.structures)return mu=this.structures,Pu();(!mu||mu.length>0)&&(mu=[])}else _u=Tu,(!mu||mu.length>0)&&(mu=[]);return Pu()}unpackMultiple(e,t){let n,r=0;try{Cu=!0;let s=e.length,i=this?this.unpack(e,s):oh.unpack(e,s);if(!t){for(n=[i];wu<s;)r=wu,n.push(Pu());return n}for(t(i);wu<s;)if(r=wu,!1===t(Pu()))return}catch(e){throw e.lastPosition=r,e.values=n,e}finally{Cu=!1,sh()}}_mergeStructures(e,t){for(let t=0,n=(e=e||[]).length;t<n;t++){let n=e[t];n&&(n.isShared=!0,t>=32&&(n.highByte=t-32>>5))}e.sharedLength=e.length;for(let n in t||[])if(n>=0){let r=e[n],s=t[n];s&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[n]=r),e[n]=s)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function Pu(){try{if(!_u.trusted&&!Cu){let e=mu.sharedLength||0;e<mu.length&&(mu.length=e)}let e=Lu();if(yu&&(wu=yu.postBundlePosition),wu==fu)mu.restoreStructures&&Ou(),mu=null,pu=null,gu&&(gu=null);else{if(wu>fu){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}if(!Cu)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw mu.restoreStructures&&Ou(),sh(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function Ou(){for(let e in mu.restoreStructures)mu[e]=mu.restoreStructures[e];mu.restoreStructures=null}function Lu(){let e=pu[wu++];if(e<160){if(e<128){if(e<64)return e;{let t=mu[63&e]||_u.getStructures&&Fu()[63&e];return t?(t.read||(t.read=Iu(t,63&e)),t.read()):e}}if(e<144){if(e-=128,_u.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[Zu()]=Lu();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(Lu(),Lu());return t}}{e-=144;let t=new Array(e);for(let n=0;n<e;n++)t[n]=Lu();return t}}if(e<192){let t=e-160;if(ku>=wu)return vu.slice(wu-xu,(wu+=t)-xu);if(0==ku&&fu<140){let e=t<16?Hu(t):Gu(t);if(null!=e)return e}return zu(t)}{let t;switch(e){case 192:return null;case 193:return yu?(t=Lu(),t>0?yu[1].slice(yu.position1,yu.position1+=t):yu[0].slice(yu.position0,yu.position0-=t)):Ru;case 194:return!1;case 195:return!0;case 196:return Xu(pu[wu++]);case 197:return t=bu.getUint16(wu),wu+=2,Xu(t);case 198:return t=bu.getUint32(wu),wu+=4,Xu(t);case 199:return Yu(pu[wu++]);case 200:return t=bu.getUint16(wu),wu+=2,Yu(t);case 201:return t=bu.getUint32(wu),wu+=4,Yu(t);case 202:if(t=bu.getFloat32(wu),_u.useFloat32>2){let e=ih[(127&pu[wu])<<1|pu[wu+1]>>7];return wu+=4,(e*t+(t>0?.5:-.5)>>0)/e}return wu+=4,t;case 203:return t=bu.getFloat64(wu),wu+=8,t;case 204:return pu[wu++];case 205:return t=bu.getUint16(wu),wu+=2,t;case 206:return t=bu.getUint32(wu),wu+=4,t;case 207:return _u.int64AsNumber?(t=4294967296*bu.getUint32(wu),t+=bu.getUint32(wu+4)):t=bu.getBigUint64(wu),wu+=8,t;case 208:return bu.getInt8(wu++);case 209:return t=bu.getInt16(wu),wu+=2,t;case 210:return t=bu.getInt32(wu),wu+=4,t;case 211:return _u.int64AsNumber?(t=4294967296*bu.getInt32(wu),t+=bu.getUint32(wu+4)):t=bu.getBigInt64(wu),wu+=8,t;case 212:if(t=pu[wu++],114==t)return Ju(63&pu[wu++]);{let e=Eu[t];if(e)return e.read?(wu++,e.read(Lu())):e.noBuffer?(wu++,e()):e(pu.subarray(wu,++wu));throw new Error("Unknown extension "+t)}case 213:return t=pu[wu],114==t?(wu++,Ju(63&pu[wu++],pu[wu++])):Yu(2);case 214:return Yu(4);case 215:return Yu(8);case 216:return Yu(16);case 217:return t=pu[wu++],ku>=wu?vu.slice(wu-xu,(wu+=t)-xu):Uu(t);case 218:return t=bu.getUint16(wu),ku>=(wu+=2)?vu.slice(wu-xu,(wu+=t)-xu):ju(t);case 219:return t=bu.getUint32(wu),ku>=(wu+=4)?vu.slice(wu-xu,(wu+=t)-xu):Nu(t);case 220:return t=bu.getUint16(wu),wu+=2,qu(t);case 221:return t=bu.getUint32(wu),wu+=4,qu(t);case 222:return t=bu.getUint16(wu),wu+=2,Wu(t);case 223:return t=bu.getUint32(wu),wu+=4,Wu(t);default:if(e>=224)return e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}const Bu=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Iu(e,t){function n(){if(n.count++>Au){let n=e.read=new Function("r","return function(){return {"+e.map((e=>Bu.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}}")(Lu);return 0===e.highByte&&(e.read=Du(t,e.read)),n()}let r={};for(let t=0,n=e.length;t<n;t++){r[e[t]]=Lu()}return r}return n.count=0,0===e.highByte?Du(t,n):n}const Du=(e,t)=>function(){let n=pu[wu++];if(0===n)return t();let r=e<32?-(e+(n<<5)):e+(n<<5),s=mu[r]||Fu()[r];if(!s)throw new Error("Record id is not defined for "+r);return s.read||(s.read=Iu(s,e)),s.read()};function Fu(){let e=rh((()=>(pu=null,_u.getStructures())));return mu=_u._mergeStructures(e,mu)}var zu=Vu,Uu=Vu,ju=Vu,Nu=Vu;function Vu(e){let t;if(e<16&&(t=Hu(e)))return t;if(e>64&&du)return du.decode(pu.subarray(wu,wu+=e));const n=wu+e,r=[];for(t="";wu<n;){const e=pu[wu++];if(0==(128&e))r.push(e);else if(192==(224&e)){const t=63&pu[wu++];r.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&pu[wu++],n=63&pu[wu++];r.push((31&e)<<12|t<<6|n)}else if(240==(248&e)){let t=(7&e)<<18|(63&pu[wu++])<<12|(63&pu[wu++])<<6|63&pu[wu++];t>65535&&(t-=65536,r.push(t>>>10&1023|55296),t=56320|1023&t),r.push(t)}else r.push(e);r.length>=4096&&(t+=Ku.apply(String,r),r.length=0)}return r.length>0&&(t+=Ku.apply(String,r)),t}function qu(e){let t=new Array(e);for(let n=0;n<e;n++)t[n]=Lu();return t}function Wu(e){if(_u.mapsAsObjects){let t={};for(let n=0;n<e;n++)t[Zu()]=Lu();return t}{let t=new Map;for(let n=0;n<e;n++)t.set(Lu(),Lu());return t}}var Ku=String.fromCharCode;function Gu(e){let t=wu,n=new Array(e);for(let r=0;r<e;r++){const e=pu[wu++];if((128&e)>0)return void(wu=t);n[r]=e}return Ku.apply(String,n)}function Hu(e){if(e<4){if(e<2){if(0===e)return"";{let e=pu[wu++];return(128&e)>1?void(wu-=1):Ku(e)}}{let t=pu[wu++],n=pu[wu++];if((128&t)>0||(128&n)>0)return void(wu-=2);if(e<3)return Ku(t,n);let r=pu[wu++];return(128&r)>0?void(wu-=3):Ku(t,n,r)}}{let t=pu[wu++],n=pu[wu++],r=pu[wu++],s=pu[wu++];if((128&t)>0||(128&n)>0||(128&r)>0||(128&s)>0)return void(wu-=4);if(e<6){if(4===e)return Ku(t,n,r,s);{let e=pu[wu++];return(128&e)>0?void(wu-=5):Ku(t,n,r,s,e)}}if(e<8){let i=pu[wu++],o=pu[wu++];if((128&i)>0||(128&o)>0)return void(wu-=6);if(e<7)return Ku(t,n,r,s,i,o);let a=pu[wu++];return(128&a)>0?void(wu-=7):Ku(t,n,r,s,i,o,a)}{let i=pu[wu++],o=pu[wu++],a=pu[wu++],l=pu[wu++];if((128&i)>0||(128&o)>0||(128&a)>0||(128&l)>0)return void(wu-=8);if(e<10){if(8===e)return Ku(t,n,r,s,i,o,a,l);{let e=pu[wu++];return(128&e)>0?void(wu-=9):Ku(t,n,r,s,i,o,a,l,e)}}if(e<12){let c=pu[wu++],u=pu[wu++];if((128&c)>0||(128&u)>0)return void(wu-=10);if(e<11)return Ku(t,n,r,s,i,o,a,l,c,u);let h=pu[wu++];return(128&h)>0?void(wu-=11):Ku(t,n,r,s,i,o,a,l,c,u,h)}{let c=pu[wu++],u=pu[wu++],h=pu[wu++],d=pu[wu++];if((128&c)>0||(128&u)>0||(128&h)>0||(128&d)>0)return void(wu-=12);if(e<14){if(12===e)return Ku(t,n,r,s,i,o,a,l,c,u,h,d);{let e=pu[wu++];return(128&e)>0?void(wu-=13):Ku(t,n,r,s,i,o,a,l,c,u,h,d,e)}}{let p=pu[wu++],f=pu[wu++];if((128&p)>0||(128&f)>0)return void(wu-=14);if(e<15)return Ku(t,n,r,s,i,o,a,l,c,u,h,d,p,f);let m=pu[wu++];return(128&m)>0?void(wu-=15):Ku(t,n,r,s,i,o,a,l,c,u,h,d,p,f,m)}}}}}function $u(){let e,t=pu[wu++];if(t<192)e=t-160;else switch(t){case 217:e=pu[wu++];break;case 218:e=bu.getUint16(wu),wu+=2;break;case 219:e=bu.getUint32(wu),wu+=4;break;default:throw new Error("Expected string")}return Vu(e)}function Xu(e){return _u.copyBuffers?Uint8Array.prototype.slice.call(pu,wu,wu+=e):pu.subarray(wu,wu+=e)}function Yu(e){let t=pu[wu++];if(Eu[t])return Eu[t](pu.subarray(wu,wu+=e));throw new Error("Unknown extension type "+t)}var Qu=new Array(4096);function Zu(){let e=pu[wu++];if(!(e>=160&&e<192))return wu--,Lu();if(e-=160,ku>=wu)return vu.slice(wu-xu,(wu+=e)-xu);if(!(0==ku&&fu<180))return zu(e);let t,n=4095&(e<<5^(e>1?bu.getUint16(wu):e>0?pu[wu]:0)),r=Qu[n],s=wu,i=wu+e-3,o=0;if(r&&r.bytes==e){for(;s<i;){if(t=bu.getUint32(s),t!=r[o++]){s=1879048192;break}s+=4}for(i+=3;s<i;)if(t=pu[s++],t!=r[o++]){s=1879048192;break}if(s===i)return wu=s,r.string;i-=3,s=wu}for(r=[],Qu[n]=r,r.bytes=e;s<i;)t=bu.getUint32(s),r.push(t),s+=4;for(i+=3;s<i;)t=pu[s++],r.push(t);let a=e<16?Hu(e):Gu(e);return r.string=null!=a?a:zu(e)}const Ju=(e,t)=>{var n=Lu();let r=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,n.highByte=t);let s=mu[e];return s&&s.isShared&&((mu.restoreStructures||(mu.restoreStructures=[]))[e]=s),mu[e]=n,n.read=Iu(n,r),n.read()};var eh="object"==typeof self?self:global;Eu[0]=()=>{},Eu[0].noBuffer=!0,Eu[101]=()=>{let e=Lu();return(eh[e[0]]||Error)(e[1])},Eu[105]=e=>{let t=bu.getUint32(wu-4);gu||(gu=new Map);let n,r=pu[wu];n=r>=144&&r<160||220==r||221==r?[]:{};let s={target:n};gu.set(t,s);let i=Lu();return s.used?Object.assign(n,i):(s.target=i,i)},Eu[112]=e=>{let t=bu.getUint32(wu-4),n=gu.get(t);return n.used=!0,n.target},Eu[115]=()=>new Set(Lu());const th=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));Eu[116]=e=>{let t=e[0],n=th[t];if(!n)throw new Error("Could not find typed array for code "+t);return new eh[n](Uint8Array.prototype.slice.call(e,1).buffer)},Eu[120]=()=>{let e=Lu();return new RegExp(e[0],e[1])};const nh=[];function rh(e){let t=fu,n=wu,r=xu,s=ku,i=vu,o=gu,a=yu,l=new Uint8Array(pu.slice(0,fu)),c=mu,u=mu.slice(0,mu.length),h=_u,d=Cu,p=e();return fu=t,wu=n,xu=r,ku=s,vu=i,gu=o,yu=a,pu=l,Cu=d,(mu=c).splice(0,mu.length,...u),_u=h,bu=new DataView(pu.buffer,pu.byteOffset,pu.byteLength),p}function sh(){pu=null,gu=null,mu=null}Eu[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],n=wu;return wu+=t-e.length,yu=nh,(yu=[$u(),$u()]).position0=0,yu.position1=0,yu.postBundlePosition=wu,wu=n,Lu()},Eu[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const ih=new Array(147);for(let e=0;e<256;e++)ih[e]=+("1e"+Math.floor(45.15-.30103*e));var oh=new Mu({useRecords:!1});oh.unpack,oh.unpackMultiple,oh.unpack;let ah,lh,ch,uh=new Float32Array(1);new Uint8Array(uh.buffer,0,4);try{ah=new TextEncoder}catch(e){}const hh="undefined"!=typeof Buffer,dh=hh?Buffer.allocUnsafeSlow:Uint8Array,ph=hh?Buffer:Uint8Array,fh=hh?4294967296:2144337920;let mh,vh,yh,gh,bh=0,wh=null;const _h=/[\u0080-\uFFFF]/,xh=Symbol("record-id");class kh extends Mu{constructor(e){let t,n,r,s;super(e),this.offset=0;let i=0,o=ph.prototype.utf8Write?function(e,t,n){return mh.utf8Write(e,t,n)}:!(!ah||!ah.encodeInto)&&function(e,t){return ah.encodeInto(e,mh.subarray(t)).written},a=this;e||(e={});let l=e&&e.sequential,c=e.structures||e.saveStructures,u=e.maxSharedStructures;if(null==u&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&null==e.moreTypes&&(e.moreTypes=!0);let h=e.maxOwnStructures;null==h&&(h=c?32:64),this.structures||0==e.useRecords||(this.structures=[]);let d=u>32||h+u>64,p=u+64,f=u+h+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],v=0,y=0;this.pack=this.encode=function(e,o){if(mh||(mh=new dh(8192),yh=new DataView(mh.buffer,0,8192),bh=0),gh=mh.length-10,gh-bh<2048?(mh=new dh(mh.length),yh=new DataView(mh.buffer,0,mh.length),gh=mh.length-10,bh=0):bh=bh+7&2147483640,t=bh,s=a.structuredClone?new Map:null,a.bundleStrings&&"string"!=typeof e?(wh=[],wh.size=1/0):wh=null,r=a.structures,r){r.uninitialized&&(r=a._mergeStructures(a.getStructures()));let e=r.sharedLength||0;if(e>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let t=0;t<e;t++){let e=r[t];if(!e)continue;let n,s=r.transitions;for(let t=0,r=e.length;t<r;t++){let r=e[t];n=s[r],n||(n=s[r]=Object.create(null)),s=n}s[xh]=t+64}i=e}l||(r.nextId=e+64)}n&&(n=!1);try{if(g(e),wh&&Rh(t,g),a.offset=bh,s&&s.idsToInsert){bh+=6*s.idsToInsert.length,bh>gh&&w(bh),a.offset=bh;let e=function(e,t){let n,r=6*t.length,s=e.length-r;t.sort(((e,t)=>e.offset>t.offset?1:-1));for(;n=t.pop();){let t=n.offset,i=n.id;e.copyWithin(t+r,t,s),r-=6;let o=t+r;e[o++]=214,e[o++]=105,e[o++]=i>>24,e[o++]=i>>16&255,e[o++]=i>>8&255,e[o++]=255&i,s=t}return e}(mh.subarray(t,bh),s.idsToInsert);return s=null,e}return o&Ah?(mh.start=t,mh.end=bh,mh):mh.subarray(t,bh)}finally{if(r){y<10&&y++;let s=r.sharedLength||u;if(r.length>s&&(r.length=s),v>1e4)r.transitions=null,y=0,v=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let e=0,t=m.length;e<t;e++)m[e][xh]=0;m=[]}if(n&&a.saveStructures){let n=mh.subarray(t,bh);return!1===a.saveStructures(r,i)?(a._mergeStructures(a.getStructures()),a.pack(e)):(i=s,n)}}o&Mh&&(bh=t)}};const g=e=>{bh>gh&&(mh=w(bh));var n,r=typeof e;if("string"===r){let r,s=e.length;if(wh&&s>=4&&s<4096){if((wh.size+=s)>61440){let e,n=(wh[0]?3*wh[0].length+wh[1].length:0)+10;bh+n>gh&&(mh=w(bh+n)),wh.position?(mh[bh]=200,bh+=3,mh[bh++]=98,e=bh-t,bh+=4,Rh(t,g),yh.setUint16(e+t-3,bh-t-e)):(mh[bh++]=214,mh[bh++]=98,e=bh-t,bh+=4),wh=["",""],wh.size=0,wh.position=e}let n=_h.test(e);return wh[n?0:1]+=e,mh[bh++]=193,void g(n?-s:s)}r=s<32?1:s<256?2:s<65536?3:5;let i=3*s;if(bh+i>gh&&(mh=w(bh+i)),s<64||!o){let t,i,o,a=bh+r;for(t=0;t<s;t++)i=e.charCodeAt(t),i<128?mh[a++]=i:i<2048?(mh[a++]=i>>6|192,mh[a++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(t+1)))?(i=65536+((1023&i)<<10)+(1023&o),t++,mh[a++]=i>>18|240,mh[a++]=i>>12&63|128,mh[a++]=i>>6&63|128,mh[a++]=63&i|128):(mh[a++]=i>>12|224,mh[a++]=i>>6&63|128,mh[a++]=63&i|128);n=a-bh-r}else n=o(e,bh+r,i);n<32?mh[bh++]=160|n:n<256?(r<2&&mh.copyWithin(bh+2,bh+1,bh+1+n),mh[bh++]=217,mh[bh++]=n):n<65536?(r<3&&mh.copyWithin(bh+3,bh+2,bh+2+n),mh[bh++]=218,mh[bh++]=n>>8,mh[bh++]=255&n):(r<5&&mh.copyWithin(bh+5,bh+3,bh+3+n),mh[bh++]=219,yh.setUint32(bh,n),bh+=4),bh+=n}else if("number"===r)if(e>>>0===e)e<64?mh[bh++]=e:e<256?(mh[bh++]=204,mh[bh++]=e):e<65536?(mh[bh++]=205,mh[bh++]=e>>8,mh[bh++]=255&e):(mh[bh++]=206,yh.setUint32(bh,e),bh+=4);else if(e>>0===e)e>=-32?mh[bh++]=256+e:e>=-128?(mh[bh++]=208,mh[bh++]=e+256):e>=-32768?(mh[bh++]=209,yh.setInt16(bh,e),bh+=2):(mh[bh++]=210,yh.setInt32(bh,e),bh+=4);else{let t;if((t=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){let n;if(mh[bh++]=202,yh.setFloat32(bh,e),t<4||(n=e*ih[(127&mh[bh])<<1|mh[bh+1]>>7])>>0===n)return void(bh+=4);bh--}mh[bh++]=203,yh.setFloat64(bh,e),bh+=8}else if("object"===r)if(e){if(s){let n=s.get(e);if(n){if(!n.id){let e=s.idsToInsert||(s.idsToInsert=[]);n.id=e.push(n)}return mh[bh++]=214,mh[bh++]=112,yh.setUint32(bh,n.id),void(bh+=4)}s.set(e,{offset:bh-t})}let r=e.constructor;if(r===Object)b(e,!0);else if(r===Array){(n=e.length)<16?mh[bh++]=144|n:n<65536?(mh[bh++]=220,mh[bh++]=n>>8,mh[bh++]=255&n):(mh[bh++]=221,yh.setUint32(bh,n),bh+=4);for(let t=0;t<n;t++)g(e[t])}else if(r===Map){(n=e.size)<16?mh[bh++]=128|n:n<65536?(mh[bh++]=222,mh[bh++]=n>>8,mh[bh++]=255&n):(mh[bh++]=223,yh.setUint32(bh,n),bh+=4);for(let[t,n]of e)g(t),g(n)}else{for(let t=0,n=lh.length;t<n;t++){if(e instanceof ch[t]){let n=lh[t];if(n.write)return n.type&&(mh[bh++]=212,mh[bh++]=n.type,mh[bh++]=0),void g(n.write.call(this,e));let r,s=mh,i=yh,o=bh;mh=null;try{r=n.pack.call(this,e,(e=>(mh=s,s=null,bh+=e,bh>gh&&w(bh),{target:mh,targetView:yh,position:bh-e})),g)}finally{s&&(mh=s,yh=i,bh=o,gh=mh.length-10)}return void(r&&(r.length+bh>gh&&w(r.length+bh),bh=Sh(r,mh,bh,n.type)))}}b(e,!e.hasOwnProperty)}}else mh[bh++]=192;else if("boolean"===r)mh[bh++]=e?195:194;else if("bigint"===r){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))mh[bh++]=211,yh.setBigInt64(bh,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)mh[bh++]=207,yh.setBigUint64(bh,e);else{if(!this.largeBigIntToFloat)throw new RangeError(e+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");mh[bh++]=203,yh.setFloat64(bh,Number(e))}bh+=8}else if("undefined"===r)this.encodeUndefinedAsNil?mh[bh++]=192:(mh[bh++]=212,mh[bh++]=0,mh[bh++]=0);else{if("function"!==r)throw new Error("Unknown type: "+r);g(this.writeFunction&&this.writeFunction())}},b=!1===this.useRecords?this.variableMapSize?e=>{let t,n=Object.keys(e),r=n.length;r<16?mh[bh++]=128|r:r<65536?(mh[bh++]=222,mh[bh++]=r>>8,mh[bh++]=255&r):(mh[bh++]=223,yh.setUint32(bh,r),bh+=4);for(let s=0;s<r;s++)g(t=n[s]),g(e[t])}:(e,n)=>{mh[bh++]=222;let r=bh-t;bh+=2;let s=0;for(let t in e)(n||e.hasOwnProperty(t))&&(g(t),g(e[t]),s++);mh[r+++t]=s>>8,mh[r+t]=255&s}:e.progressiveRecords&&!d?(e,n)=>{let s,i,o=r.transitions||(r.transitions=Object.create(null)),a=bh++-t;for(let l in e)if(n||e.hasOwnProperty(l)){if(s=o[l],s)o=s;else{let n=Object.keys(e),c=o;o=r.transitions;let u=0;for(let e=0,t=n.length;e<t;e++){let t=n[e];s=o[t],s||(s=o[t]=Object.create(null),u++),o=s}a+t+1==bh?(bh--,_(o,n,u)):x(o,n,a,u),i=!0,o=c[l]}g(e[l])}if(!i){let n=o[xh];n?mh[a+t]=n:x(o,Object.keys(e),a,0)}}:(e,t)=>{let n,s=r.transitions||(r.transitions=Object.create(null)),i=0;for(let r in e)(t||e.hasOwnProperty(r))&&(n=s[r],n||(n=s[r]=Object.create(null),i++),s=n);let o=s[xh];o?o>=96&&d?(mh[bh++]=96+(31&(o-=96)),mh[bh++]=o>>5):mh[bh++]=o:_(s,s.__keys__||Object.keys(e),i);for(let n in e)(t||e.hasOwnProperty(n))&&g(e[n])},w=e=>{let n;if(e>16777216){if(e-t>fh)throw new Error("Packed buffer would be larger than maximum buffer size");n=Math.min(fh,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else n=1+(Math.max(e-t<<2,mh.length-1)>>12)<<12;let r=new dh(n);return yh=new DataView(r.buffer,0,n),mh.copy?mh.copy(r,0,t,e):r.set(mh.slice(t,e)),bh-=t,t=0,gh=r.length-10,mh=r},_=(e,t,s)=>{let i=r.nextId;i||(i=64),i<p&&this.shouldShareStructure&&!this.shouldShareStructure(t)?(i=r.nextOwnId,i<f||(i=p),r.nextOwnId=i+1):(i>=f&&(i=p),r.nextId=i+1);let o=t.highByte=i>=96&&d?i-96>>5:-1;e[xh]=i,e.__keys__=t,r[i-64]=t,i<p?(t.isShared=!0,r.sharedLength=i-63,n=!0,o>=0?(mh[bh++]=96+(31&i),mh[bh++]=o):mh[bh++]=i):(o>=0?(mh[bh++]=213,mh[bh++]=114,mh[bh++]=96+(31&i),mh[bh++]=o):(mh[bh++]=212,mh[bh++]=114,mh[bh++]=i),s&&(v+=y*s),m.length>=h&&(m.shift()[xh]=0),m.push(e),g(t))},x=(e,n,r,s)=>{let i=mh,o=bh,a=gh,l=t;mh=vh,bh=0,t=0,mh||(vh=mh=new dh(8192)),gh=mh.length-10,_(e,n,s),vh=mh;let c=bh;if(mh=i,bh=o,gh=a,t=l,c>1){let e=bh+c-1;e>gh&&w(e);let n=r+t;mh.copyWithin(n+c,n+1,bh),mh.set(vh.slice(0,c),n),bh=e}else mh[r+t]=vh[0]}}useBuffer(e){mh=e,yh=new DataView(mh.buffer,mh.byteOffset,mh.byteLength),bh=0}clearSharedData(){this.structures&&(this.structures=[])}}function Eh(e,t,n,r){let s=e.byteLength;if(s+1<256){var{target:i,position:o}=n(4+s);i[o++]=199,i[o++]=s+1}else if(s+1<65536){var{target:i,position:o}=n(5+s);i[o++]=200,i[o++]=s+1>>8,i[o++]=s+1&255}else{var{target:i,position:o,targetView:a}=n(7+s);i[o++]=201,a.setUint32(o,s+1),o+=4}i[o++]=116,i[o++]=t,i.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function Th(e,t){let n=e.byteLength;var r,s;if(n<256){var{target:r,position:s}=t(n+2);r[s++]=196,r[s++]=n}else if(n<65536){var{target:r,position:s}=t(n+3);r[s++]=197,r[s++]=n>>8,r[s++]=255&n}else{var{target:r,position:s,targetView:i}=t(n+5);r[s++]=198,i.setUint32(s,n),s+=4}r.set(e,s)}function Sh(e,t,n,r){let s=e.length;switch(s){case 1:t[n++]=212;break;case 2:t[n++]=213;break;case 4:t[n++]=214;break;case 8:t[n++]=215;break;case 16:t[n++]=216;break;default:s<256?(t[n++]=199,t[n++]=s):s<65536?(t[n++]=200,t[n++]=s>>8,t[n++]=255&s):(t[n++]=201,t[n++]=s>>24,t[n++]=s>>16&255,t[n++]=s>>8&255,t[n++]=255&s)}return t[n++]=r,t.set(e,n),n+=s}function Rh(e,t){yh.setUint32(wh.position+e,bh-wh.position-e);let n=wh;wh=null,t(n[0]),t(n[1])}ch=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,Su],lh=[{pack(e,t,n){let r=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&r>=0&&r<4294967296){let{target:e,targetView:n,position:s}=t(6);e[s++]=214,e[s++]=255,n.setUint32(s,r)}else if(r>0&&r<4294967296){let{target:n,targetView:s,position:i}=t(10);n[i++]=215,n[i++]=255,s.setUint32(i,4e6*e.getMilliseconds()+(r/1e3/4294967296>>0)),s.setUint32(i+4,r)}else if(isNaN(r)){if(this.onInvalidDate)return t(0),n(this.onInvalidDate());let{target:e,targetView:r,position:s}=t(3);e[s++]=212,e[s++]=255,e[s++]=255}else{let{target:n,targetView:s,position:i}=t(15);n[i++]=199,n[i++]=12,n[i++]=255,s.setUint32(i,1e6*e.getMilliseconds()),s.setBigInt64(i+4,BigInt(Math.floor(r)))}}},{pack(e,t,n){let r=Array.from(e),{target:s,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(s[i++]=212,s[i++]=115,s[i++]=0),n(r)}},{pack(e,t,n){let{target:r,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(r[s++]=212,r[s++]=101,r[s++]=0),n([e.name,e.message])}},{pack(e,t,n){let{target:r,position:s}=t(this.moreTypes?3:0);this.moreTypes&&(r[s++]=212,r[s++]=120,r[s++]=0),n([e.source,e.flags])}},{pack(e,t){this.moreTypes?Eh(e,16,t):Th(hh?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let n=e.constructor;n!==ph&&this.moreTypes?Eh(e,th.indexOf(n.name),t):Th(e,t)}},{pack(e,t){let{target:n,position:r}=t(1);n[r]=193}}];let Ch=new kh({useRecords:!1});Ch.pack,Ch.pack;const Ah=512,Mh=1024;var Ph={},Oh=Uint8Array,Lh=Uint16Array,Bh=Uint32Array,Ih=new Oh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dh=new Oh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fh=new Oh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zh=function(e,t){for(var n=new Lh(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new Bh(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)s[i]=i-n[r]<<5|r;return[n,s]},Uh=zh(Ih,2),jh=Uh[0],Nh=Uh[1];jh[28]=258,Nh[258]=28;for(var Vh=zh(Dh,0),qh=Vh[0],Wh=Vh[1],Kh=new Lh(32768),Gh=0;Gh<32768;++Gh){var Hh=(43690&Gh)>>>1|(21845&Gh)<<1;Hh=(61680&(Hh=(52428&Hh)>>>2|(13107&Hh)<<2))>>>4|(3855&Hh)<<4,Kh[Gh]=((65280&Hh)>>>8|(255&Hh)<<8)>>>1}var $h=function(e,t,n){for(var r=e.length,s=0,i=new Lh(t);s<r;++s)e[s]&&++i[e[s]-1];var o,a=new Lh(t);for(s=0;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(n){o=new Lh(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],h=a[e[s]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[Kh[h]>>>l]=c}else for(o=new Lh(r),s=0;s<r;++s)e[s]&&(o[s]=Kh[a[e[s]-1]++]>>>15-e[s]);return o},Xh=new Oh(288);for(Gh=0;Gh<144;++Gh)Xh[Gh]=8;for(Gh=144;Gh<256;++Gh)Xh[Gh]=9;for(Gh=256;Gh<280;++Gh)Xh[Gh]=7;for(Gh=280;Gh<288;++Gh)Xh[Gh]=8;var Yh=new Oh(32);for(Gh=0;Gh<32;++Gh)Yh[Gh]=5;var Qh=$h(Xh,9,0),Zh=$h(Xh,9,1),Jh=$h(Yh,5,0),ed=$h(Yh,5,1),td=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},nd=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},rd=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},sd=function(e){return(e+7)/8|0},id=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?Lh:4==e.BYTES_PER_ELEMENT?Bh:Oh)(n-t);return r.set(e.subarray(t,n)),r},od=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ad=function(e,t,n){var r=new Error(t||od[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ad),!n)throw r;return r},ld=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new Oh(0);var s=!t||n,i=!n||n.i;n||(n={}),t||(t=new Oh(3*r));var o=function(e){var n=t.length;if(e>n){var r=new Oh(Math.max(2*n,e));r.set(t),t=r}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,h=n.d,d=n.m,p=n.n,f=8*r;do{if(!u){a=nd(e,l,1);var m=nd(e,l+1,3);if(l+=3,!m){var v=e[(R=sd(l)+4)-4]|e[R-3]<<8,y=R+v;if(y>r){i&&ad(0);break}s&&o(c+v),t.set(e.subarray(R,y),c),n.b=c+=v,n.p=l=8*y,n.f=a;continue}if(1==m)u=Zh,h=ed,d=9,p=5;else if(2==m){var g=nd(e,l,31)+257,b=nd(e,l+10,15)+4,w=g+nd(e,l+5,31)+1;l+=14;for(var _=new Oh(w),x=new Oh(19),k=0;k<b;++k)x[Fh[k]]=nd(e,l+3*k,7);l+=3*b;var E=td(x),T=(1<<E)-1,S=$h(x,E,1);for(k=0;k<w;){var R,C=S[nd(e,l,T)];if(l+=15&C,(R=C>>>4)<16)_[k++]=R;else{var A=0,M=0;for(16==R?(M=3+nd(e,l,3),l+=2,A=_[k-1]):17==R?(M=3+nd(e,l,7),l+=3):18==R&&(M=11+nd(e,l,127),l+=7);M--;)_[k++]=A}}var P=_.subarray(0,g),O=_.subarray(g);d=td(P),p=td(O),u=$h(P,d,1),h=$h(O,p,1)}else ad(1);if(l>f){i&&ad(0);break}}s&&o(c+131072);for(var L=(1<<d)-1,B=(1<<p)-1,I=l;;I=l){var D=(A=u[rd(e,l)&L])>>>4;if((l+=15&A)>f){i&&ad(0);break}if(A||ad(2),D<256)t[c++]=D;else{if(256==D){I=l,u=null;break}var F=D-254;if(D>264){var z=Ih[k=D-257];F=nd(e,l,(1<<z)-1)+jh[k],l+=z}var U=h[rd(e,l)&B],j=U>>>4;U||ad(3),l+=15&U;O=qh[j];if(j>3){z=Dh[j];O+=rd(e,l)&(1<<z)-1,l+=z}if(l>f){i&&ad(0);break}s&&o(c+131072);for(var N=c+F;c<N;c+=4)t[c]=t[c-O],t[c+1]=t[c+1-O],t[c+2]=t[c+2-O],t[c+3]=t[c+3-O];c=N}}n.l=u,n.p=I,n.b=c,n.f=a,u&&(a=1,n.m=d,n.d=h,n.n=p)}while(!a);return c==t.length?t:id(t,0,c)},cd=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},ud=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},hd=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,i=n.slice();if(!s)return[gd,0];if(1==s){var o=new Oh(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=u&&n[c].f<n[h].f?c++:h++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=i[0].s;for(r=1;r<s;++r)i[r].s>d&&(d=i[r].s);var p=new Lh(d+1),f=dd(n[u-1],p,0);if(f>t){r=0;var m=0,v=f-t,y=1<<v;for(i.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<s;++r){var g=i[r].s;if(!(p[g]>t))break;m+=y-(1<<f-p[g]),p[g]=t}for(m>>>=v;m>0;){var b=i[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var w=i[r].s;p[w]==t&&(--p[w],++m)}f=t}return[new Oh(p),f]},dd=function(e,t,n){return-1==e.s?Math.max(dd(e.l,t,n+1),dd(e.r,t,n+1)):t[e.s]=n},pd=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Lh(++t),r=0,s=e[0],i=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return[n.subarray(0,r),t]},fd=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},md=function(e,t,n){var r=n.length,s=sd(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<r;++i)e[s+i+4]=n[i];return 8*(s+4+r)},vd=function(e,t,n,r,s,i,o,a,l,c,u){cd(t,u++,n),++s[256];for(var h=hd(s,15),d=h[0],p=h[1],f=hd(i,15),m=f[0],v=f[1],y=pd(d),g=y[0],b=y[1],w=pd(m),_=w[0],x=w[1],k=new Lh(19),E=0;E<g.length;++E)k[31&g[E]]++;for(E=0;E<_.length;++E)k[31&_[E]]++;for(var T=hd(k,7),S=T[0],R=T[1],C=19;C>4&&!S[Fh[C-1]];--C);var A,M,P,O,L=c+5<<3,B=fd(s,Xh)+fd(i,Yh)+o,I=fd(s,d)+fd(i,m)+o+14+3*C+fd(k,S)+(2*k[16]+3*k[17]+7*k[18]);if(L<=B&&L<=I)return md(t,u,e.subarray(l,l+c));if(cd(t,u,1+(I<B)),u+=2,I<B){A=$h(d,p,0),M=d,P=$h(m,v,0),O=m;var D=$h(S,R,0);cd(t,u,b-257),cd(t,u+5,x-1),cd(t,u+10,C-4),u+=14;for(E=0;E<C;++E)cd(t,u+3*E,S[Fh[E]]);u+=3*C;for(var F=[g,_],z=0;z<2;++z){var U=F[z];for(E=0;E<U.length;++E){var j=31&U[E];cd(t,u,D[j]),u+=S[j],j>15&&(cd(t,u,U[E]>>>5&127),u+=U[E]>>>12)}}}else A=Qh,M=Xh,P=Jh,O=Yh;for(E=0;E<a;++E)if(r[E]>255){j=r[E]>>>18&31;ud(t,u,A[j+257]),u+=M[j+257],j>7&&(cd(t,u,r[E]>>>23&31),u+=Ih[j]);var N=31&r[E];ud(t,u,P[N]),u+=O[N],N>3&&(ud(t,u,r[E]>>>5&8191),u+=Dh[N])}else ud(t,u,A[r[E]]),u+=M[r[E]];return ud(t,u,A[256]),u+M[256]},yd=new Bh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gd=new Oh(0),bd=function(e,t,n,r,s,i){var o=e.length,a=new Oh(r+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(r,a.length-s),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var h=u+65535;h>=o&&(l[c>>3]=i),c=md(l,c+1,e.subarray(u,h))}else{for(var d=yd[t-1],p=d>>>13,f=8191&d,m=(1<<n)-1,v=new Lh(32768),y=new Lh(m+1),g=Math.ceil(n/3),b=2*g,w=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<b)&m},_=new Bh(25e3),x=new Lh(288),k=new Lh(32),E=0,T=0,S=(u=0,0),R=0,C=0;u<o;++u){var A=w(u),M=32767&u,P=y[A];if(v[M]=P,y[A]=M,R<=u){var O=o-u;if((E>7e3||S>24576)&&O>423){c=vd(e,l,0,_,x,k,T,S,C,u-C,c),S=E=T=0,C=u;for(var L=0;L<286;++L)x[L]=0;for(L=0;L<30;++L)k[L]=0}var B=2,I=0,D=f,F=M-P&32767;if(O>2&&A==w(u-F))for(var z=Math.min(p,O)-1,U=Math.min(32767,u),j=Math.min(258,O);F<=U&&--D&&M!=P;){if(e[u+B]==e[u+B-F]){for(var N=0;N<j&&e[u+N]==e[u+N-F];++N);if(N>B){if(B=N,I=F,N>z)break;var V=Math.min(F,N-2),q=0;for(L=0;L<V;++L){var W=u-F+L+32768&32767,K=W-v[W]+32768&32767;K>q&&(q=K,P=W)}}}F+=(M=P)-(P=v[M])+32768&32767}if(I){_[S++]=268435456|Nh[B]<<18|Wh[I];var G=31&Nh[B],H=31&Wh[I];T+=Ih[G]+Dh[H],++x[257+G],++k[H],R=u+B,++E}else _[S++]=e[u],++x[e[u]]}}c=vd(e,l,i,_,x,k,T,S,C,u-C,c),!i&&7&c&&(c=md(l,c+1,gd))}return id(a,0,r+sd(c)+s)},wd=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),_d=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=wd[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},xd=function(e,t,n,r,s){return bd(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!s)},kd=function(e,t,n){for(var r=e(),s=e.toString(),i=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<r.length;++o){var a=r[o],l=i[o];if("function"==typeof a){t+=";"+l+"=";var c=a.toString();if(a.prototype)if(-1!=c.indexOf("[native code]")){var u=c.indexOf(" ",8)+1;t+=c.slice(u,c.indexOf("(",u))}else for(var h in t+=c,a.prototype)t+=";"+l+".prototype."+h+"="+a.prototype[h].toString();else t+=c}else n[l]=a}return[t,n]},Ed=[],Td=function(e,t,n,r){var s;if(!Ed[n]){for(var i="",o={},a=e.length-1,l=0;l<a;++l)i=(s=kd(e[l],i,o))[0],o=s[1];Ed[n]=kd(e[a],i,o)}var c=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}({},Ed[n][1]);return function(e,t,n,r,s){var i=new Worker(Ph[t]||(Ph[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return i.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var r=new Error(n[0]);r.code=n[1],r.stack=n[2],s(r,null)}else s(null,t)},i.postMessage(n,r),i}(Ed[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t}(c),r)},Sd=function(){return[Oh,Lh,Bh,Ih,Dh,Fh,jh,qh,Zh,ed,Kh,od,$h,td,nd,rd,sd,id,ad,ld,Nd,Pd,Od]},Rd=function(){return[Oh,Lh,Bh,Ih,Dh,Fh,Nh,Wh,Qh,Xh,Jh,Yh,Kh,yd,gd,$h,cd,ud,hd,dd,pd,fd,md,vd,sd,id,bd,xd,jd,Pd]},Cd=function(){return[Id,zd,Bd,_d,wd]},Ad=function(){return[Dd,Fd]},Md=function(){return[Ud]},Pd=function(e){return postMessage(e,[e.buffer])},Od=function(e){return e&&e.size&&new Oh(e.size)},Ld=function(e,t,n,r,s,i){var o=Td(n,r,s,(function(e,t){o.terminate(),i(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},Bd=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Id=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Bd(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},Dd=function(e){31==e[0]&&139==e[1]&&8==e[2]||ad(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)},Fd=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},zd=function(e){return 10+(e.filename&&e.filename.length+1||0)},Ud=function(e){(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&ad(6,"invalid zlib data"),32&e[1]&&ad(6,"invalid zlib data: preset dictionaries not supported")};function jd(e,t){return xd(e,t||{},0,0)}function Nd(e,t){return ld(e,t)}function Vd(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&ad(7),Ld(e,t,[Rd,Cd,function(){return[qd]}],(function(e){return Pd(qd(e.data[0],e.data[1]))}),2,n)}function qd(e,t){t||(t={});var n=_d(),r=e.length;n.p(e);var s=xd(e,t,zd(t),8),i=s.length;return Id(s,t),Bd(s,i-8,n.d()),Bd(s,i-4,r),s}function Wd(e,t){return ld(e.subarray(Dd(e),-8),t||new Oh(Fd(e)))}function Kd(e,t){return ld((Ud(e),e.subarray(2,-4)),t)}function Gd(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&ad(7),31==e[0]&&139==e[1]&&8==e[2]?function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&ad(7),Ld(e,t,[Sd,Ad,function(){return[Wd]}],(function(e){return Pd(Wd(e.data[0]))}),3,n)}(e,t,n):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&ad(7),Ld(e,t,[Sd],(function(e){return Pd(Nd(e.data[0],Od(e.data[1])))}),1,n)}(e,t,n):function(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&ad(7),Ld(e,t,[Sd,Md,function(){return[Kd]}],(function(e){return Pd(Kd(e.data[0],Od(e.data[1])))}),5,n)}(e,t,n)}var Hd="undefined"!=typeof TextDecoder&&new TextDecoder;try{Hd.decode(gd,{stream:!0}),1}catch(e){}const $d=new Us;class Xd extends Gc{states;textures;constructor(e){super(e),this.version(3).stores({states:"&hash",textures:"&hash, timestamp"})}}function Yd(e){return function(e){return 1<<31-Math.clz32(e)}(2*(e-1))}class Qd extends class{MINIMUM_RENDER_ATTEMPTS=3;MAX_SERIALIZE_TASK_COUNT=10;MAX_RASTERIZE_TASK_COUNT=5;tasksPending=!1;serializePendingCount=0;rasterizePendingCount=0;WebRenderer=qi;autosave=!0;autosaveDelay=1e4;_autosaveTimer;pixelsPerMeter=1e3;get pixelPerUnit(){return this.pixelsPerMeter}store;serializeQueue=[];rasterizeQueue=[];optimizeQueue=[];ktx2Encoder=new class{pool=new class{limit;queue=[];workers=[];workersResolve=[];workerStatus=0;workerCreator;constructor(e=4){this.limit=e}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.limit;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:t,msg:n,transfer:r}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(n,r)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.limit=e}postMessage(e,t){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}(1);constructor(){this.pool.setWorkerCreator((()=>new Worker(tu)))}setWorkerLimit(e){this.pool.setWorkerLimit(e)}async encode(e){const t=await this.pool.postMessage(e,[e.data.buffer]);if(t.data.error)throw new Error(t.data.error);if(!t.data.texture)throw new Error("Encoding failed");return t.data.texture}};_unsavedTextureData=new Map;_stateData=new Map;_textureData=new Map;_imagePool=[];constructor(e="ethereal-web-store"){this.store=new Xd(e)}saveStore(){const e=Array.from(this._stateData.entries()).filter((([e,t])=>"string"==typeof e)).map((([e,t])=>({hash:e,textureHash:t.texture?.hash}))),t=Array.from(this._unsavedTextureData.values());return this._unsavedTextureData.clear(),this.loadIntoStore({stateData:e,textureData:t})}_packr=new kh({structuredClone:!0});_unpackr=new Mu({structuredClone:!0});async importCache(e){try{const t=await fetch(e),n=await t.arrayBuffer(),r=await new Promise(((e,t)=>{Gd(new Uint8Array(n),{consume:!0},((n,r)=>{if(n)return t(n);e(r)}))})),s=this._unpackr.unpack(r);return s.textureData=s.textureData.filter((e=>e&&e.hash&&e.texture)),console.log(`Importing weblayer cache data from ${e} with `+s.stateData.length+" states and "+s.textureData.length+" textures"),console.log(s),this.loadIntoStore(s)}catch(e){console.warn("Failed to import cache",e)}}getActiveStateHashes(){return Array.from(this._stateData.keys()).filter((e=>"string"==typeof e))}async exportCache(e=this.getActiveStateHashes()){const t=await this.store.states.bulkGet(e);let n=await this.store.textures.bulkGet(t.map((e=>e.textureHash)).filter((e=>"string"==typeof e)));n=n.filter((e=>e&&"string"==typeof e.hash&&e.texture));const r={stateData:t,textureData:n},s=this._packr.pack(r);return new Promise(((e,t)=>{Vd(s,{consume:!0},((n,r)=>{if(n)return t(n);e(new Blob([r.buffer]))}))}))}async downloadCache(){await this.saveStore();const e=await this.exportCache(),t=location.pathname.split("/").filter((e=>e));Zs(e,"web."+location.host+"."+(t[t.length-1]??"")+".cache")}async loadIntoStore(e){for(const t of e.textureData){const e=this._textureData.get(t.hash)||{hash:t.hash,canvas:void 0,ktx2Url:void 0};!e.ktx2Url&&t.texture&&(e.ktx2Url=URL.createObjectURL(new Blob([t.texture],{type:"image/ktx2"})))}for(const t of e.stateData){const e=this.getLayerState(t.hash);if(!e.texture&&t.textureHash){const n=this._textureData.get(t.textureHash);e.texture=n}}return Promise.all([this.store.states.bulkPut(e.stateData),this.store.textures.bulkPut(e.textureData)])}getLayerState(e){let t=this._stateData.get(e);return t||(t={cssTransform:void 0,bounds:new $s,margin:new Xs,padding:new Xs,border:new Xs,fullWidth:0,fullHeight:0,renderAttempts:0,textureWidth:32,textureHeight:32,pixelRatio:1,texture:void 0,pseudo:{hover:!1,active:!1,focus:!1,target:!1}},this._stateData.set(e,t)),t}getTextureState(e){let t=this._textureData.get(e);return t||(t={hash:e,canvas:void 0,ktx2Url:void 0},this._textureData.set(e,t)),t}_statesRequestedFromStore=new Set;_texturesRequestedFromStore=new Set;async requestStoredData(e){const t=this.getLayerState(e);if("string"!=typeof e)return t;if(!this._statesRequestedFromStore.has(e)){this._statesRequestedFromStore.add(e);const n=await this.store.states.get(e);n?.textureHash&&(t.texture=this.getTextureState(n.textureHash))}const n=t.texture;if(n&&n.hash&&!n.canvas&&!n.ktx2Url&&!this._texturesRequestedFromStore.has(n?.hash)){this._texturesRequestedFromStore.add(n.hash);const e=await this.store.textures.get(n.hash);if(e?.texture&&!n.canvas){const t=await new Promise(((t,n)=>{Gd(e.texture,{consume:!0},((e,r)=>{if(e)return n(e);t(r)}))}));n.canvas||(n.ktx2Url=URL.createObjectURL(new Blob([t.buffer],{type:"image/ktx2"})))}}return t}async compressTexture(e){const t=this._textureData.get(e),n=t?.canvas;if(!n)throw new Error("Missing texture canvas");if(0===this.ktx2Encoder.pool.limit)return;const r=this.getImageData(n);let s;try{s=await this.ktx2Encoder.encode(r)}catch(e){return console.error(`KTX2 encoding failed for image (${n.width}, ${n.height}) `,e),void this.ktx2Encoder.pool.dispose()}const i=this._unsavedTextureData.get(e)||{hash:e,timestamp:Date.now(),texture:void 0};t.ktx2Url=URL.createObjectURL(new Blob([s],{type:"image/ktx2"}));const o=await new Promise(((e,t)=>{Vd(new Uint8Array(s),{consume:!0},((n,r)=>{if(n)return t(n);e(r)}))}));i.texture=o,this._unsavedTextureData.set(e,i)}scheduleTasksIfNeeded(){this.tasksPending||0===this.serializeQueue.length&&0===this.rasterizeQueue.length||(this.tasksPending=!0,setTimeout(this._runTasks,1))}_runTasks=()=>{const e=this.serializeQueue,t=this.rasterizeQueue;for(;e.length>0&&this.serializePendingCount<this.MAX_SERIALIZE_TASK_COUNT;){this.serializePendingCount++;const{layer:t,resolve:n}=e.shift();this.serialize(t).then((e=>{this.serializePendingCount--,n(e)}))}for(;t.length>0&&this.rasterizePendingCount<this.MAX_RASTERIZE_TASK_COUNT;){this.rasterizePendingCount++;const{hash:e,svgUrl:n,resolve:r}=t.shift();this.rasterize(e,n).finally((()=>{this.rasterizePendingCount--,r(void 0),this._autosaveTimer&&clearTimeout(this._autosaveTimer),this.autosave&&this._unsavedTextureData.size&&(this._autosaveTimer=setTimeout((()=>{this.saveStore()}),this.autosaveDelay/this._unsavedTextureData.size))}))}this.tasksPending=!1};addToSerializeQueue(e){const t=this.serializeQueue.find((t=>t.layer===e));if(t)return t.promise;let n;const r=new Promise((e=>{n=e}));return this.serializeQueue.push({layer:e,resolve:n,promise:r}),r}updateDOMMetrics(e){const t=e.domMetrics;Ys(e.element,t.bounds,e.parentLayer?.element),function(e,t){if(null===e.offsetParent)return void(t.left=t.right=t.top=t.bottom=0);let n=getComputedStyle(e);t.left=parseFloat(n.marginLeft)||0,t.right=parseFloat(n.marginRight)||0,t.top=parseFloat(n.marginTop)||0,t.bottom=parseFloat(n.marginBottom)||0}(e.element,t.margin),function(e,t){let n=getComputedStyle(e);t.left=parseFloat(n.paddingLeft)||0,t.right=parseFloat(n.paddingRight)||0,t.top=parseFloat(n.paddingTop)||0,t.bottom=parseFloat(n.paddingBottom)||0}(e.element,t.padding),function(e,t){let n=getComputedStyle(e);t.left=parseFloat(n.borderLeftWidth)||0,t.right=parseFloat(n.borderRightWidth)||0,t.top=parseFloat(n.borderTopWidth)||0,t.bottom=parseFloat(n.borderBottomWidth)||0}(e.element,t.border)}async serialize(e){this.updateDOMMetrics(e);const t=e.element,n=e.domMetrics,{top:r,left:s,width:i,height:o}=n.bounds,{top:a,left:l,bottom:c,right:u}=n.margin,h=i+Math.max(l,0)+Math.max(u,0),d=o+Math.max(a,0)+Math.max(c,0),p=e.computedPixelRatio,f=Math.max(Yd(h*p),32),m=Math.max(Yd(d*p),32),v={};let y;const g=getComputedStyle(t),b=g.transform;let w=null;if(b&&"none"!==b){w=function(e,t,n,r,s=new Us){const i=e.transform,o=e.transformOrigin;if(0==i.indexOf("matrix(")){s.identity();var a=i.substring(7,i.length-1).split(", ").map(parseFloat);s.elements[0]=a[0],s.elements[1]=a[1],s.elements[4]=a[2],s.elements[5]=a[3],s.elements[12]=a[4],s.elements[13]=a[5]}else{if(0!=i.indexOf("matrix3d("))return null;a=i.substring(9,i.length-1).split(", ").map(parseFloat),s.fromArray(a)}0===s.elements[0]&&(s.elements[0]=1e-15),0===s.elements[5]&&(s.elements[5]=1e-15),0===s.elements[10]&&(s.elements[10]=1e-15),s.elements[12]*=r,s.elements[13]*=-1*r;var l=o.split(" ").map(parseFloat),c=(l[0]-t/2)*r,u=(l[1]-n/2)*r*-1,h=l[2]||0,d=Js.identity().makeTranslation(-c,-u,-h),p=ei.identity().makeTranslation(c,u,h);for(const e of s.elements)if(isNaN(e))return null;return s.premultiply(p).multiply(d)}(g,i,o,1/this.pixelsPerMeter,$d)}if(e.isMediaElement)v.stateKey=t;else{const n=qi.attributeHTML(qi.LAYER_ATTRIBUTE,""),r="inline"===g.display;qi.updateInputAttributes(t);const s=function(e,t,n,r,s){const i=[],o=[];e.manager.updateDOMMetrics(e);const a=e.domMetrics;let l=e.element.parentElement;l||(l=document.documentElement);do{let e=l.tagName.toLowerCase(),h=" ",d="";for(const e of l.attributes){const t=iu(e.value);"style"!==e.name?h+=`${e.name}="${t}" `:d=t}const p="<"+e+("html"===e?` ${qi.RENDERING_DOCUMENT_ATTRIBUTE}="" xmlns="http://www.w3.org/1999/xhtml"\n                    style="${c=r/t,u=s/n,`transform: scale(${c},${u}); transform-origin: top left; `} --x-width:${a.bounds.width}px; --x-height:${a.bounds.height}px; ${d} width:${t}px; height:${n}px;" `:` style="${d}" ${qi.RENDERING_PARENT_ATTRIBUTE}="" `)+h+" >";i.unshift(p);const f="</"+e+">";if(o.push(f),"html"==e)break}while(l=l!==document.documentElement?l.parentElement||document.documentElement:null);var c,u;return[i.join(""),o.join("")]}(e,h,d,f,m),i=await async function(e){const t=e.getRootNode(),n=qi.embeddedStyles,r=Array.from(t.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']")),s=e.getRootNode()instanceof ShadowRoot,i=[];for(const e of r)n.has(e)||n.set(e,new Promise((t=>{"style"===e.tagName.toLowerCase()?t(ru(window.location.href,e.textContent||"")):t(nu(e.href))})).then((async e=>{const t=RegExp(/@font-face[^{]*{([^{}]|{[^{}]*})*}/gi),r=e.match(t);if(s&&r)for(const e of r){if(qi.fontStyles.has(e))continue;const t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t),qi.fontStyles.set(e,t),n.set(t,Promise.resolve({serialized:"",hash:""}))}return{serialized:e,hash:hu(await crypto.subtle.digest("SHA-1",qi.textEncoder.encode(e)))}}))),i.push(n.get(e));return Promise.all(i)}(t);let o=await async function(e,t=cu){return(await lu(e,{depth:0,target:e,replacer:t})).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}(t);o=o.replace(n,`${n} ${qi.RENDERING_ATTRIBUTE}="" `+(r?`${qi.RENDERING_INLINE_ATTRIBUTE}="" `:" ")+" "+qi.getPsuedoAttributes(e.desiredPseudoState));const a=[...i.map((e=>e.hash)),s[0],o,s[1]].join("\n"),l=hu(await crypto.subtle.digest("SHA-1",qi.textEncoder.encode(a)))+"?w="+h+";h="+d+";tw="+f+";th="+m;v.stateKey=l,y='<svg width="'+f+'" height="'+m+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+i.map((e=>e.serialized)).join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+f+'" height="'+m+'">'+s[0]+o+s[1]+"</foreignObject></svg>"}const _=await this.requestStoredData(v.stateKey);return _.cssTransform=w?.clone(),_.bounds.left=s,_.bounds.top=r,_.bounds.width=i,_.bounds.height=o,_.margin.left=l,_.margin.top=a,_.margin.right=u,_.margin.bottom=c,_.fullWidth=h,_.fullHeight=d,_.pixelRatio=p,_.textureWidth=f,_.textureHeight=m,e.desiredDOMStateKey=v.stateKey,"string"==typeof v.stateKey&&e.allStateHashes.add(v.stateKey),v.needsRasterize=!e.isMediaElement&&h*d>0&&!_.texture?.hash,v.svgUrl=v.needsRasterize&&y?"data:image/svg+xml;utf8,"+encodeURIComponent(y):void 0,e.lastSVGUrl=v.svgUrl,v}async rasterize(e,t){const n=this.getLayerState(e),r=this._imagePool.pop()||new Image,{fullWidth:s,fullHeight:i,textureWidth:o,textureHeight:a,pixelRatio:l}=n;if(await new Promise(((e,n)=>{r.onload=()=>{e()},r.onerror=e=>{n(e)},r.width=o,r.height=a,r.src=t})),!r.complete||r.currentSrc!==t)throw new Error("Rasterization Failed");await r.decode();const c=s*l,u=i*l,h=await this.rasterizeToCanvas(r,c,u,30,30),d=this.getImageData(h),p=hu(await crypto.subtle.digest("SHA-1",d.data))+"?w="+o+";h="+a,f=n.texture?.hash;f!==p&&(n.renderAttempts=0),n.renderAttempts++,n.texture=this.getTextureState(p);const m=n.texture.canvas||n.texture.ktx2Url;if(!(n.renderAttempts>this.MINIMUM_RENDER_ATTEMPTS&&m||(setTimeout((()=>this.addToRasterizeQueue(e,t)),2*(500+1e3*Math.random())^n.renderAttempts),n.texture.canvas))){n.texture.canvas=await this.rasterizeToCanvas(r,c,u,o,a);try{await this.compressTexture(p)}finally{this._imagePool.push(r)}}}async rasterizeToCanvas(e,t,n,r,s,i){(i=i||document.createElement("canvas")).width=r,i.height=s;const o=i.getContext("2d");return o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(e,0,0,r,s),i}getImageData(e){return e.getContext("2d").getImageData(0,0,e.width,e.height)}addToRasterizeQueue(e,t){const n=this.rasterizeQueue.find((t=>t.hash===e));if(n)return n.promise;let r;const s=new Promise((e=>{r=e}));return this.rasterizeQueue.push({hash:e,svgUrl:t,resolve:r,promise:s}),s}optimizeImageData(e){}addToOptimizeQueue(e){}}{static DEFAULT_TRANSCODER_PATH="https://unpkg.com/@loaders.gl/textures@3.1.7/dist/libs/";static initialize(e){Qd.instance=new Qd,Qd.instance.renderer=e,Qd.instance.ktx2Loader.detectSupport(e),Qd.instance.ktx2Encoder.setWorkerLimit(1)}static instance;constructor(){super(),this.ktx2Loader.setTranscoderPath(Qd.DEFAULT_TRANSCODER_PATH)}renderer;textureEncoding=t.sRGBEncoding;ktx2Loader=new Yi;texturesByHash=new Map;layersByElement=new WeakMap;layersByMesh=new WeakMap;getTexture(e){const t=this.getTextureState(e);return this.texturesByHash.has(e)||this.texturesByHash.set(e,{}),this._loadCompressedTextureIfNecessary(t),this._loadCanvasTextureIfNecessary(t),this.texturesByHash.get(e)}_compressedTexturePromise=new Map;_loadCompressedTextureIfNecessary(e){const n=e.ktx2Url;n&&(this._compressedTexturePromise.has(e.hash)||new Promise((r=>{this._compressedTexturePromise.set(e.hash,r),this.ktx2Loader.loadAsync(n).then((n=>{n.wrapS=t.ClampToEdgeWrapping,n.wrapT=t.ClampToEdgeWrapping,n.minFilter=t.LinearMipmapLinearFilter,n.encoding=this.textureEncoding,this.texturesByHash.get(e.hash).compressedTexture=n})).finally((()=>{r(void 0)}))})))}_canvasTexturePromise=new Map;_loadCanvasTextureIfNecessary(e){const n=this.texturesByHash.get(e.hash);if(n.compressedTexture)return n.canvasTexture?.dispose(),void(n.canvasTexture=void 0);const r=e.canvas;if(r&&!n.canvasTexture&&!n.compressedTexture){const e=new t.CanvasTexture(r);e.wrapS=t.ClampToEdgeWrapping,e.wrapT=t.ClampToEdgeWrapping,e.minFilter=t.LinearMipmapLinearFilter,e.encoding=this.textureEncoding,e.flipY=!1,n.canvasTexture=e}}}const Zd=new t.Vector3,Jd=new t.Vector3,ep=new $s;class tp extends t.Object3D{containerElement;options;rootLayer;raycaster=new t.Raycaster;_interactionRays=[];_hitIntersections=[];constructor(e,t={}){super(),t.manager||(t.manager=Qd.instance),this.options=t;const n="string"==typeof e?function(e){const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return t.removeChild(n),n}(e):e;this.containerElement=qi.createLayerTree(n,t,((e,{target:t})=>{if("layercreated"===e){const e=t.layer||new Gi(t,this);t===n?(e[Wi]=()=>this._updateInteractions(),this.rootLayer=e,this.add(e)):e.parentWebLayer?.add(e),this.options.onLayerCreate?.(e)}else if("layermoved"===e){const e=this.options.manager.layersByElement.get(t);e.parentWebLayer?.add(e)}})),this.containerElement.container=this,this.refresh(),this.update()}get manager(){return this.options.manager}get interactionRays(){return this._interactionRays}set interactionRays(e){this._interactionRays=e}async updateUntilReady(){const e=setInterval((()=>{this.update()}),20);this.rootLayer.setNeedsRefresh(!0),await this.rootLayer.refresh(!0),clearInterval(e)}update(){this.rootLayer.update(!0)}refresh(){this.rootLayer.refresh(!0)}querySelector(e){return this.rootLayer.querySelector(e)}get contentMesh(){return this.rootLayer.contentMesh}_previousHoverLayers=new Set;_contentMeshes=[];_prepareHitTest=e=>{e.desiredPseudoStates.hover&&this._previousHoverLayers.add(e),e.cursor.visible=!1,e.desiredPseudoStates.hover=!1,e.contentMesh.visible&&this._contentMeshes.push(e.contentMesh)};_intersectionSort(e,t){const n=e.object.parent,r=t.object.parent;return n.depth!==r.depth?r.depth-n.depth:r.index-n.index}_updateInteractions(){const e=this._previousHoverLayers;e.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const t of this._interactionRays){"isObject3D"in t&&t.isObject3D?this.raycaster.ray.set(t.getWorldPosition(Zd),t.getWorldDirection(Jd).negate()):this.raycaster.ray.copy(t),this._hitIntersections.length=0;const n=this.raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);n.sort(this._intersectionSort);const r=n[0];if(r){const t=r.object.parent;t.cursor.position.copy(r.point),t.cursor.visible=!0,t.desiredPseudoStates.hover=!0,e.has(t)||t.setNeedsRefresh()}}for(const t of e)t.desiredPseudoStates.hover||t.setNeedsRefresh()}hitTest(e){const t=this.raycaster,n=this._hitIntersections,r=this.options.manager.layersByMesh;"isObject3D"in e&&e.isObject3D?this.raycaster.ray.set(e.getWorldPosition(Zd),e.getWorldDirection(Jd).negate()):this.raycaster.ray.copy(e),n.length=0,t.intersectObject(this,!0,n),n.sort(this._intersectionSort);for(const e of n){const t=r.get(e.object);if(!t)continue;const n=t.bounds,s=t.margin,i=n.width+s.left+s.right,o=n.height+s.top+s.bottom;if(i*o==0)continue;let a=t.element;const l=e.uv.x*i-s.left,c=e.uv.y*o-s.top;return Hs(t.element,(e=>{if(!a.contains(e))return!1;const n=Ys(e,ep,t.element),{left:r,top:s,width:i,height:o}=n;return l>r&&l<r+i&&c>s&&c<s+o&&(a=e,!0)})),{layer:t,intersection:e,target:a}}}destroy(){this.containerElement.remove(),this.removeFromParent(),this.rootLayer.dispose()}async downloadCache(e){await this.manager.saveStore();const t=new Set;this.rootLayer.traverseLayersPreOrder((n=>{if(!e||e(n))for(const e of n.allStateHashes)t.add(e)}));const n=await this.manager.exportCache(Array.from(t));Zs(n,"web."+this.rootLayer.element.id+".cache")}}var np=window&&window.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,s=0,i=t.length;s<i;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},rp=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},sp=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},ip=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},op=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},ap=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},lp=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,cp=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],up=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function hp(e){var t=function(e){return""!==e&&cp.reduce((function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]}),!1)}(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new op;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<3&&(s=np(np([],s,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-s.length),!0)):s=[];var i=s.join("."),o=function(e){for(var t=0,n=up.length;t<n;t++){var r=up[t],s=r[0];if(r[1].exec(e))return s}return null}(e),a=lp.exec(e);return a&&a[1]?new ip(n,i,o,a[1]):new rp(n,i,o)}function dp(e){return(Math.floor(100*e)/100).toFixed(2)}var pp=1024;console.log("User Agent: "+navigator.userAgent);const fp=mp?hp(mp):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new ap:"undefined"!=typeof navigator?hp(navigator.userAgent):"undefined"!=typeof process&&process.version?new sp(process.version.slice(1)):null;var mp;fp?("Linux"==fp.os&&navigator.userAgent.search(/OculusBrowser/)>=0&&(fp.name="oculus",navigator.userAgent.search(/Quest 2/)>=0?(fp.os="LinuxQuest2",pp=512):(fp.os="LinuxQuest",pp=256)),console.log("Running on OS '"+fp.os+"' in browser '"+fp.name+"' version '"+fp.version+"'")):console.log("Browser Detect didn't work?!");const vp=function(e,t){const n=document.createElement("a");n.download=t,n.href=window.URL.createObjectURL(e),n.dataset.downloadurl=["application/octet-stream",n.download,n.href].join(":"),n.click()};class yp extends class{takeOwnership;setSharedData;width;height;vueApp;vueRoot;constructor(e,t,n,r={}){this.takeOwnership=this.takeOwnershipProto.bind(this),this.setSharedData=this.setSharedDataProto.bind(this),this.width=t,this.height=n,this.vueApp=Ts(e,r)}takeOwnershipProto(){return!0}setSharedDataProto(e){return!0}}{isEthereal;isInteractive;isNetworked;isStatic;updateTime;raycaster;tempV=new THREE.Vector3;size;pixelRatio=1;webLayer3D;needsUpdate=!1;headDiv;readyPromise=null;static initializeEthereal(){let e=window.APP.scene;Qd.initialize(e.renderer),fp&&"oculus"==fp.name&&(Qd.instance.MAX_SERIALIZE_TASK_COUNT=5,Qd.instance.MAX_RASTERIZE_TASK_COUNT=1)}static systemTick(e,t){window.APP.scene}constructor(e,t,n,r={},s={}){r.width&&r.height&&r.width>0&&r.height>0?(t=r.width,n=r.height):(r.width&&r.width>0||r.height&&r.height>0)&&(r.width&&r.width>0&&(n=r.width/t*n,t=r.width),r.height&&r.height>0&&(t=r.height/n*n,n=r.height)),fp&&fp.name,super(e,t,n,s),this.isEthereal=!1,this.vueApp.provide("params",r),this.isInteractive=!1,this.isNetworked=!1,this.isStatic=!0,this.updateTime=100,this.raycaster=new THREE.Raycaster,this.size={width:t/1e3,height:n/1e3},this.headDiv=document.createElement("div")}mount(e){this.isEthereal=!0===e,this.vueRoot=this.vueApp.mount(this.headDiv);var t="";this.width>0?(t="width: "+this.width+"px; ",this.width>pp&&(this.pixelRatio=(pp-1)/this.width)):(this.pixelRatio=.01,t="width: fit-content; "),this.height>0?(t=t+"height: "+this.height+"px; ",this.height>pp&&(this.pixelRatio=Math.min((pp-1)/this.height,this.pixelRatio))):(this.pixelRatio=Math.min(this.pixelRatio,.01),t+="height: fit-content; "),console.log("setting style: ",t),console.log("setting pixelRatio = ",dp(this.pixelRatio)),this.vueRoot.$el.setAttribute("style",t),this.vueRoot.$el.setAttribute("xr-pixel-ratio",dp(this.pixelRatio));let n=document.createElement("link");n.setAttribute("href","https://resources.realitymedia.digital/vue-apps/dist/hubs.css"),n.setAttribute("rel","stylesheet"),n.setAttribute("crossorigin","anonymous"),this.vueRoot.$el.insertBefore(n,this.vueRoot.$el.firstChild),this.webLayer3D=new tp(this.vueRoot?.$el,{autoRefresh:!0,onLayerCreate:e=>{e.desiredPseudoStates.hover=!0},onLayerPaint:e=>{this.isStatic&&(this.needsUpdate=!0)},renderOrderOffset:0});var r;this.readyPromise=(r=n,new Promise((e=>{r.onload=e}))).then((()=>{let e=this.vueRoot?.$el.getBoundingClientRect();console.log("mounted has rect: ",e),this.height=this.height>0?this.height:Math.ceil(1.05*e.height),this.width=this.width>0?this.width:Math.ceil(1.05*e.width),this.size={width:this.width/1e3,height:this.height/1e3},this.pixelRatio=1,this.width>pp&&(this.pixelRatio=(pp-1)/this.width),this.height>pp&&(this.pixelRatio=Math.min((pp-1)/this.height,this.pixelRatio)),t="width: "+this.width+"px; height: "+this.height+"px; ",console.log("setting style: ",t),console.log("setting pixelRatio = ",dp(this.pixelRatio)),this.vueRoot?.$el.setAttribute("style",t),this.vueRoot?.$el.setAttribute("xr-pixel-ratio",dp(this.pixelRatio)),this.webLayer3D?.rootLayer.setNeedsRefresh()}))}async waitForReady(){this.webLayer3D?.rootLayer.setNeedsRefresh(),await this.readyPromise,await(this.webLayer3D?.updateUntilReady().then((()=>{this.webLayer3D?.rootLayer.setNeedsRefresh()})).catch((e=>{console.error("WebLayerUpdate failed: ",e)})))}setNetworkMethods(e,t){this.takeOwnership=e,this.setSharedData=t}updateSharedData(e){this.needsUpdate=!0}getSize(){return console.log("div size: {"+this.size.width+", "+this.size.height+"}"),this.size}getSharedData(e){throw new Error("getSharedData should be overridden by subclasses")}clicked(e){if(!this.isInteractive)return;const t=e.object3D,n=this.webLayer3D.getWorldDirection(new THREE.Vector3).negate();this.tempV.copy(t.position),this.tempV.addScaledVector(n,-.1),this.raycaster.ray.set(this.tempV,n);const r=this.webLayer3D.hitTest(this.raycaster.ray);r&&(r.target.click(),r.target.focus(),console.log("hit",r.target,r.layer))}dragStart(e){}dragEnd(e){}play(){}pause(){}destroy(){this.webLayer3D&&this.webLayer3D.destroy(),this.vueApp.unmount()}tick(e){if(this.isEthereal);else{this.needsUpdate;this.needsUpdate=!1,this.updateTime=e,!0,this.webLayer3D.update()}}}window.APP.utils.followLinkClick=function(e){var t="";if(e.preventDefault(),e.target instanceof HTMLElement){if(e.target instanceof HTMLAnchorElement)t=e.target.href;else if(e.target instanceof HTMLSpanElement){let n=e.target.childNodes[0];n instanceof HTMLAnchorElement&&(t=n.href)}!async function(e,t){await window.APP.scene.systems["data-logging"].logLink(e,t),t.length>0&&(await window.APP.utils.handleExitTo2DInterstitial(!1,(()=>{}),!0),window.open(t,"_blank"))}(e.target.id,t)}};class gp{_state;state;app;constructor(e){this._state=et({count:0}),this.app=e,this.state=tt(this._state)}increment(){this.app.takeOwnership()&&(this._state.count++,this.app.setSharedData(this.state))}updateSharedData(e){this._state.count=e.count}}class bp extends yp{shared;constructor(e={}){super(Os,400,300,e),this.shared=new gp(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}const wp={class:"fade"},_p=(e=>(tn("data-v-9ffe3f52"),e=e(),nn(),e))((()=>Ir("p",null,[Ir("span",null,[Ir("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation and Then Some! ")]),Ir("span",null,[Ir("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")])],-1)));var xp={props:{msg:String},setup(e){const t=ln("shared");return(n,r)=>(Sr(),Mr(wr,null,[Ir("span",wp,[Ir("h1",null,u(e.msg),1)]),_p,Ir("button",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>dt(t).increment&&dt(t).increment(...e))},"count is: "+u(dt(t).state.count),1)],64))},__scopeId:"data-v-9ffe3f52"};const kp=e=>(tn("data-v-08f6e824"),e=e(),nn(),e),Ep={id:"room"},Tp=kp((()=>Ir("img",{"xr-layer":"",alt:"Vue logo",src:Ss},null,-1))),Sp=[zr(" Edit code in "),kp((()=>Ir("code",null,"src/apps",-1))),zr(' to test hot module replacement while running project as "npm run dev". ')];var Rp={setup(e){const t=ln("shared");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",Ep,[Tp,Dr(xp,{msg:"Vue Component with Local Button Count"}),Ir("p",{id:"edit",class:c({upclose:dt(t).state.close})},Sp,2)])]))},__scopeId:"data-v-08f6e824"};class Cp{_state;state;app;constructor(e){this._state=et({close:!1}),this.app=e,this.state=tt(this._state)}setClose(e){this._state.close!=e&&(this._state.close=e)}}class Ap extends yp{shared;constructor(e={}){super(Rp,500,500,e),this.isInteractive=!0,this.shared=new Cp(this),this.vueApp.provide("shared",this.shared)}docs;boundsSize=new THREE.Vector3;bounds=new THREE.Box3;mount(){super.mount(!0),this.docs=this.webLayer3D.querySelector("#edit"),this.docs||console.warn("Vue app needs #edit div")}}const Mp=e=>(tn("data-v-1d144fe5"),e=e(),nn(),e),Pp={id:"room"},Op={class:"titleStyle"},Lp=Mp((()=>Ir("div",null,null,-1))),Bp=[Mp((()=>Ir("a",{href:"https://blairmacintyre.me"},"Click",-1)))],Ip=zr(" to swap objects: "),Dp=Mp((()=>Ir("div",null,null,-1))),Fp=zr("Click to make larger: "),zp=zr("Click to make smaller: ");var Up={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:"Example Control Panel",r=t&&t.parameter2?t.parameter2:"Click the buttons to switch objects or change the color of an object";const s=ln("shared"),i=ln("linkClick");return(e,t)=>(Sr(),Mr("div",null,[Ir("div",Pp,[Ir("div",Op,u(dt(n)),1),Ir("div",null,u(dt(r)),1),Lp,Ir("div",null,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...e)=>dt(i)&&dt(i)(...e))},Bp),Ip,Ir("button",{"xr-layer":"",onClick:t[1]||(t[1]=(...e)=>dt(s).nextObject&&dt(s).nextObject(...e))},"Swap Objects")]),Ir("div",null,"Current object is: "+u(dt(s).getName()),1),Dp,Ir("div",null,[Fp,Ir("span",{"xr-layer":"",class:"fakeButton",onClick:t[2]||(t[2]=(...e)=>dt(s).larger&&dt(s).larger(...e))},"Larger")]),Ir("div",null,[zp,Ir("span",{"xr-layer":"",class:"fakeButton",onClick:t[3]||(t[3]=(...e)=>dt(s).smaller&&dt(s).smaller(...e))},"Smaller")])])]))},__scopeId:"data-v-1d144fe5"};class jp{_state;state;app;objects;constructor(e){if(this._state=et({object:-1,size:{x:1,y:1,z:1}}),this.app=e,this.state=tt(this._state),this.objects=[],window.AFRAME){let e=window.AFRAME.scenes[0].object3D;for(let t=1;t<11;t++){let n=e.getObjectByName("TestObject"+t);n&&(n.visible=!1,this.objects.push(n))}}this.objects.length>0?(this._state.object=0,this._copyVec3(this.objects[0].scale,this._state.size),this.objects[0].visible=!0):this._state.object=-1}_copyVec3(e,t){t.x=e.x,t.y=e.y,t.z=e.z}_nextObject(){if(-1==this._state.object)return-1;if(this.objects[this._state.object].visible=!1,this._state.object++,this._state.object>=this.objects.length&&(this._state.object=0),this.objects[this._state.object].visible=!0,this._copyVec3(this.objects[this._state.object].scale,this._state.size),window.AFRAME){window.AFRAME.scenes[0].emit("updatePortals")}}_updateSize(e){this._state.object>=0&&(this._copyVec3(e,this._state.size),this.objects[this._state.object].scale.copy(this._state.size),this.objects[this._state.object].updateMatrix())}_larger(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}_smaller(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1/1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}nextObject(){this.app.takeOwnership()&&(this._nextObject(),this.app.setSharedData(this.state))}larger(){this.app.takeOwnership()&&(this._larger(),this.app.setSharedData(this.state))}smaller(){this.app.takeOwnership()&&(this._smaller(),this.app.setSharedData(this.state))}getName(){return this._state.object>=0?this.objects[this._state.object].name:"NO OBJECTS"}updateSharedData(e){this._state.object!=e.object&&(this.objects[this._state.object].visible=!1,this.objects[e.object].visible=!0,this._state.object=e.object),this._updateSize(e.size)}}class Np extends yp{shared;constructor(e={}){super(Up,400,225,e),this.shared=new jp(this),this.vueApp.provide("shared",this.shared),this.vueApp.provide("linkClick",window.APP.utils.followLinkClick),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}var Vp={props:{msg:String},setup:e=>(et({count:0}),(t,n)=>(Sr(),Mr("h2",null,u(e.msg),1)))};const qp={id:"room",class:"darkwall"};var Wp={setup(e){let t=ln("params");var n=t&&t.message?t.message:"PORTAL TITLE";return(e,t)=>(Sr(),Mr("div",qp,[Dr(Vp,{msg:dt(n)},null,8,["msg"])]))}};class Kp extends yp{constructor(e,t,n={}){super(Wp,e,t,n)}}var Gp={props:{msg:String},setup:e=>(et({count:0}),(t,n)=>(Sr(),Mr("h4",null,u(e.msg),1)))};const Hp={id:"room",class:"darkwall"};var $p={setup(e){let t=ln("params");var n=t&&t.message?t.message:"PORTAL SUBTITLE";return(e,t)=>(Sr(),Mr("div",Hp,[Dr(Gp,{msg:dt(n)},null,8,["msg"])]))}};class Xp extends yp{constructor(e,t,n={}){super($p,e,t,n)}}const Yp={class:"titleStyle"};var Qp={setup(e){let t=ln("params");var n=t&&t.text?t.text:"Text not set for GraphLabel",r=(t&&t.color?"color: "+t.color+";":"color: red;")+(t&&t.size?"font-size: "+t.size+"em;":"font-size: 2em;")+"white-space: nowrap;";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",{id:"room",class:"darkwall",style:i(dt(r))},[jr('<Title v-bind:msg="title" />'),Ir("div",Yp,u(dt(n)),1)],4)]))}};class Zp extends yp{params;constructor(e,t,n={}){super(Qp,e,t,n),this.params=n}async setLabel(e,t){return this.params.text=e,this.params.color=t,this.waitForReady()}}const Jp={id:"room",class:"darkwall"},ef=Ir("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/38d6d7a1e02fc2f9.png",width:"250"},null,-1),tf=Ir("div",{class:"displaytext"},"AR allows us to extend our physical reality; VR creates for us a different reality.",-1);var nf={setup:e=>(e,t)=>(Sr(),Mr("div",Jp,[Dr(Vp,{msg:"Reality Media"}),ef,tf]))};class rf extends yp{constructor(e,t,n={}){super(nf,e,t,n)}}const sf={id:"room",class:"darkwall"},of={class:"spacer"},af=Ir("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/7af7b95b35fd7616.jpg",width:"250"},null,-1),lf=Ir("div",{class:"squareoff"}," Each reality medium mediates and remediates. It offers a new representation of the world that we implicitly compare to our experience of the world in itself, but also through other media.",-1),cf=Ir("p",null,[Ir("a",{href:"https://realitymedia.digital",target:"_blank"}," Start at the reality media site. "),zr(" | ")],-1);var uf={setup:e=>(e,t)=>(Sr(),Mr("div",sf,[Ir("div",of,[Dr(Vp,{msg:"AR & VR as reality media"}),af,lf]),cf]))};class hf extends yp{constructor(e,t,n={}){super(uf,e,t,n),this.isInteractive=!0}}const df={id:"room",class:"darkwall"},pf=Ir("div",{class:"spacer"},[Ir("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/7ab3d86afd48dbfb.jpg",width:"250"}),Ir("div",{class:"squareoff"},"Film became one of the most important reality media of the twentieth century, and in some ways, it is a forerunner of virtual reality.")],-1);var ff={setup:e=>(e,t)=>(Sr(),Mr("div",df,[Dr(Vp,{msg:"The LaCiotat Effect"}),pf]))};class mf extends yp{constructor(e,t,n={}){super(ff,e,t,n)}}const vf={id:"room",class:"darkwall"},yf={class:"spacer"},gf=Ir("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/91fdfa811e752dc8.jpg",width:"200"},null,-1),bf=Ir("div",{class:"squareoff"},"3-D computer graphics help to construct the visual realities of AR and VR, that is photorealism. The uncanny valley.",-1);var wf={setup:e=>(e,t)=>(Sr(),Mr("div",vf,[Ir("div",yf,[Dr(Vp,{msg:"3-D Graphics & Tracking"}),gf,bf])]))};class _f extends yp{constructor(e,t,n={}){super(wf,e,t,n)}}const xf={id:"room",class:"darkwall"},kf=Ir("div",{class:"spacer"},[jr('<img src="../../assets/images/parthenon.png" width="250">'),Ir("div",{class:"squareoff"},"Presence in VR is usually conceived of as forgetting that the medium is there. The idea is that if the user can be enticed into behaving as if she were not aware of all the complex technology, then she feels presence.")],-1);var Ef={setup:e=>(e,t)=>(Sr(),Mr("div",xf,[Dr(Vp,{msg:"Presence"}),kf]))};class Tf extends yp{constructor(e,t,n={}){super(Ef,e,t,n)}}var Sf="https://resources.realitymedia.digital/vue-apps/dist/dc05c04546a69e64.png";const Rf={id:"room",class:"darkwall"},Cf=Ir("div",{class:"spacer"},[Ir("img",{src:Sf,width:"250"}),Ir("div",{class:"squareoff"},"Reality media applications often function as additions to established genres. Most current AR and VR applications behave like applications or artifacts that we know from earlier media.")],-1);var Af={setup:e=>(e,t)=>(Sr(),Mr("div",Rf,[Dr(Vp,{msg:"Genres"}),Cf]))};class Mf extends yp{constructor(e,t,n={}){super(Af,e,t,n)}}const Pf={id:"room",class:"darkwall"},Of=Ir("div",{class:"spacer"},[Ir("img",{src:Sf,width:"250"}),Ir("div",{class:"squareoff"},"VR will continue to construct special realities, apart from the everyday. VR worlds will continue to be metaphoric worlds.")],-1);var Lf={setup:e=>(e,t)=>(Sr(),Mr("div",Pf,[Dr(Vp,{msg:"The Future of AR & VR"}),Of]))};class Bf extends yp{constructor(e,t,n={}){super(Lf,e,t,n)}}const If={id:"room",class:"darkwall"},Df=Ir("div",{class:"spacer"},[Ir("div",{class:"squareoff"},"Pervasive, always-on AR applications have the potential to provide companies or government authorities even more information and with more precision than our current mobile applications do, both by aggregating our habits as consumers and by identifying us as individuals.")],-1);var Ff={setup:e=>(e,t)=>(Sr(),Mr("div",If,[Dr(Vp,{msg:"Privacy and Public Space"}),Df]))};class zf extends yp{constructor(e,t,n={}){super(Ff,e,t,n)}}const Uf={id:"room",class:"darkwall"},jf=[Ir("div",{class:"postertitle"},"AR & VR as reality media",-1),Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1)];var Nf={setup:e=>(e,t)=>(Sr(),Mr("div",Uf,jf))};class Vf extends yp{constructor(e,t,n={}){super(Nf,e,t,n)}}const qf={id:"room",class:"darkwall"},Wf=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Kf={setup:e=>(e,t)=>(Sr(),Mr("div",qf,[Dr(Vp,{msg:"The History of Reality Media"}),Wf]))};class Gf extends yp{constructor(e,t,n={}){super(Kf,e,t,n)}}const Hf={id:"room",class:"darkwall"},$f=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Xf={setup:e=>(e,t)=>(Sr(),Mr("div",Hf,[Dr(Vp,{msg:"3-D & Tracking"}),$f]))};class Yf extends yp{constructor(e,t,n={}){super(Xf,e,t,n)}}const Qf={id:"room",class:"darkwall"},Zf=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Jf={setup:e=>(e,t)=>(Sr(),Mr("div",Qf,[Dr(Vp,{msg:"Presence"}),Zf]))};class em extends yp{constructor(e,t,n={}){super(Jf,e,t,n)}}const tm={id:"room",class:"darkwall"},nm=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var rm={setup:e=>(e,t)=>(Sr(),Mr("div",tm,[Dr(Vp,{msg:"Genres"}),nm]))};class sm extends yp{constructor(e,t,n={}){super(rm,e,t,n)}}const im={id:"room",class:"darkwall"},om=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var am={setup:e=>(e,t)=>(Sr(),Mr("div",im,[Dr(Vp,{msg:"Future"}),om]))};class lm extends yp{constructor(e,t,n={}){super(am,e,t,n)}}const cm={id:"room",class:"darkwall"},um=Ir("div",{class:"spacer"},[Ir("div",{class:"flushleft"},[Ir("br"),Ir("h3",null," Some of the key differences between classic VR and AR"),Ir("br"),Ir("h3",null," Extended reality (XR) and the immersive web "),Ir("br"),Ir("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var hm={setup:e=>(e,t)=>(Sr(),Mr("div",cm,[Dr(Vp,{msg:"Privacy"}),um]))};class dm extends yp{constructor(e,t,n={}){super(hm,e,t,n)}}const pm={id:"room",class:"darkwall"},fm={class:"spacer"},mm=Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/83dde73d5dcc5eaf.jpg"},null,-1),vm=Ir("br",null,null,-1),ym=Ir("br",null,null,-1),gm=Ir("div",{class:"squareoff"},[zr(" First person shooter games such as "),Ir("a",{href:"https://www.half-life.com/en/alyx/",target:"_blank"},"HalfLife: Alyx "),zr(" have long used 3-D graphics to create an immersive experience for millions of players. And for decades, players on computers and game consoles have yearned for true VR so that they could fall through the screen into the worlds on the other side.")],-1);var bm={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",pm,[Ir("div",fm,[mm,vm,ym,Dr(Vp,{msg:"HalfLife: Alyx"}),gm])])]))};class wm extends yp{constructor(e,t,n={}){super(bm,e,t,n),this.isInteractive=!0}}const _m={id:"room",class:"darkwall"},xm={class:"spacer"},km=Ir("a",{target:"_blank",href:"https://pokemongolive.com/en/"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/b6f1439b30421ab7.jpg",alt:"Pokemon Go Image"})],-1),Em=Ir("div",{class:"squareoff"},"Pokemon Go (2016) is perhaps still the best-known AR game. ",-1);var Tm={setup:e=>(e,t)=>(Sr(),Mr("div",_m,[Ir("div",xm,[km,Dr(Vp,{msg:"Steam VR"}),Em])]))};class Sm extends yp{constructor(e,t,n={}){super(Tm,e,t,n)}}const Rm={id:"room",class:"darkwall"},Cm={class:"spacer"},Am=Ir("div",{class:"squareoff"},"Beat Saber is a VR rhythm game with a little Star Wars thrown in. The player uses lightsabers to keep the beat. ",-1);var Mm={setup:e=>(e,t)=>(Sr(),Mr("div",Rm,[Ir("div",Cm,[Dr(Vp,{msg:"Beat Saber"}),Am])]))};class Pm extends yp{constructor(e,t,n={}){super(Mm,e,t,n)}}const Om={id:"room",class:"darkwall"},Lm={class:"spacer"},Bm=Ir("a",{target:"_blank",href:"https://www.thewalkingdeadourworld.com/"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/88810b6ba2c44021.jpg",alt:"Walking Dead Image"})],-1),Im=Ir("div",{class:"squareoff"},"In this AR version of the transmedia franchise GPS is used to determine your location in the world. Your location and the zombies appear in an enhanced Google Maps map on the phone screen. ",-1);var Dm={setup:e=>(e,t)=>(Sr(),Mr("div",Om,[Ir("div",Lm,[Bm,Dr(Vp,{msg:"Walking Dead: Our World"}),Im])]))};class Fm extends yp{constructor(e,t,n={}){super(Dm,e,t,n)}}const zm={id:"room",class:"darkwall"},Um={class:"spacer"},jm=Ir("div",{class:"squareoff"},"Like video games and 360-degree video, VR art emphasizes immersion as the feature that makes the experience unique, as in a VR work by Christian Lemmerz entitled La Apparizione (2017). ",-1);var Nm={setup:e=>(e,t)=>(Sr(),Mr("div",zm,[Ir("div",Um,[Dr(Vp,{msg:"La Apparizione"}),jm])]))};class Vm extends yp{constructor(e,t,n={}){super(Nm,e,t,n)}}const qm={id:"room",class:"darkwall"},Wm={class:"spacer"},Km=Ir("div",{class:"squareoff"},'Minecraft VR is a fully immersive, headset version of the sandbox game that already runs on computers, game consoles, and mobile devices. It is called a "sandbox game" because it provides an independent environment in which players can make their own structures and objects out of virtual, LEGO-like blocks. ',-1);var Gm={setup:e=>(e,t)=>(Sr(),Mr("div",qm,[Ir("div",Wm,[Dr(Vp,{msg:"Minecraft VR"}),Km])]))};class Hm extends yp{constructor(e,t,n={}){super(Gm,e,t,n)}}const $m={id:"room",class:"darkwall"},Xm={class:"spacer headline"};var Ym={setup:e=>(e,t)=>(Sr(),Mr("div",$m,[Ir("div",Xm,[Dr(Vp,{msg:"AR & VR GAMES"})])]))};class Qm extends yp{constructor(e,t,n={}){super(Ym,e,t,n)}}const Zm={id:"room",class:"darkwall"},Jm={class:"spacer headline"};var ev={setup:e=>(e,t)=>(Sr(),Mr("div",Zm,[Ir("div",Jm,[Dr(Vp,{msg:"AR & VR ART"})])]))};class tv extends yp{constructor(e,t,n={}){super(ev,e,t,n)}}const nv={id:"room",class:"darkwall"},rv={class:"spacer"},sv=Ir("a",{target:"_blank",href:"https://recroom.com/"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/c3afe77648abe84e.jpg",alt:"Rec Room"})],-1),iv=Ir("div",{class:"squareoff"},null,-1);var ov={setup:e=>(e,t)=>(Sr(),Mr("div",nv,[Ir("div",rv,[sv,Dr(Vp,{msg:"Rec Room"}),iv])]))};class av extends yp{constructor(e,t,n={}){super(ov,e,t,n)}}const lv={id:"room",class:"darkwall"},cv={class:"spacer"},uv=Ir("a",{target:"_blank",href:"https://www.steamvr.com/en/"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/2d8cf962293b3088.jpg",alt:"Steam Image"})],-1),hv=Ir("div",{class:"squareoff"},null,-1);var dv={setup:e=>(e,t)=>(Sr(),Mr("div",lv,[Ir("div",cv,[uv,Dr(Vp,{msg:"Steam"}),hv])]))};class pv extends yp{constructor(e,t,n={}){super(dv,e,t,n)}}const fv={id:"room",class:"darkwall"},mv={class:"spacer"},vv=Ir("a",{target:"_blank",href:"https://blog.google/products/maps/new-sense-direction-live-view/"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/060c5fa00fb3253e.jpg",alt:"Google Live View Image"})],-1),yv=Ir("div",{class:"squareoff"},null,-1);var gv={setup:e=>(e,t)=>(Sr(),Mr("div",fv,[Ir("div",mv,[vv,Dr(Vp,{msg:"Google Live View"}),yv])]))};class bv extends yp{constructor(e,t,n={}){super(gv,e,t,n)}}const wv={id:"room",class:"darkwall"},_v={class:"spacer"},xv=Ir("a",{target:"_blank"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/4e01dbc22b7f7978.jpg",alt:"The Day The World Changed"})],-1),kv=Ir("div",{class:"squareoff"},null,-1);var Ev={setup:e=>(e,t)=>(Sr(),Mr("div",wv,[Ir("div",_v,[xv,Dr(Vp,{msg:"The Day The World Changed"}),kv])]))};class Tv extends yp{constructor(e,t,n={}){super(Ev,e,t,n)}}const Sv={id:"room",class:"darkwall"},Rv={class:"spacer"},Cv=Ir("a",{target:"_blank"},[Ir("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/c99cd2d7da044495.jpg",alt:"CerneYArena"})],-1),Av=Ir("div",{class:"squareoff"},null,-1);var Mv={setup:e=>(e,t)=>(Sr(),Mr("div",Sv,[Ir("div",Rv,[Cv,Dr(Vp,{msg:"CerneYArena"}),Av])]))};class Pv extends yp{constructor(e,t,n={}){super(Mv,e,t,n)}}const Ov={id:"room",class:"ivorywall"},Lv={style:{"padding-top":"10px"}},Bv={class:"history_spacer-side"},Iv=Ir("p",{class:"history_year"},"1430s",-1),Dv=Ir("hr",{class:"history_hr"},null,-1),Fv=Ir("br",null,null,-1),zv=Ir("div",{class:"squareoff"}," Linear perspective is a system developed by architects and painters to create an illusion of depth on a flat surface using the vanishing points. This technique resembles the way we see the world, as it imitates how rays of light reflects off objects in the world and could be focused on a surface. ",-1),Uv=Ir("br",null,null,-1);var jv={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Ov,[Ir("div",Lv,[Ir("div",Bv,[Dr(Vp,{class:"history_title",msg:"Linear Perspective"}),Iv,Dv,Fv,zv]),Uv])])]))};class Nv extends yp{constructor(e,t,n={}){super(jv,e,t,n)}}const Vv=[Ur('<div id="room" class="ivorywall"><div style="padding-top:10px;"><div class="history_spacer-side"><div class="history_subtitle">Linear Perspective</div><hr class="history_hr2"><br><div class="squareoff"> Around 1425, Italian Renaissance architect Filippo Brunelleschi demonstrated linear perspective with the help of a mirror. Using the technique of parallel lines converging in a single vanishing point and a mirror, he painted the Florence Baptistry. This is the first example of diminished reality, in which the real world is overlayed and obscured by the technology. </div></div></div><br></div>',1)];var qv={setup:e=>(e,t)=>(Sr(),Mr("div",null,Vv))};class Wv extends yp{constructor(e,t,n={}){super(qv,e,t,n)}}const Kv={id:"room",class:"ivorywall"},Gv={style:{"padding-top":"10px"}},Hv={class:"history_spacer-side"},$v=Ir("p",{class:"history_year"},"1790",-1),Xv=Ir("hr",{class:"history_hr"},null,-1),Yv=Ir("br",null,null,-1),Qv=Ir("div",{class:"squareoff"},[zr(" The panorama conceived by English painter Robert Barker was one of the ways to represent reality at the end of the 18th century. Barker used perspective painting to create a panorama on a canvas stretched around the cylindrical surface. Viewers stood in the middle and experienced the scene in either direction. Therefore, the panoramas were fully immersive virtual environments consisting of a painted canvas. "),Ir("br"),Ir("br"),zr(" * Go through the portal to view his paintings in the panorama building. ")],-1),Zv=Ir("br",null,null,-1);var Jv={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Kv,[Ir("div",Gv,[Ir("div",Hv,[Dr(Vp,{class:"history_title",msg:"Panorama"}),$v,Xv,Yv,Qv])]),Zv])]))};class ey extends yp{constructor(e,t,n={}){super(Jv,e,t,n)}}const ty=[Ur('<div id="room" class="ivorywall"><div style="padding-top:10px;"><div class="history_spacer-side"><div class="history_subtitle">Photography</div><hr class="history_hr2"><br><div class="squareoff"> The forerunner of the camera, <span style="font-weight:bold;font-size:1.3rem;">camera obscura</span> is a darkened room with a small hole that admitted light to project the inverted image of the outside scene onto the opposite wall. This image was ephemeral until the development of modern chemistry that made another medium possible. </div></div></div><br></div>',1)];var ny={setup:e=>(e,t)=>(Sr(),Mr("div",null,ty))};class ry extends yp{constructor(e,t,n={}){super(ny,e,t,n)}}const sy={id:"room",class:"ivorywall"},iy={style:{"padding-top":"10px"}},oy={class:"history_spacer-side"},ay=Ir("p",{class:"history_year"},"1820s",-1),ly=Ir("hr",{class:"history_hr"},null,-1),cy=Ir("br",null,null,-1),uy=Ir("div",{class:"squareoff"}," Photography was developed through mechanizing the process of linear perspective. Until today, photography is recognized as a medium that has a strong claim to reality. ",-1),hy=Ir("br",null,null,-1);var dy={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",sy,[Ir("div",iy,[Ir("div",oy,[Dr(Vp,{class:"history_title",msg:"Photography"}),ay,ly,cy,uy])]),hy])]))};class py extends yp{constructor(e,t,n={}){super(dy,e,t,n)}}const fy={id:"room",class:"ivorywall"},my={style:{"padding-top":"10px"}},vy={class:"history_spacer-side"},yy=Ir("p",{class:"history_year"},"1890s",-1),gy=Ir("hr",{class:"history_hr"},null,-1),by=Ir("br",null,null,-1),wy=Ir("div",{class:"squareoff"}," The first fully dynamic reality media was seen in the 1980s, when the Lumire brothers created cinmatographe, which is one of the first motion picture apparatus. With this device, they made 'The Arrival of a Train at La Ciotat Station', which showcased their success in reproducing a facet of reality that photography could not, by having motion and time. ",-1),_y=Ir("br",null,null,-1);var xy={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",fy,[Ir("div",my,[Ir("div",vy,[Dr(Vp,{class:"history_title",msg:"Film"}),yy,gy,by,wy])]),_y])]))};class ky extends yp{constructor(e,t,n={}){super(xy,e,t,n)}}const Ey={id:"room",class:"ivorywall"},Ty={style:{"padding-top":"10px"}},Sy={class:"history_spacer-side"},Ry=Ir("p",{class:"history_year"},"1920s",-1),Cy=Ir("hr",{class:"history_hr"},null,-1),Ay=Ir("br",null,null,-1),My=Ir("div",{class:"squareoff"},' Television filled in the gap that film had left open for a medium that presented moving images and sound "live". Up until the late 1950s, most television was broadcast live. As video recording technology improved, more and more primetime television was recorded. However, still the quality of liveness is true to two TV generes: the news and the coverage of sports. Today, with the digital technology, film and television are diverging in hybrid formats. ',-1),Py=Ir("br",null,null,-1);var Oy={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Ey,[Ir("div",Ty,[Ir("div",Sy,[Dr(Vp,{class:"history_title",msg:"TV"}),Ry,Cy,Ay,My])]),Py])]))};class Ly extends yp{constructor(e,t,n={}){super(Oy,e,t,n)}}const By={id:"room",class:"ivorywall"},Iy={style:{"padding-top":"10px"}},Dy={class:"history_spacer-side"},Fy=Ir("p",{class:"history_year"},"1430s",-1),zy=Ir("hr",{class:"history_hr"},null,-1),Uy=Ir("br",null,null,-1),jy=Ir("div",{class:"squareoff"}," Among the different kinds of cameras and techniques used for creating panoramic photographs, the equirectangular Projection is commonly used today. Rather than using multiple viewpoints and stitching the photos together, it keeps a single viewpoint and fits the spherical world into a flat image by distorting the image. ",-1),Ny=Ir("br",null,null,-1);var Vy={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",By,[Ir("div",Iy,[Ir("div",Dy,[Dr(Vp,{class:"history_title",msg:"Equirectangular Projection"}),Fy,zy,Uy,jy])]),Ny])]))};class qy extends yp{constructor(e,t,n={}){super(Vy,e,t,n)}}const Wy={id:"room",class:"ivorywall"},Ky={style:{"padding-top":"10px"}},Gy={class:"history_spacer-side"},Hy=Ir("p",{class:"history_year"},"1962",-1),$y=Ir("hr",{class:"history_hr"},null,-1),Xy=Ir("br",null,null,-1),Yy=Ir("div",{class:"squareoff"}," With interactions engaging more than just sight, immersion was achieved in new ways with the advent of Morton Heilig's Sensorama. Now, audiences weren't only watching narratives, they were putting themselves into new worlds - riding a motorcycle with the wind blowing through their hair and over their body, all while the smells of the open road filled their nostrils. ",-1),Qy=Ir("br",null,null,-1);var Zy={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Wy,[Ir("div",Ky,[Ir("div",Gy,[Dr(Vp,{class:"history_title",msg:"Sensorama"}),Hy,$y,Xy,Yy])]),Qy])]))};class Jy extends yp{constructor(e,t,n={}){super(Zy,e,t,n)}}const eg={id:"room",class:"ivorywall"},tg={style:{"padding-top":"10px"}},ng={class:"history_spacer-side"},rg=Ir("p",{class:"history_year"},"1430s",-1),sg=Ir("hr",{class:"history_hr"},null,-1),ig=Ir("br",null,null,-1),og=Ir("div",{class:"squareoff"}," The first motion simulator platform was made in 1910 and was a model aircraft connected to the ground by a universal joint. When the wind blew, the plane's flaps could be used to rotate the plane so pilots could get practice without having to go into the air. In 1929, Edwin Link made a new simulator, that used a platform with inflating and deflating bellows below it to rotate the platform. In 1958, the Comet 4 was developed using hydraulics and had 3 degrees of freedom. As these motion simulators, which were at the time mainly used for training, grew, they started to be used for various new things. In 1977, the Doron SR2 simulator ride was made, which was an enclosed cockpit with a screen on the inside, which could be used to project a first-person view, while hydraulics pitched the ride around. This allowed for the simulation of movement while giving the people inside a first-person view of the vehicle that the ride would simulate. ",-1),ag=Ir("br",null,null,-1);var lg={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",eg,[Ir("div",tg,[Ir("div",ng,[Dr(Vp,{class:"history_title",msg:"Immersive Rides"}),rg,sg,ig,og])]),ag])]))};class cg extends yp{constructor(e,t,n={}){super(lg,e,t,n)}}const ug={id:"room",class:"ivorywall"},hg={style:{"padding-top":"10px"}},dg={class:"history_spacer-side"},pg=Ir("hr",{class:"history_hr"},null,-1),fg=Ir("br",null,null,-1),mg=Ir("div",{class:"squareoff"}," 3D films are motion pictures that are made to give an illusion of three-dimensional depth with the help of 3D glasses worn by viewers. Using color filters or polarized lenses, the 3D glasses send different perspectives of the same image to each eye of the viewer to emulate the illusion of depth. ",-1),vg=Ir("br",null,null,-1);var yg={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",ug,[Ir("div",hg,[Ir("div",dg,[Dr(Vp,{class:"history_title",msg:"3D Movies"}),pg,fg,mg])]),vg])]))};class gg extends yp{constructor(e,t,n={}){super(yg,e,t,n)}}const bg={id:"room",class:"ivorywall"},wg={style:{"padding-top":"10px"}},_g={class:"history_spacer-side"},xg=Ir("hr",{class:"history_hr"},null,-1),kg=Ir("br",null,null,-1),Eg=Ir("div",{class:"squareoff"}," It is a 360 immersive VR theater created by a camera system that simultaneously records the scene in 360 degrees. It is designed to be used by multiple people and without the use of VR headsets. In the dome, the view could rotate and watch the film from any angle, enjoying different perspectives. ",-1),Tg=Ir("br",null,null,-1);var Sg={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",bg,[Ir("div",wg,[Ir("div",_g,[Dr(Vp,{class:"history_title",msg:"Dome theater"}),xg,kg,Eg])]),Tg])]))};class Rg extends yp{constructor(e,t,n={}){super(Sg,e,t,n)}}const Cg={id:"room",class:"ivorywall"},Ag={style:{"padding-top":"10px"}},Mg={class:"history_spacer-side"},Pg=Ir("hr",{class:"history_hr"},null,-1),Og=Ir("br",null,null,-1),Lg=Ir("div",{class:"squareoff"},[zr(" A skybox is a cuboid that makes up the sky or background in a video game. The sky and other environmental elements are projected onto the faces of the cuboid, creating an illusion of the 3-dimensional spaces. "),Ir("br"),Ir("br"),zr(" * Go through the portal to view his paintings in the panorama building. ")],-1),Bg=Ir("br",null,null,-1);var Ig={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Cg,[Ir("div",Ag,[Ir("div",Mg,[Dr(Vp,{class:"history_title",msg:"Skybox"}),Pg,Og,Lg])]),Bg])]))};class Dg extends yp{constructor(e,t,n={}){super(Ig,e,t,n)}}const Fg={id:"room",class:"ivorywall"},zg={style:{"padding-top":"10px"}},Ug={class:"history_spacer-side"},jg=Ir("hr",{class:"history_hr"},null,-1),Ng=Ir("br",null,null,-1),Vg=Ir("div",{class:"squareoff"},[zr(" Facebook announced it was rebranding to Meta and would focus its future on the upcoming metaverse. "),Ir("br"),Ir("br"),zr(" * Go through the portal to view his paintings in the panorama building. ")],-1),qg=Ir("br",null,null,-1);var Wg={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Fg,[Ir("div",zg,[Ir("div",Ug,[Dr(Vp,{class:"history_title",msg:"Metaverse"}),jg,Ng,Vg])]),qg])]))};class Kg extends yp{constructor(e,t,n={}){super(Wg,e,t,n)}}const Gg={id:"room",class:"ivorywall"},Hg={style:{"padding-top":"10px"}},$g={class:"history_spacer-side"},Xg=Ir("p",{class:"history_year"},"1968",-1),Yg=Ir("hr",{class:"history_hr"},null,-1),Qg=Ir("br",null,null,-1),Zg=Ir("div",{class:"squareoff"}," In 2012, Palmer Luckey released a Kickstarter for the Oculus Rift, a personal Virtual Reality headset that would be more publicly available and affordable than previous VR headsets. In March of 2013, the Oculus Development Kit 1 was released and allowed customers to play VR games with a controller. At this point, the headset only used a gyroscope, accelerometer, and magnetometer. Over time, the Oculus grew, and HTC made the Vive as a competitor. In this time, technological improvements had allowed for people wearing the headsets to move around in a small space and have their position tracked. These improvements also included specialized controllers that would also track the movements of the user's hands. ",-1),Jg=Ir("br",null,null,-1);var eb={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Gg,[Ir("div",Hg,[Ir("div",$g,[Dr(Vp,{class:"history_title",msg:"Personal VR Systems"}),Xg,Yg,Qg,Zg])]),Jg])]))};class tb extends yp{constructor(e,t,n={}){super(eb,e,t,n)}}const nb={id:"room",class:"ivorywall"},rb={style:{"padding-top":"10px"}},sb={class:"history_spacer-side"},ib=Ir("p",{class:"history_year"},"1968",-1),ob=Ir("hr",{class:"history_hr"},null,-1),ab=Ir("br",null,null,-1),lb=Ir("div",{class:"squareoff"}," Ivan Sutherlands The Sword of Damocles is considered the first head-mounted display for AR and VR. In the beginning, AR was most utilized for training purposes in the Air force. Now, its application could be seen everywhere, especially with the help of mobile devices and AR frameworks like ARkit and ARCore, developed by Apple and Google respectively. With this software development kit, AR became more widespread as AR could easily be incorporated into mobile applications. ",-1),cb=Ir("br",null,null,-1);var ub={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",nb,[Ir("div",rb,[Ir("div",sb,[Dr(Vp,{class:"history_title",msg:"Augmented Reality"}),ib,ob,ab,lb])]),cb])]))};class hb extends yp{constructor(e,t,n={}){super(ub,e,t,n)}}const db={id:"room",class:"ivorywall"},pb={style:{"padding-top":"10px"}},fb={class:"history_spacer-side"},mb=Ir("p",{class:"history_year"},"2007",-1),vb=Ir("hr",{class:"history_hr"},null,-1),yb=Ir("br",null,null,-1),gb={class:"squareoff"},bb=[Ir("a",{href:"https://www.google.com/streetview/",target:"_blank"},"Google Street View,",-1)],wb=zr(" which was first launched in 2007, provides the user interactive panoramas that are created through stitching photographs together seamlessly. In Google Maps, the user could feel as if they are on the streets of the place they select, looking around the world. "),_b=Ir("br",null,null,-1);var xb={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",db,[Ir("div",pb,[Ir("div",fb,[Dr(Vp,{class:"history_title",msg:"Google Street View"}),mb,vb,yb,Ir("div",gb,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},bb),wb])])]),_b])]))};class kb extends yp{constructor(e,t,n={}){super(xb,e,t,n)}}const Eb={id:"room",class:"ivorywall"},Tb={style:{"padding-top":"10px"}},Sb={class:"history_spacer-side"},Rb=Ir("p",{class:"history_year"},"1800s",-1),Cb=Ir("hr",{class:"history_hr"},null,-1),Ab=Ir("br",null,null,-1),Mb=Ir("div",{class:"squareoff"}," The stereoscopic film allowed people to generate 3D views of images by mimicking the human eyes with two cameras. The stereoscope, a device for viewing these photographs, was first invented in 1832 by Charles Wheatstone. Many methods to generate stereoscopic movies were attempted, but it wasn't until 1922 that the first 3D film, The Power of Love, came out. This used one projector but had the two sets of images coded into red and blue, while the audience would were glasses with red and blue lenses. Later, polarization allowed full-color 3D films to be made. ",-1),Pb=Ir("br",null,null,-1);var Ob={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Eb,[Ir("div",Tb,[Ir("div",Sb,[Dr(Vp,{class:"history_title",msg:"Stereoscopic Film"}),Rb,Cb,Ab,Mb])]),Pb])]))};class Lb extends yp{constructor(e,t,n={}){super(Ob,e,t,n)}}const Bb={id:"room",class:"ivorywall"},Ib={style:{"padding-top":"10px"}},Db={class:"history_spacer-side"},Fb=Ir("p",{class:"history_year"},"1500s",-1),zb=Ir("hr",{class:"history_hr"},null,-1),Ub=Ir("br",null,null,-1),jb=Ir("div",{class:"squareoff"}," One of the most famous trompe loeils was the fresco on walls or ceilings of the SantIgnazio Church in Rome painted by Andrea Pozzo. If a viewer stands in the right spot, the perspective lines up perfectly, as if the vault opens to the heavens. It locates the viewer in a hybrid space that is part physical and part virtual. It is therefore, in a sense, a forerunner of AR as it combines the physical and the virtual. In another sense, it was a forerunner of VR in that it blended the painting into the whole building to create a seamless environment. ",-1),Nb=Ir("br",null,null,-1);var Vb={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Bb,[Ir("div",Ib,[Ir("div",Db,[Dr(Vp,{class:"history_title",msg:"Trompe-l'oeil"}),Fb,zb,Ub,jb])]),Nb])]))};class qb extends yp{constructor(e,t,n={}){super(Vb,e,t,n)}}const Wb={id:"room",class:"ivorywall"},Kb={style:{"padding-top":"10px"}},Gb={class:"history_spacer-side"},Hb=Ir("p",{class:"history_year"},"1965",-1),$b=Ir("hr",{class:"history_hr"},null,-1),Xb=Ir("br",null,null,-1),Yb=Ir("div",{class:"squareoff"},' "In 1965 Ivan E. Sutherland envisioned the Ultimate Display, a room in which a computer can directly control the existence of matter. This type of display would merge the digital and the physical world, dramatically changing how people interact with computers." ',-1),Qb=Ir("br",null,null,-1);var Zb={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Wb,[Ir("div",Kb,[Ir("div",Gb,[Dr(Vp,{class:"history_title",msg:"Ultimate Display"}),Hb,$b,Xb,Yb])]),Qb])]))};class Jb extends yp{constructor(e,t,n={}){super(Zb,e,t,n)}}const ew={id:"room",class:"ivorywall"},tw={style:{"padding-top":"10px"}},nw={class:"history_spacer-side"},rw=Ir("p",{class:"history_year"},"1992",-1),sw=Ir("hr",{class:"history_hr"},null,-1),iw=Ir("br",null,null,-1),ow=Ir("div",{class:"squareoff"},' "A Cave Automatic Virtual Environment is an immersive virtual reality environment where projectors are directed to between three and six of the walls of a room-sized cube. The name is also a reference to the allegory of the Cave in Plato\'s Republic in which a philosopher contemplates perception, reality, and illusion." ',-1),aw=Ir("br",null,null,-1);var lw={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",ew,[Ir("div",tw,[Ir("div",nw,[Dr(Vp,{class:"history_title",msg:"VRCave"}),rw,sw,iw,ow])]),aw])]))};class cw extends yp{constructor(e,t,n={}){super(lw,e,t,n)}}const uw=[Ur('<div id="room" class="ivorywall"><div style="padding-top:10px;"><div class="history_spacer-side"><div class="history_subtitle">Film</div><hr class="history_hr2"><br><div class="squareoff"><span style="font-weight:bold;font-size:1.3rem;">Zoetrope</span> is one of the pre-film devices that produced the illusion of motion by displaying a sequence of drawing or photographs showing progressive phases of that motion. It is consisted of a cylinder with vertical slits along the side. The inner surface of the cylinder features a row of sequential images. When it rotates at a high speed, the user can see the rapid succession of images through one of the slits on the cylinder, which create the ilusion of motion. </div></div></div><br></div>',1)];var hw={setup:e=>(e,t)=>(Sr(),Mr("div",null,uw))};class dw extends yp{constructor(e,t,n={}){super(hw,e,t,n)}}const pw={id:"room",class:"darkwall"},fw={class:"spacer-side"},mw=Ir("br",null,null,-1),vw=Ir("div",{class:"squareoff"},[Ir("p",null,[zr("In 1930s, Walter Benjamin introduced the concept of "),Ir("span",{style:{fontWeight:"700"}},"aura"),zr(" in The Work of Art in the Age of Mechanical Reproduction. Aura is the "),Ir("span",{style:{fontWeight:"700"}},"here and now"),zr(" that work possesses because of its unique history of production and transmission. ")]),Ir("br"),Ir("p",null,[zr("AR applications are not perfect reproductive technologies, as some draw on the physical and cultural uniquesness, "),Ir("em",null,"the here and now"),zr(" of particular places. ")])],-1);var yw={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",pw,[Ir("div",fw,[Dr(Vp,{msg:"Aura"}),mw,vw])])]))};class gw extends yp{constructor(e,t,n={}){super(yw,e,t,n)}}const bw=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[zr(' "These definitions circle around one core idea: that presence is a kind of absence, '),Ir("span",{class:"keyPoint"},"the absence of mediation."),zr(" Presence as transportation, immersion, or realism all come down to the user's forgetting that the medium is there.\" ")])])],-1)];var ww={setup:e=>(e,t)=>(Sr(),Mr("div",null,bw))};class _w extends yp{constructor(e,t,n={}){super(ww,e,t,n)}}const xw={id:"room",class:"darkwall"},kw={class:"spacer-side"},Ew=Ir("br",null,null,-1),Tw={class:"squareoff"},Sw=zr('"Casa Batll, one of the masterpieces of Antoni Gaud, can be experienced with the mobile AR, which visualizes the reconstructed interior and the design inspirations through 3D animations." '),Rw=Ir("br",null,null,-1),Cw=Ir("br",null,null,-1),Aw=[Ir("a",{href:"https://www.youtube.com/watch?v=dye_YVx2VUg&ab_channel=EricAzares",target:"_blank"},"Click here to learn more about the video",-1)];var Mw={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",xw,[Ir("div",kw,[Dr(Vp,{msg:"Gaud's Casa Batll with AR"}),Ew,Ir("div",Tw,[Sw,Rw,Cw,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},Aw)])])])]))}};class Pw extends yp{constructor(e,t,n={}){super(Mw,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const Ow=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/740518294e513122.jpg",height:"326"})],-1)];var Lw={setup:e=>(e,t)=>(Sr(),Mr("div",null,Ow))};class Bw extends yp{constructor(e,t,n={}){super(Lw,e,t,n)}}const Iw={id:"room",class:"darkwall"},Dw={class:"spacer-side"},Fw={class:"squareoff"},zw=Ir("br",null,null,-1),Uw=Ir("br",null,null,-1),jw=zr(" The term cybersickness, or visually induced motion sickness, has been coined to describe symptoms including headache, nausea, eye strain, dizziness, fatigue, or even vomiting that may occur during or after exposure to a virtual environment. Cybersickness is visceral evidence that VR is not the medium to end all media. Cybersickness reminds the susceptible user of the medium in a powerful way. Nausea replaces astonishment. "),Nw=Ir("br",null,null,-1),Vw=Ir("br",null,null,-1),qw={style:{float:"right"}},Ww=[Ir("a",{href:"https://www.youtube.com/watch?v=X9jM4LcwHog&t=55s&ab_channel=FeelVirtual",target:"_blank"},"Click here to learn more about the video",-1)];var Kw={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",Iw,[Ir("div",Dw,[Dr(Vp,{msg:"Cybersickness and the negation of presence"}),Ir("div",Fw,[zw,Uw,jw,Nw,Vw,Ir("div",qw,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},Ww)])])])])]))}};class Gw extends yp{constructor(e,t,n={}){super(Kw,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const Hw=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/d3e564df2f84bc31.jpg",height:"326"})],-1)];var $w={setup:e=>(e,t)=>(Sr(),Mr("div",null,Hw))};class Xw extends yp{constructor(e,t,n={}){super($w,e,t,n)}}const Yw={id:"room",class:"darkwall"},Qw={class:"spacer-side"},Zw=Ir("br",null,null,-1),Jw=Ir("div",{class:"squareoff"},"Researchers have long pursued the idea of emotional reactions such as empathy as a test of presence. VR is understood as getting us closer to the authentic or the real. But forgetting the medium is not necessary for a sense of presence. Presence can be understood in a more nuanced way as a liminal zone between forgetting and acknowledging VR as a medium. ",-1);var e_={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Yw,[Ir("div",Qw,[Dr(Vp,{msg:"Presence and Empathy"}),Zw,Jw])])]))};class t_ extends yp{constructor(e,t,n={}){super(e_,e,t,n)}}const n_=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"full"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/25ecf05f66df0777.jpg",height:"475"})])],-1)];var r_={setup:e=>(e,t)=>(Sr(),Mr("div",null,n_))};class s_ extends yp{constructor(e,t,n={}){super(r_,e,t,n)}}const i_={id:"room",class:"darkwall"},o_={class:"spacer-side"},a_=Ir("br",null,null,-1),l_=Ir("br",null,null,-1),c_=Ir("div",{class:"squareoff"},[zr("360"),Ir("span",null,""),zr(" film Clouds Over Sidra created by Chris Milk and Gabo Arora shows the life of Syrian refugees in Za'atari camp in Jordan. The camera follows 12-year old Sidra in her everyday life, allowing the users to be present with Sidra. ")],-1),u_=Ir("br",null,null,-1),h_=Ir("blockquote",{class:"squareoff"},[zr("\"When youre inside of the headset . . . you see full 360 degrees, in all directions. And when youre sitting there in her room, watching her, you're not watching it through a television screen, youre not watching it through a window, "),Ir("span",{style:{fontWeight:"700"}},"youre sitting there with her."),zr(" When you look down, you're sitting on the same ground that shes sitting on. And because of that, you feel her humanity in a deeper way. You empathize with her in a deeper way. (Milk 2015)\"")],-1),d_=Ir("br",null,null,-1),p_=zr(),f_=Ir("br",null,null,-1),m_={style:{float:"right"}},v_=[Ir("a",{href:"https://www.ted.com/talks/chris_milk_how_virtual_reality_can_create_the_ultimate_empathy_machine?language=yi",target:"_blank"},"Click here to learn more about the video",-1)];var y_={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",i_,[Ir("div",o_,[Dr(Vp,{msg:"Ultimate Empathy Machine"}),a_,l_,c_,u_,h_,d_,p_,f_,Ir("div",m_,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},v_)])])])]))}};class g_ extends yp{constructor(e,t,n={}){super(y_,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const b_=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/883881c7af4ee295.jpg",height:"326"})],-1)];var w_={setup:e=>(e,t)=>(Sr(),Mr("div",null,b_))};class __ extends yp{constructor(e,t,n={}){super(w_,e,t,n)}}const x_={id:"room",class:"darkwall"},k_={class:"spacer-side"},E_=Ir("br",null,null,-1),T_=Ir("br",null,null,-1),S_={class:"squareoff"},R_=zr("Nonnie de la Pea's Ted Talk called 'The future of news?' introduces a new form of journalism where Virtual Reality technology is used to put audience inside the stories. In her work, she created VR stories about imprisonment in Guantanamo and hunger in Los Angeles to induce empathy in the audience. "),C_=Ir("br",null,null,-1),A_=zr(),M_=Ir("br",null,null,-1),P_=zr(),O_=Ir("br",null,null,-1),L_=[Ir("a",{href:"https://www.ted.com/talks/nonny_de_la_pena_the_future_of_news_virtual_reality?language=en",target:"_blank"},"Click here to learn more about the video",-1)];var B_={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",x_,[Ir("div",k_,[Dr(Vp,{msg:"The future of news?"}),E_,T_,Ir("div",null,[Ir("div",S_,[R_,C_,A_,M_,P_,O_,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},L_)])])])])]))}};class I_ extends yp{constructor(e,t,n={}){super(B_,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const D_=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/801aa52e4d0113bc.jpg",height:"326"})],-1)];var F_={setup:e=>(e,t)=>(Sr(),Mr("div",null,D_))};class z_ extends yp{constructor(e,t,n={}){super(F_,e,t,n)}}const U_={id:"room",class:"darkwall"},j_={class:"spacer-side"},N_=Ir("br",null,null,-1),V_={class:"squareoff"},q_=zr("The Pit experiments were conducted by researchers at the "),W_=[Ir("a",{href:"http://wwwx.cs.unc.edu/Research/eve/walk_exp/",target:"_blank"},"University of North Carolina",-1)],K_=zr(" in the early 2000s, to establish empirical evidence of presence in virtual reality. They constructed a physical set, complete with platforms and walls, that matched the virtual scene. The subjects were asked to perform simple tasks that involved walking to the edge of a virtual pit. Researchers measured their physiological reactions to see if they experienced signs of fear, such as an accelerated heart beat. Pass through the portal to experience a replica of one version of their Pit Room yourself. ");var G_={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",U_,[Ir("div",j_,[Dr(Vp,{msg:"Pit Experiement"}),N_,Ir("div",V_,[q_,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},W_),K_])])])]))}};class H_ extends yp{constructor(e,t,n={}){super(G_,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const $_={id:"room",class:"darkwall"},X_={class:"spacer-side"},Y_=Ir("br",null,null,-1),Q_={class:"squareoff"},Z_=zr(' This experiment was inspired by the VR "pit" experiment described on the wall to your left. The subjects wore AR headsets instead of VR ones. They could see the room around them, but the pit itself was still virtual. Would the subjects would feel the same measurable anxiety in AR as in VR? The subjects filled out a questionnaire after the experience and indicated that they did have a feeling of presence, but in this case, unlike in the VR experiment, the physiological data (heart rate etc.) did not indicate a response. '),J_=Ir("br",null,null,-1),ex=Ir("br",null,null,-1),tx={class:"oblique",style:{fontSize:"0.9rem"}},nx=zr(" Gandy, Maribeth, et al. 2010. Experiences with an AR Evaluation Test Bed: Presence, Performance, and Physiological Measurement. In 2010 IEEE International Symposium on Mixed and Augmented Reality, 12736. Seoul, Korea (South): IEEE. "),rx=[Ir("a",{href:"https://ieeexplore.ieee.org/document/5643560",target:"_blank"},"https://doi.org/10.1109/ISMAR.2010.5643560.",-1)];var sx={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",$_,[Ir("div",X_,[Dr(Vp,{msg:"Presence in AR"}),Y_,Ir("div",Q_,[Z_,J_,ex,Ir("div",tx,[nx,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},rx)])])])])]))}};class ix extends yp{constructor(e,t,n={}){super(sx,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const ox=[Ur('<div id="room" class="darkwall"><div class="spacer-side"><div class="postertitle">Presence</div><div class="squareoff">Presence is a kind of absence, the absence of mediation. If the users can forget that the medium is there, then they feel presence. <br><br> To look further, Lombard and Ditton&#39;s classification of presence is useful. They grouped definitions of presence into two categories, which are <br><br><div class="keyPoint"> (1) individual perception of the world <br> (2) social interaction and engagement with others</div><br> The first category includes presence as transportation, as immersion and as realism. </div><br><br><div class="squareoff" style="font-style:italic;">&quot;VR and AR cannot deceive their users into believing that they are having a non-mediated experience. But that is not necessary for a sense of presence.&quot;</div></div></div>',1)];var ax={setup:e=>(e,t)=>(Sr(),Mr("div",null,ox))};class lx extends yp{constructor(e,t,n={}){super(ax,e,t,n)}}const cx={id:"room",class:"darkwall"},ux={class:"spacer-side"},hx=Ir("br",null,null,-1),dx=Ir("br",null,null,-1),px={class:"squareoff"},fx=zr("Treehugger: Wawona VR experience transports the users to the red giant Sequoia trees from the Sequoia National Park. It provides a sense of intimacy with the tree - with its bark, with the cells that make up its being. The vividness of the work illustrates "),mx=Ir("em",null,"presence",-1),vx=zr(". "),yx=Ir("br",null,null,-1),gx=Ir("br",null,null,-1),bx={style:{float:"right"}},wx=[Ir("a",{href:"https://www.youtube.com/watch?v=if0wfysmoMU&ab_channel=MarshmallowLaserFeast",target:"_blank"},"Click here to learn more about the video",-1)];var _x={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",cx,[Ir("div",ux,[Dr(Vp,{msg:"Treehugger: Wawona"}),hx,dx,Ir("div",px,[fx,mx,vx,yx,gx,Ir("div",bx,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},wx)])]),jr(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))}};class xx extends yp{constructor(e,t,n={}){super(_x,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const kx=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[Ir("div",null,'Reality media have always been about presence. The legend of La Ciotat is a myth of presence, which you can explore in the gallery entitled "What are Reality Media?"')])])],-1)];var Ex={setup:e=>(e,t)=>(Sr(),Mr("div",null,kx))};class Tx extends yp{constructor(e,t,n={}){super(Ex,e,t,n)}}const Sx=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/89c91ebefe9504d1.png",height:"475"})],-1)];var Rx={setup:e=>(e,t)=>(Sr(),Mr("div",null,Sx))};class Cx extends yp{constructor(e,t,n={}){super(Rx,e,t,n)}}const Ax=[Ir("div",{id:"room",class:"darkwall"},[Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/495ecc58771c118d.jpg",height:"326"})],-1)];var Mx={setup:e=>(e,t)=>(Sr(),Mr("div",null,Ax))};class Px extends yp{constructor(e,t,n={}){super(Mx,e,t,n)}}const Ox={id:"room",class:"darkwall"},Lx={class:"spacer-side"},Bx=Ir("br",null,null,-1),Ix=Ir("br",null,null,-1),Dx={class:"squareoff"},Fx=zr("The Franklin Institute in Philadelphia offered a mobile AR experience for their Terracotta Warrior exhibition. The app allowed visitors to use their smartphones to scan items and view various AR content to learn more about the history behind the clay soldiers. "),zx=Ir("br",null,null,-1),Ux=Ir("br",null,null,-1),jx=[Ir("a",{href:"https://www.youtube.com/watch?v=9advEusJB_Y&t=13s&ab_channel=CGTN",target:"_blank"},"Click here to learn more about the video",-1)];var Nx={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",Ox,[Ir("div",Lx,[Dr(Vp,{msg:"Terracotta Warriors AR"}),Bx,Ix,Ir("div",Dx,[Fx,zx,Ux,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},jx)])])])]))}};class Vx extends yp{constructor(e,t,n={}){super(Nx,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const qx=[Ur('<div id="room" class="darkwall"><div class="spacer-side"><div class="squareoff"><div class="lgquote">&quot;[Virtual Reality] feels like life; it feels like truth.&quot; <br> <span style="float:right;">- Chris Milk</span></div></div></div></div>',1)];var Wx={setup:e=>(e,t)=>(Sr(),Mr("div",null,qx))};class Kx extends yp{constructor(e,t,n={}){super(Wx,e,t,n)}}const Gx=[Ur('<div id="room" class="darkwall"><div class="spacer-side"><div class="squareoff"><div class="lgquote">&quot;In order to study a VEs effectiveness in evoking presence, researchers need a well designed and verified measure of the phenomena.&quot;<br><span style="float:right;">- Meehan et al. </span></div></div></div></div>',1)];var Hx={setup:e=>(e,t)=>(Sr(),Mr("div",null,Gx))};class $x extends yp{constructor(e,t,n={}){super(Hx,e,t,n)}}const Xx=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[Ir("div",{class:"lgquote"},"Cybersickness is visceral evidence that VR is not the medium to end all media.")])])],-1)];var Yx={setup:e=>(e,t)=>(Sr(),Mr("div",null,Xx))};class Qx extends yp{constructor(e,t,n={}){super(Yx,e,t,n)}}const Zx=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[Ir("div",{class:"lgquote"},"VR experiences generally lack aura, but AR experiences for cultural heritage can borrow or even enhance the aura of place.")])])],-1)];var Jx={setup:e=>(e,t)=>(Sr(),Mr("div",null,Zx))};class ek extends yp{constructor(e,t,n={}){super(Jx,e,t,n)}}const tk=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[Ir("div",{class:"lgquote"},"Each reality medium strives to achieve presence, and each one falls short.")])])],-1)];var nk={setup:e=>(e,t)=>(Sr(),Mr("div",null,tk))};class rk extends yp{constructor(e,t,n={}){super(nk,e,t,n)}}const sk=e=>(tn("data-v-4cf857ef"),e=e(),nn(),e),ik={id:"room",class:"darkwall"},ok={class:"squareoff"},ak=[sk((()=>Ir("a",{href:"https://www.youtube.com/watch?v=dye_YVx2VUg&ab_channel=EricAzares",target:"_blank"},"Click here to visit the website",-1)))],lk=sk((()=>Ir("br",null,null,-1)));var ck={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",ik,[Ir("div",ok,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},ak),lk])])])),__scopeId:"data-v-4cf857ef"};class uk extends yp{constructor(e,t,n={}){super(ck,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const hk={id:"room",class:"darkwall"},dk={class:"spacer-side"},pk=Ir("br",null,null,-1),fk={class:"squareoff"},mk=zr("Mark Zuckerberg has given a glimpse of the metaverse - a digital world built over our own, comprising virtual reality headsets and augmented reality. "),vk=Ir("br",null,null,-1),yk=Ir("br",null,null,-1),gk={style:{float:"right"}},bk=[Ir("a",{href:"https://www.youtube.com/watch?v=SAL2JZxpoGY&t=64s&ab_channel=GuardianNews",target:"_blank"},"Click here to learn more about the video",-1)];var wk={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",hk,[Ir("div",dk,[Dr(Vp,{msg:"Metaverse"}),pk,Ir("div",fk,[mk,vk,yk,Ir("div",gk,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},bk)])]),jr(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))}};class _k extends yp{constructor(e,t,n={}){super(wk,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const xk=e=>(tn("data-v-60ef9270"),e=e(),nn(),e),kk={id:"room",class:"darkwall"},Ek={class:"squareoff"},Tk=[xk((()=>Ir("a",{href:"https://www.ted.com/talks/chris_milk_how_virtual_reality_can_create_the_ultimate_empathy_machine?language=yi",target:"_blank"},"Click here to visit the website",-1)))],Sk=xk((()=>Ir("br",null,null,-1)));var Rk={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",kk,[Ir("div",Ek,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},Tk),Sk])])])),__scopeId:"data-v-60ef9270"};class Ck extends yp{constructor(e,t,n={}){super(Rk,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const Ak={id:"room",class:"darkwall"},Mk={class:"spacer-side"},Pk=Ir("br",null,null,-1),Ok={class:"squareoff"},Lk=zr("Mother 'reunited' with deceased daughter in virtual reality "),Bk=Ir("br",null,null,-1),Ik=Ir("br",null,null,-1),Dk={style:{float:"right"}},Fk=[Ir("a",{href:"https://www.youtube.com/watch?v=NSb6FHzwGdY&t=15s",target:"_blank"},"Click here to learn more about the video",-1)];var zk={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",Ak,[Ir("div",Mk,[Dr(Vp,{msg:"I Met You"}),Pk,Ir("div",Ok,[Lk,Bk,Ik,Ir("div",Dk,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},Fk)])]),jr(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))}};class Uk extends yp{constructor(e,t,n={}){super(zk,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const jk=e=>(tn("data-v-58ef40ae"),e=e(),nn(),e),Nk={id:"room",class:"darkwall"},Vk={class:"squareoff"},qk=[jk((()=>Ir("a",{href:"https://www.ted.com/talks/nonny_de_la_pena_the_future_of_news_virtual_reality?language=en",target:"_blank"},"Click here to visit the website",-1)))],Wk=jk((()=>Ir("br",null,null,-1)));var Kk={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",Nk,[Ir("div",Vk,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},qk),Wk])])])),__scopeId:"data-v-58ef40ae"};class Gk extends yp{constructor(e,t,n={}){super(Kk,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const Hk={id:"room",class:"darkwall"},$k={class:"spacer-side"},Xk=Ir("br",null,null,-1),Yk={class:"squareoff"},Qk=zr("Commercial VR experience that is close to the pit experiment. "),Zk=Ir("br",null,null,-1),Jk=Ir("br",null,null,-1),eE={style:{float:"right"}},tE=[Ir("a",{href:"https://www.youtube.com/watch?v=faNsP7ExSt0",target:"_blank"},"Click here to learn more about the video",-1)];var nE={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",Hk,[Ir("div",$k,[Dr(Vp,{msg:"Richie's Plank Experience"}),Xk,Ir("div",Yk,[Qk,Zk,Jk,Ir("div",eE,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},tE)])]),jr(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))}};class rE extends yp{constructor(e,t,n={}){super(nE,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const sE={id:"room",class:"darkwall"},iE={class:"squareoff"},oE=[Ir("a",{href:"https://www.youtube.com/watch?v=X9jM4LcwHog&t=55s&ab_channel=FeelVirtual",target:"_blank"},"Click here to visit the website",-1)],aE=Ir("br",null,null,-1);var lE={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",sE,[Ir("div",iE,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},oE),aE])])]))}};class cE extends yp{constructor(e,t,n={}){super(lE,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const uE=e=>(tn("data-v-73d8a0fc"),e=e(),nn(),e),hE={id:"room",class:"darkwall"},dE={class:"squareoff"},pE=[uE((()=>Ir("a",{href:"https://www.youtube.com/watch?v=9advEusJB_Y&t=13s&ab_channel=CGTN",target:"_blank"},"Click here to visit the website",-1)))],fE=uE((()=>Ir("br",null,null,-1)));var mE={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",hE,[Ir("div",dE,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},pE),fE])])])),__scopeId:"data-v-73d8a0fc"};class vE extends yp{constructor(e,t,n={}){super(mE,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const yE={id:"room",class:"darkwall"},gE={class:"squareoff"},bE=[Ir("a",{href:"https://www.youtube.com/watch?v=if0wfysmoMU&ab_channel=MarshmallowLaserFeast",target:"_blank"},"Click here to visit the website",-1)],wE=Ir("br",null,null,-1);var _E={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",yE,[Ir("div",gE,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},bE),wE])])]))}};class xE extends yp{constructor(e,t,n={}){super(_E,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const kE={id:"room"},EE={class:"spacer-side"},TE=Ir("br",null,null,-1),SE=Ir("br",null,null,-1),RE={class:"squareoff"},CE=zr('The experiments in the Pit Room required subjects to walk along the edges of the virtual pit while carrying an object (a book or a colored block). The physical room was designed to copy the virtual room: the subjects walked on actual wooden board, which they could feel through flimsy slippers that they were wearing. (This is called "passive haptics.")'),AE=Ir("br",null,null,-1),ME=zr(),PE=Ir("br",null,null,-1),OE=zr(" The subjects' heart rate, skin conductance, and skin temperature were monitored for changes. The goal was "),LE=Ir("span",{style:{fontWeight:"700"}},"to establish empirical measures for the subjective feeling of presence.",-1),BE=zr(" Changes in heart rate proved to be the best physical measure of presence, and the passive haptics were particularly effective. This version of the Pit model was provided by Rick Skarbez, and was used in one of the final sequence of experiments for the Pit researcher. "),IE=Ir("br",null,null,-1),DE=Ir("br",null,null,-1),FE={class:"oblique"},zE=zr('R. Skarbez, F. P. Brooks and M. C. Whitton, "Immersion and Coherence: Research Agenda and Early Results," in IEEE Transactions on Visualization and Computer Graphics, vol. 27, no. 10, pp. 3839-3850, 1 Oct. 2021, '),UE=Ir("br",null,null,-1),jE=Ir("br",null,null,-1),NE=[Ir("a",{href:"https://ieeexplore.ieee.org/abstract/document/9055149",target:"_blank"},"doi: 10.1109/TVCG.2020.2983701.",-1)],VE=Ir("br",null,null,-1),qE=Ir("br",null,null,-1);var WE={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",kE,[Ir("div",EE,[TE,Dr(Vp,{msg:"Pit Experiment"}),SE,Ir("div",RE,[CE,AE,ME,PE,OE,LE,BE,IE,DE,Ir("div",FE,[zE,UE,jE,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},NE)]),VE,qE])])])]))}};class KE extends yp{constructor(e,t,n={}){super(WE,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const GE={id:"room"},HE={class:"spacer-side"},$E=Ir("br",null,null,-1),XE=Ur('<br><div class="squareoff"> To get a sense of what the experiment was like, you should visit this room in a head-worn VR display and walk around the pit instead of teleporting or using the controller to move. Note that the lack of &quot;passive haptics&quot; (the physical set used in the UNC experiment) will diminish the sense of vertigo that you feel compared to the participants in the original experiment. <br><br><ul style="margin-left:60px;margin-right:60px;"><li style="color:#78cfa8;">At each of the two locations marked with the red and blue arrows on the floor, stand on the arrow facing in the indicated direction</li><br><li style="color:#78cfa8;">Pick up a ball with your controller</li><br><li style="color:#78cfa8;">Try to drop it on the target</li></ul><br><div style="font-size:0.9rem;" class="oblique">* Head-Mounted Display devices such as Oculus Quests are recommended for this experiment * </div></div><br><br>',4);var YE={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",GE,[Ir("div",HE,[$E,Dr(Vp,{msg:"Instructions"}),XE])])]))};class QE extends yp{constructor(e,t,n={}){super(YE,e,t,n)}}const ZE=[Ur('<div id="room"><div class="spacer-side"><div class="squareoff"><br><img class="centerImg" height="300" src="https://resources.realitymedia.digital/vue-apps/dist/7e96bd7e1d27893a.jpg"><br> A view of the original Pit model shows a side view of the virtual environment. Subjects start in the Training Room and later enter the Pit Room. <br><br><div class="oblique">Meehan, Michael, Brent Insko, Mary Whitton, and Frederick P Brooks. 2002. (Figure 1 in Physiological Measures of Presence in Stressful Virtual Environments. ACM Transactions on Graphics 21 (3): 64552.)</div><br></div></div></div>',1)];var JE={setup:e=>(ln("linkClick"),(e,t)=>(Sr(),Mr("div",null,ZE)))};class eT extends yp{constructor(e,t,n={}){super(JE,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const tT=[Ir("div",{id:"room"},[Ir("div",{class:"spacer-side"},[Ir("div",{class:"squareoff"},[Ir("br"),Ir("div",{"xr-layer":""},[Ir("img",{class:"centerImg",height:"270",src:"https://resources.realitymedia.digital/vue-apps/dist/64b90ca959e54ae2.jpg"})]),Ir("br"),zr(" A subject wearing HMD and physiological monitoring equipment. Subjects also took their shoes off to better feel the edges of the platform. (Fig 3 in Meehan et al.) "),Ir("br"),Ir("br")])])],-1)];var nT={setup:e=>(e,t)=>(Sr(),Mr("div",null,tT))};class rT extends yp{constructor(e,t,n={}){super(nT,e,t,n)}}const sT={id:"room"},iT={class:"spacer-side"},oT={class:"squareoff"},aT=Ir("br",null,null,-1),lT=zr(" We hypothesized that to the degree that a VE seems real, it would evoke physiological responses similar to those evoked by the corresponding real environment, and that greater presence would evoke a greater response. To examine this, we conducted three experiments, the results of which support the use of physiological reaction as a reliable, valid, sensitive, and objective presence measure. "),cT=Ir("br",null,null,-1),uT=Ir("br",null,null,-1),hT=Ir("br",null,null,-1),dT={class:"oblique"},pT=zr("Meehan, Michael, Brent Insko, Mary Whitton, and Frederick P Brooks. 2002. "),fT=Ir("br",null,null,-1),mT=[Ir("a",{href:"https://dl.acm.org/doi/10.1145/566654.566630",target:"_blank"},"Physiological Measures of Presence in Stressful Virtual Environments.",-1)],vT=Ir("br",null,null,-1),yT=zr(" ACM Transactions on Graphics 21 (3): 64552."),gT=Ir("br",null,null,-1);var bT={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",sT,[Ir("div",iT,[Ir("div",oT,[aT,lT,cT,uT,hT,Ir("div",dT,[pT,fT,Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},mT),vT,yT]),gT])])])]))}};class wT extends yp{constructor(e,t,n={}){super(bT,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const _T={id:"room",class:"darkwall"},xT={class:"spacer"},kT=Ir("br",null,null,-1),ET=Ir("br",null,null,-1),TT=Ir("div",{class:"squareoff"},[Ir("i",null,"Reality Media"),zr(" is a project encompassing three writing spaces, three technologies for representing ideas: print, the web, and immersive VR. The printed page is a writing space with a tradition dating back to the fifteenth century (in Europe, much earlier in China). Obviously the web has a far shorter tradition, beginning around 1990. But in the thirty year since Tim Berners-Lee launched the first web server, the web has grown to rival print for many kinds of communication. The technologies for creating 3D graphic spaces in VR (and AR) actually predate the web. But only in the past 10 years have AR and VR become widely available media. The goal of RealityMedia is to demonstrate the potential range of AR and VR as communicative forms. ")],-1);var ST={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",_T,[Ir("div",xT,[Dr(Vp,{msg:"Welcome to Reality Media!"}),kT,ET,TT])])]))};class RT extends yp{constructor(e,t,n={}){super(ST,e,t,n)}}var CT="https://resources.realitymedia.digital/vue-apps/dist/3fb3b645bd6f6de6.jpg";const AT={id:"room",class:"darkwall"},MT={class:"spacer"},PT=Ir("br",null,null,-1),OT={style:{float:"left","margin-right":"20px"}},LT={class:"alink_img"},BT={href:"https://mitpress.mit.edu/books/reality-media",target:"_blank"},IT={class:"squareoff"},DT={style:{"margin-left":"30px"}},FT=zr("Published by "),zT=[Ir("a",{href:"https://mitpress.mit.edu/books/reality-media",target:"_blank"},"MIT Press.",-1)],UT=Ir("br",null,null,-1),jT=Ir("div",{class:"oblique"},"By Jay David Bolter, Maria Engberg and Blair MacIntyre",-1),NT=Ir("br",null,null,-1),VT=Ir("br",null,null,-1),qT=zr(" How augmented reality and virtual reality are taking their places in contemporary media culture alongside film and television. ");var WT={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",AT,[Ir("div",MT,[Dr(Vp,{msg:"Reality Media"}),PT,Ir("div",OT,[Ir("span",LT,[Ir("a",BT,[Ir("img",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"img_Hover",src:CT,height:"383"})])])]),Ir("div",IT,[Ir("div",DT,[FT,Ir("span",{"xr-layer":"",onClick:n[1]||(n[1]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},zT)]),UT,jT,NT,VT,qT])])])]))}};class KT extends yp{constructor(e,t,n={}){super(WT,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const GT=e=>(tn("data-v-0cfb0fd4"),e=e(),nn(),e),HT={id:"room",class:"darkwall"},$T={class:"spacer"},XT=GT((()=>Ir("br",null,null,-1))),YT={style:{float:"left","margin-right":"20px"}},QT=[GT((()=>Ir("span",{style:{position:"relative"}},[Ir("a",{class:"img_Hover2",href:"https://mitpress.mit.edu/books/reality-media",target:"_blank"},[Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("img",{src:CT,width:"50",height:"80"})])],-1)))],ZT={style:{float:"left","margin-right":"20px"}},JT=[GT((()=>Ir("span",{style:{position:"relative",bottom:"40px"}},[Ir("a",{class:"img_Hover2",href:"https://mitpress.mit.edu/books/reality-media",target:"_blank"},[Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("img",{src:CT,height:"80"})])],-1)))],eS={style:{float:"left","margin-right":"20px"}},tS=[GT((()=>Ir("span",{style:{position:"relative"}},[Ir("a",{class:"img_Hover2",href:"https://mitpress.mit.edu/books/reality-media",target:"_blank"},[Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("img",{src:CT,height:"80"})])],-1)))];var nS={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",HT,[Ir("div",$T,[XT,Ir("div",YT,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e))},QT)]),Ir("div",ZT,[Ir("span",{"xr-layer":"",onClick:n[1]||(n[1]=(...e)=>dt(t)&&dt(t)(...e))},JT)]),Ir("div",eS,[Ir("span",{"xr-layer":"",onClick:n[2]||(n[2]=(...e)=>dt(t)&&dt(t)(...e))},tS)])])])]))},__scopeId:"data-v-0cfb0fd4"};class rS extends yp{constructor(e,t,n={}){super(nS,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const sS={id:"room",class:"darkwall"},iS={class:"spacer"},oS=Ir("br",null,null,-1),aS={class:"alink_img"},lS={href:"https://hubs.mozilla.com/docs/welcome.html",target:"_blank"},cS=Ir("br",null,null,-1),uS={class:"squareoff"},hS=Ir("em",null,"Realitymedia",-1),dS=zr(" is built on top of Mozilla's open-source platform. An extensive guide to using Mozilla Hubs is available "),pS=[Ir("a",{href:"https://hubs.mozilla.com/docs/intro-hubs.html",target:"_blank"},"in the Hubs user documentation.",-1)],fS=Ir("br",null,null,-1),mS=Ir("br",null,null,-1),vS=zr(" Here are the highlights: "),yS=Ir("br",null,null,-1),gS=Ir("br",null,null,-1),bS=zr(" Before entering, you are in the room's lobby. From here, you can see and hear what's going on inside the room, but you can only interact with others using text chat. "),wS=Ir("br",null,null,-1),_S=Ir("br",null,null,-1);var xS={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",sS,[Ir("div",iS,[Dr(Vp,{msg:"The Hubs Platform"}),oS,Ir("div",null,[Ir("span",aS,[Ir("a",lS,[Ir("img",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),src:"https://resources.realitymedia.digital/vue-apps/dist/ab7985c65467fc96.jpg",height:"212"})])])]),cS,Ir("div",uS,[hS,dS,Ir("span",{"xr-layer":"",onClick:n[1]||(n[1]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},pS),fS,mS,vS,yS,gS,bS,wS,_S])])])]))}};class kS extends yp{constructor(e,t,n={}){super(xS,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const ES={id:"room",class:"darkwall"},TS={class:"spacer"},SS={class:"squareoff"},RS=Ir("div",{class:"keyPoint"},"To enter the room:",-1),CS=Ir("br",null,null,-1),AS=zr(" - On a desktop or mobile device, follow the prompts to select a name/avatar and enable the mic. "),MS=Ir("br",null,null,-1),PS=zr(' - On a VR headset, if you opened the URL on your desktop or smartphone, choose "Enter on Standalone VR" to create a code that makes it easy to open on your standalone headset. Open the browser in your VR headset, navigate to hubs.link and enter the code. '),OS=Ir("br",null,null,-1),LS=Ir("br",null,null,-1),BS=Ir("div",{class:"keyPoint"},"To navigate in Hubs:",-1),IS=Ir("br",null,null,-1),DS=zr(" - On desktop use your WASD or arrow keys to move around. You can also press your right mouse button to teleport to a different location. Rotate your view using the Q and E keys, or hold down your left mouse button and drag. "),FS=Ir("br",null,null,-1),zS=zr(" -For Quest VR devices, "),US=Ir("br",null,null,-1),jS=Ir("br",null,null,-1),NS={style:{"padding-left":"50px"}},VS=Ir("br",null,null,-1),qS=zr(" For other controls and devices, see the "),WS=[Ir("a",{href:"https://hubs.mozilla.com/docs/hubs-controls.html#oculus-touch-controls",target:"_blank"},"list of Hubs controls.",-1)],KS=Ir("br",null,null,-1);var GS={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",ES,[Ir("div",TS,[Ir("div",SS,[RS,CS,AS,MS,PS,OS,LS,Ir("div",null,[BS,IS,DS,FS,zS,US,jS,Ir("span",NS,[Ir("img",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),src:"https://resources.realitymedia.digital/vue-apps/dist/82442614c89a86eb.jpg",height:"150"})]),VS,qS,Ir("span",{"xr-layer":"",onClick:n[1]||(n[1]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},WS),KS])])])])]))}};class HS extends yp{constructor(e,t,n={}){super(GS,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const $S={id:"room",class:"darkwall"},XS={class:"spacer"},YS=Ir("br",null,null,-1),QS=Ir("div",{class:"squareoff"}," The figure below indicates how to mute your microphone, take photos, share your screen, create media objects, and so on: ",-1),ZS=Ir("br",null,null,-1),JS=Ir("br",null,null,-1),eR=Ir("div",{"xr-layer":""},[Ir("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/b15807fada17de90.jpg",height:"212"})],-1);var tR={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",$S,[Ir("div",XS,[Dr(Vp,{msg:"Features in Hubs"}),YS,QS,ZS,JS,eR])])]))};class nR extends yp{constructor(e,t,n={}){super(tR,e,t,n)}}const rR={id:"room",class:"darkwall"},sR={class:"spacer"},iR=Ir("br",null,null,-1),oR=Ir("br",null,null,-1);var aR={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",rR,[Ir("div",sR,[Dr(Vp,{msg:"Please stand on the podium"}),iR,oR])])]))};class lR extends yp{constructor(e,t,n={}){super(aR,e,t,n)}}const cR={id:"room",class:"darkwall"},uR={class:"spacer"},hR=Ir("br",null,null,-1),dR=Ir("div",{class:"squareoff"},[Ir("div",{class:"keyPoint"},"Visit the exhibit with friends"),Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/e7b4a0e2c07730f2.png",height:"212"}),Ir("br"),zr(" Sharing the URL of the room you are currently in will allow others to join your experience. "),Ir("br"),Ir("br"),Ir("div",{class:"keyPoint"},"Favorite your room"),zr(" Set your room as a favorite under the 'more' menu. Then, you can easily revisit the room from the list in the 'favorite rooms'. ")],-1);var pR={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",cR,[Ir("div",uR,[Dr(Vp,{msg:"Other ways to use the room"}),hR,dR])])]))};class fR extends yp{constructor(e,t,n={}){super(pR,e,t,n)}}const mR=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("br"),Ir("div",{class:"keyPoint"},"Here is a map, which you will also find posted through the galleries"),Ir("br"),Ir("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/74d2e9fda186b0d5.png",height:"400"})])],-1)];var vR={setup:e=>(e,t)=>(Sr(),Mr("div",null,mR))};class yR extends yp{constructor(e,t,n={}){super(vR,e,t,n)}}const gR=[Ir("div",{id:"room",class:"darkwall"},[Ir("div",{class:"spacer"},[Ir("div",{class:"squareoff"},[Ir("br"),Ir("br"),Ir("br"),Ir("br"),Ir("br"),zr(" Each gallery in this immersive book corresponds to one or more chapters in the printed book and illustrates the themes of the printed chapter(s). (See the map on the far wall for the names/themes of the galleries.) For example, the gallery entitled Presence illustrates both presence and the related concept of aura and how computer scientists as well as filmmakers and designers have tried to evoke these reactions in visitors to their immersive applications. ")])])],-1)];var bR={setup:e=>(e,t)=>(Sr(),Mr("div",null,gR))};class wR extends yp{constructor(e,t,n={}){super(bR,e,t,n)}}const _R={id:"room",class:"darkwall"},xR=[Ir("a",{href:"https://realitymedia.digital/",target:"_blank",style:{fontSize:"1.5em"}},"Click here to return back to the website.",-1)];var kR={setup(e){const t=ln("linkClick");return(e,n)=>(Sr(),Mr("div",null,[Ir("div",_R,[Ir("div",null,[Ir("span",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},xR)])])]))}};class ER extends yp{constructor(e,t,n={}){super(kR,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const TR=e=>(tn("data-v-0dfbc872"),e=e(),nn(),e),SR={id:"room",class:"darkwall"},RR={class:"spacer-side"},CR=TR((()=>Ir("br",null,null,-1))),AR=TR((()=>Ir("div",{"xr-layer":""},[Ir("img",{class:"img_Hover",src:"https://resources.realitymedia.digital/vue-apps/dist/dc9a461d83164304.png",height:"200"})],-1))),MR=Ur('<br data-v-0dfbc872><div class="squareoff" data-v-0dfbc872> There are three kinds of portals: <div style="padding:5px 30px;" data-v-0dfbc872><span style="color:#4A90E2;font-weight:700;" data-v-0dfbc872>Blue</span> portals transport you instanlty to nearby galleries. <br data-v-0dfbc872><span style="color:#D0021B;font-weight:700;" data-v-0dfbc872>Red</span> portals also transport you to other galleries, but require you to choose your avatar and join again.<br data-v-0dfbc872><span style="color:#7ED321;font-weight:700;" data-v-0dfbc872>Green</span> portals transport you to our 2D webpage. </div></div>',2);var PR={setup:e=>(e,t)=>(Sr(),Mr("div",null,[Ir("div",SR,[Ir("div",RR,[Dr(Vp,{msg:"Portals"}),CR,AR,MR])])])),__scopeId:"data-v-0dfbc872"};class OR extends yp{constructor(e,t,n={}){super(PR,e,t,n),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const LR={id:"room"},BR={class:"spacer"},IR=Ir("br",null,null,-1),DR=Ir("br",null,null,-1),FR={class:"squareoff"};var zR={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:"How to Use the Audio Pads",r=t&&t.parameter2?t.parameter2:"start the narrations about the room you are currently in";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",LR,[Ir("div",BR,[Dr(Vp,{msg:dt(n)},null,8,["msg"]),IR,DR,Ir("div",FR,"Standing on the Audio Pads will "+u(dt(r)),1)])])]))}};class UR extends yp{constructor(e,t,n={}){super(zR,e,t,n)}}const jR={id:"room",class:"darkwall"},NR={class:"spacer-side"},VR=Ir("br",null,null,-1),qR={class:"squareoff labelTitle"},WR={class:"squareoff"},KR=Ir("br",null,null,-1);var GR={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",jR,[Ir("div",NR,[VR,jr('<Title v-bind:msg="title" />'),Ir("div",qR,u(dt(n)),1),Ir("div",WR,u(dt(r)),1),KR])])]))}};class HR extends yp{constructor(e,t,n={}){super(GR,e,t,n)}}const $R={id:"room",class:"darkwall"},XR={class:"spacer-side"},YR=Ir("br",null,null,-1),QR={class:"squareoff labelVid"},ZR=["href"];var JR={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:"Click here to learn more",r=t&&t.parameter2?t.parameter2:"https://www.google.com/";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",$R,[Ir("div",XR,[YR,jr('<Title v-bind:msg="title" />'),Ir("div",QR,[Ir("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},[Ir("a",{href:""+dt(r),target:"_blank"},u(dt(n)),9,ZR)])])])])]))}};class eC extends yp{constructor(e,t,n={}){super(JR,e,t,n)}}const tC={id:"room"},nC={class:"spacer-side"},rC=Ir("br",null,null,-1),sC={class:"squareoff labelTitle"},iC={class:"squareoff"},oC=Ir("br",null,null,-1);var aC={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",tC,[Ir("div",nC,[rC,jr('<Title v-bind:msg="title" />'),Ir("div",sC,u(dt(n)),1),Ir("div",iC,u(dt(r)),1),oC])])]))}};class lC extends yp{constructor(e,t,n={}){super(aC,e,t,n)}}const cC={id:"room",class:"darkwall"},uC={class:"spacer-side"},hC=Ir("br",null,null,-1),dC={class:"squareoff labelLgTitle"},pC={class:"squareoff labelLgBody"},fC=Ir("br",null,null,-1);var mC={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ",r=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",cC,[Ir("div",uC,[hC,jr('<Title v-bind:msg="title" />'),Ir("div",dC,u(dt(n)),1),Ir("div",pC,u(dt(r)),1),fC])])]))}};class vC extends yp{constructor(e,t,n={}){super(mC,e,t,n)}}const yC={id:"room",class:"darkwall"},gC={class:"spacer-side"},bC=Ir("br",null,null,-1),wC={class:"squareoff titleStyle"},_C=Ir("br",null,null,-1);var xC={setup(e){let t=ln("params");var n=t&&t.parameter1?t.parameter1:" ";return(e,t)=>(Sr(),Mr("div",null,[Ir("div",yC,[Ir("div",gC,[bC,jr('<Title v-bind:msg="title" />'),Ir("div",wC,u(dt(n)),1),_C])])]))}};class kC extends yp{constructor(e,t,n={}){super(xC,e,t,n)}}return e.AR=function(e={}){let t=new hb(600,475,e);return t.mount(),t},e.Absence_Mediation=function(e={}){let t=new _w(600,475,e);return t.mount(),t},e.Alyx=function(e={}){let t=new wm(600,475,e);return t.mount(),t},e.Apparizione=function(e={}){let t=new Vm(600,475,e);return t.mount(),t},e.ArtBanner=function(e={}){let t=new tv(600,475,e);return t.mount(),t},e.AudioPad=function(e={}){let t=new UR(600,475,e);return t.mount(),t},e.AudioText=function(e={}){let t=new lR(600,475,e);return t.mount(),t},e.Aura=function(e={}){let t=new gw(600,475,e);return t.mount(),t},e.Back=function(){let e=new ER(600,475);return e.mount(),e},e.BeatSaber=function(e={}){let t=new Pm(600,475,e);return t.mount(),t},e.CameraObscura=function(e={}){let t=new ry(600,475,e);return t.mount(),t},e.Center1=function(e={}){let t=new hf(300,475,e);return t.mount(),t},e.Center2=function(e={}){let t=new mf(300,475,e);return t.mount(),t},e.Center3=function(e={}){let t=new _f(300,475,e);return t.mount(),t},e.Center4=function(e={}){let t=new Tf(300,475,e);return t.mount(),t},e.Center5=function(e={}){let t=new Mf(300,475,e);return t.mount(),t},e.Center6=function(e={}){let t=new Bf(300,475,e);return t.mount(),t},e.Center7=function(e={}){let t=new zf(300,475,e);return t.mount(),t},e.CerneYArena=function(e={}){let t=new Pv(600,475,e);return t.mount(),t},e.Empathy=function(e={}){let t=new t_(600,475,e);return t.mount(),t},e.Equirectangular=function(e={}){let t=new qy(600,475,e);return t.mount(),t},e.Film=function(e={}){let t=new ky(600,475,e);return t.mount(),t},e.GamesBanner=function(e={}){let t=new Qm(600,475,e);return t.mount(),t},e.Gaudi=function(e={}){let t=new Pw(600,475,e);return t.mount(),t},e.Gaudi_pic=function(e={}){let t=new Bw(600,326,e);return t.mount(),t},e.GoogleLiveView=function(e={}){let t=new bv(600,475,e);return t.mount(),t},e.GoogleStreetView=function(e={}){let t=new kb(600,475,e);return t.mount(),t},e.GraphLabel=function(e={}){let t=new Zp(0,0,e);return t.mount(),t},e.HubsFeatures=function(e={}){let t=new nR(600,475,e);return t.mount(),t},e.HubsPlatform=function(e={}){let t=new kS(600,500,e);return t.mount(),t},e.HubsPlatform2=function(e={}){let t=new HS(600,475,e);return t.mount(),t},e.ImmersiveRides=function(e={}){let t=new cg(600,475,e);return t.mount(),t},e.Label=function(e={}){let t=new HR(600,475,e);return t.mount(),t},e.Label_bk=function(e={}){let t=new lC(600,475,e);return t.mount(),t},e.Label_lg=function(e={}){let t=new vC(600,475,e);return t.mount(),t},e.Label_vid=function(e={}){let t=new eC(600,475,e);return t.mount(),t},e.Laciotat=function(e={}){let t=new Tx(600,475,e);return t.mount(),t},e.LinearPerspective=function(e={}){let t=new Nv(600,475,e);return t.mount(),t},e.LinearPerspective_Demo=function(e={}){let t=new Wv(600,475,e);return t.mount(),t},e.Mainmap_black=function(e={}){let t=new s_(600,475,e);return t.mount(),t},e.Map=function(e={}){let t=new rf(300,475,e);return t.mount(),t},e.Metaverse=function(e={}){let t=new Kg(600,475,e);return t.mount(),t},e.Milk=function(e={}){let t=new g_(600,475,e);return t.mount(),t},e.Milk_pic=function(e={}){let t=new __(600,326,e);return t.mount(),t},e.Minecraft=function(e={}){let t=new Hm(600,475,e);return t.mount(),t},e.MitPress=function(e={}){let t=new KT(600,475,e);return t.mount(),t},e.MitPress1=function(e={}){let t=new rS(600,475,e);return t.mount(),t},e.Monolith1=function(e={}){let t=new Vf(300,475,e);return t.mount(),t},e.Monolith2=function(e={}){let t=new Gf(300,475,e);return t.mount(),t},e.Monolith3=function(e={}){let t=new Yf(300,475,e);return t.mount(),t},e.Monolith4=function(e={}){let t=new em(300,475,e);return t.mount(),t},e.Monolith5=function(e={}){let t=new sm(300,475,e);return t.mount(),t},e.Monolith6=function(e={}){let t=new lm(300,475,e);return t.mount(),t},e.Monolith7=function(e={}){let t=new dm(300,475,e);return t.mount(),t},e.Nonnie=function(e={}){let t=new I_(600,475,e);return t.mount(),t},e.Nonnie_pic=function(e={}){let t=new z_(600,326,e);return t.mount(),t},e.Overview=function(e={}){let t=new wR(600,475,e);return t.mount(),t},e.Panorama=function(e={}){let t=new ey(600,475,e);return t.mount(),t},e.Photography=function(e={}){let t=new py(600,475,e);return t.mount(),t},e.Pit=function(e={}){let t=new KE(600,475,e);return t.mount(),t},e.PitInstruction=function(e={}){let t=new QE(600,475,e);return t.mount(),t},e.Pit_AR=function(e={}){let t=new ix(600,475,e);return t.mount(),t},e.Pit_Experiment=function(e={}){let t=new H_(600,475,e);return t.mount(),t},e.PlaceandSpace=function(e={}){let t=new Cx(600,475,e);return t.mount(),t},e.Pokemon=function(e={}){let t=new Sm(600,475,e);return t.mount(),t},e.PortalSubtitle=function(e={}){let t=new Xp(300,100,e);return t.mount(),t},e.PortalTitle=function(e={}){let t=new Kp(300,100,e);return t.mount(),t},e.Portals=function(e={}){let t=new OR(600,475,e);return t.mount(),t},e.Presence=function(e={}){let t=new lx(600,475,e);return t.mount(),t},e.Quote1=function(e={}){let t=new Kx(600,475,e);return t.mount(),t},e.Quote2=function(e={}){let t=new $x(600,475,e);return t.mount(),t},e.Quote3=function(e={}){let t=new Qx(600,475,e);return t.mount(),t},e.Quote4=function(e={}){let t=new ek(600,475,e);return t.mount(),t},e.Quote5=function(e={}){let t=new rk(600,475,e);return t.mount(),t},e.RecRoom=function(e={}){let t=new av(600,475,e);return t.mount(),t},e.Sensorama=function(e={}){let t=new Jy(600,475,e);return t.mount(),t},e.Sharing=function(e={}){let t=new fR(600,475,e);return t.mount(),t},e.Skybox=function(e={}){let t=new Dg(600,475,e);return t.mount(),t},e.Steam=function(e={}){let t=new pv(600,475,e);return t.mount(),t},e.Stereoscopic=function(e={}){let t=new Lb(600,475,e);return t.mount(),t},e.TV=function(e={}){let t=new Ly(600,475,e);return t.mount(),t},e.Terracotta=function(e={}){let t=new Vx(600,475,e);return t.mount(),t},e.TerracottaPic=function(e={}){let t=new Px(600,326,e);return t.mount(),t},e.TheDayTheWorldChanged=function(e={}){let t=new Tv(600,475,e);return t.mount(),t},e.Theater_dome=function(e={}){let t=new Rg(600,475,e);return t.mount(),t},e.Theaters=function(e={}){let t=new gg(600,475,e);return t.mount(),t},e.Title=function(e={}){let t=new kC(600,475,e);return t.mount(),t},e.Treehugger=function(e={}){let t=new xx(600,475,e);return t.mount(),t},e.Trompe=function(e={}){let t=new qb(600,475,e);return t.mount(),t},e.UltimateDisplay=function(e={}){let t=new Jb(600,475,e);return t.mount(),t},e.VR=function(e={}){let t=new tb(600,475,e);return t.mount(),t},e.VRCave=function(e={}){let t=new cw(600,475,e);return t.mount(),t},e.WalkingDead=function(e={}){let t=new Fm(600,475,e);return t.mount(),t},e.Welcome=function(e={}){let t=new RT(600,475,e);return t.mount(),t},e.Zoetrope=function(e={}){let t=new dw(600,475,e);return t.mount(),t},e.casa_vid=function(e={}){let t=new uk(600,475,e);return t.mount(),t},e.cybersickness=function(e={}){let t=new Gw(600,475,e);return t.mount(),t},e.cybersickness_pic=function(e={}){let t=new Xw(600,326,e);return t.mount(),t},e.exportCache=async function(e,t){await Qd.instance.saveStore();let n=await Qd.instance.exportCache(t);fp?(console.log("downloading weblayer cache: "+e+"-"+fp.name+".cache"),vp(n,e+"-"+fp.name+".cache")):(console.log("downloading weblayer cache: "+e+".cache"),vp(n,e+"-.cache"))},e.hubsTest1=function(e={}){let t=new bp(e);return t.mount(),t},e.hubsTest2=function(e={}){let t=new Ap(e);return t.mount(),t},e.hubsTest3=function(e={}){let t=new Np(e);return t.mount(),t},e.initializeEthereal=function(){yp.initializeEthereal()},e.loadCache=async function(e){if(fp){console.log("loading weblayer cache: "+e+"-"+fp.name+"-"+fp.os+".cache");let t=await Qd.instance.importCache(e+"-"+fp.name+"-"+fp.os+".cache");t||(console.log("failed: loading weblayer cache: "+e+"-"+fp.name+".cache"),t=await Qd.instance.importCache(e+"-"+fp.name+".cache"),t||(console.log("failed: loading weblayer cache: "+e+".cache"),t=await Qd.instance.importCache(e+".cache"),t||console.log("failed: no cache for url '"+e+"'")))}console.log("loading weblayer cache: "+e)},e.metaverse_vid=function(e={}){let t=new _k(600,475,e);return t.mount(),t},e.milk_vid=function(e={}){let t=new Ck(600,475,e);return t.mount(),t},e.mother_vid=function(e={}){let t=new Uk(600,475,e);return t.mount(),t},e.nonnie_vid=function(e={}){let t=new Gk(600,475,e);return t.mount(),t},e.pitSign1=function(e={}){let t=new eT(600,475,e);return t.mount(),t},e.pitSign2=function(e={}){let t=new rT(600,475,e);return t.mount(),t},e.pitSign3=function(e={}){let t=new wT(600,475,e);return t.mount(),t},e.plank_vid=function(e={}){let t=new rE(600,475,e);return t.mount(),t},e.rollercoaster_vid=function(e={}){let t=new cE(600,475,e);return t.mount(),t},e.rotundaMap=function(e={}){let t=new yR(600,475,e);return t.mount(),t},e.systemTick=function(e,t){yp.systemTick(e,t)},e.terracotta_vid=function(e={}){let t=new vE(600,475,e);return t.mount(),t},e.tree_vid=function(e={}){let t=new xE(600,475,e);return t.mount(),t},Object.defineProperty(e,"__esModule",{value:!0}),e}({},THREE);
