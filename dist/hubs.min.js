var vueComponents=function(e,t){"use strict";function r(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}const n=r("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function s(e){return!!e||""===e}function i(e){if(E(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=R(n)?l(n):i(n);if(s)for(const e in s)t[e]=s[e]}return t}return R(e)||M(e)?e:void 0}const o=/;(?![^(]*\))/g,a=/:(.+)/;function l(e){const t={};return e.split(o).forEach((e=>{if(e){const r=e.split(a);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function c(e){let t="";if(R(e))t=e;else if(E(e))for(let r=0;r<e.length;r++){const n=c(e[r]);n&&(t+=n+" ")}else if(M(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const u=e=>R(e)?e:null==e?"":E(e)||M(e)&&(e.toString===P||!S(e.toString))?JSON.stringify(e,h,2):String(e),h=(e,t)=>t&&t.__v_isRef?h(e,t.value):T(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r])=>(e[`${t} =>`]=r,e)),{})}:k(t)?{[`Set(${t.size})`]:[...t.values()]}:!M(t)||E(t)||L(t)?t:String(t),d={},p=[],f=()=>{},m=()=>!1,y=/^on[^a-z]/,g=e=>y.test(e),v=e=>e.startsWith("onUpdate:"),b=Object.assign,w=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},_=Object.prototype.hasOwnProperty,x=(e,t)=>_.call(e,t),E=Array.isArray,T=e=>"[object Map]"===O(e),k=e=>"[object Set]"===O(e),S=e=>"function"==typeof e,R=e=>"string"==typeof e,C=e=>"symbol"==typeof e,M=e=>null!==e&&"object"==typeof e,A=e=>M(e)&&S(e.then)&&S(e.catch),P=Object.prototype.toString,O=e=>P.call(e),L=e=>"[object Object]"===O(e),B=e=>R(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,I=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},z=/-(\w)/g,F=D((e=>e.replace(z,((e,t)=>t?t.toUpperCase():"")))),U=/\B([A-Z])/g,j=D((e=>e.replace(U,"-$1").toLowerCase())),N=D((e=>e.charAt(0).toUpperCase()+e.slice(1))),V=D((e=>e?`on${N(e)}`:"")),q=(e,t)=>!Object.is(e,t),K=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},W=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},G=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let H;const $=()=>H||(H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});let X;class Y{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&X&&(this.parent=X,this.index=(X.scopes||(X.scopes=[])).push(this)-1)}run(e){if(this.active)try{return X=this,e()}finally{X=this.parent}}on(){X=this}off(){X=this.parent}stop(e){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const Q=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Z=e=>(e.w&re)>0,J=e=>(e.n&re)>0,ee=new WeakMap;let te=0,re=1;let ne;const se=Symbol(""),ie=Symbol("");class oe{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=X){t&&t.active&&t.effects.push(e)}(this,r)}run(){if(!this.active)return this.fn();let e=ne,t=le;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ne,ne=this,le=!0,re=1<<++te,te<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=re})(this):ae(this),this.fn()}finally{te<=30&&(e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];Z(s)&&!J(s)?s.delete(e):t[r++]=s,s.w&=~re,s.n&=~re}t.length=r}})(this),re=1<<--te,ne=this.parent,le=t,this.parent=void 0}}stop(){this.active&&(ae(this),this.onStop&&this.onStop(),this.active=!1)}}function ae(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let le=!0;const ce=[];function ue(){ce.push(le),le=!1}function he(){const e=ce.pop();le=void 0===e||e}function de(e,t,r){if(le&&ne){let t=ee.get(e);t||ee.set(e,t=new Map);let n=t.get(r);n||t.set(r,n=Q()),pe(n)}}function pe(e,t){let r=!1;te<=30?J(e)||(e.n|=re,r=!Z(e)):r=!e.has(ne),r&&(e.add(ne),ne.deps.push(e))}function fe(e,t,r,n,s,i){const o=ee.get(e);if(!o)return;let a=[];if("clear"===t)a=[...o.values()];else if("length"===r&&E(e))o.forEach(((e,t)=>{("length"===t||t>=n)&&a.push(e)}));else switch(void 0!==r&&a.push(o.get(r)),t){case"add":E(e)?B(r)&&a.push(o.get("length")):(a.push(o.get(se)),T(e)&&a.push(o.get(ie)));break;case"delete":E(e)||(a.push(o.get(se)),T(e)&&a.push(o.get(ie)));break;case"set":T(e)&&a.push(o.get(se))}if(1===a.length)a[0]&&me(a[0]);else{const e=[];for(const t of a)t&&e.push(...t);me(Q(e))}}function me(e,t){for(const t of E(e)?e:[...e])(t!==ne||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ye=r("__proto__,__v_isRef,__isVue"),ge=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(C)),ve=Ee(),be=Ee(!1,!0),we=Ee(!0),_e=xe();function xe(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=at(this);for(let e=0,t=this.length;e<t;e++)de(r,0,e+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(at)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){ue();const r=at(this)[t].apply(this,e);return he(),r}})),e}function Ee(e=!1,t=!1){return function(r,n,s){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&s===(e?t?Ze:Qe:t?Ye:Xe).get(r))return r;const i=E(r);if(!e&&i&&x(_e,n))return Reflect.get(_e,n,s);const o=Reflect.get(r,n,s);if(C(n)?ge.has(n):ye(n))return o;if(e||de(r,0,n),t)return o;if(ht(o)){return!i||!B(n)?o.value:o}return M(o)?e?tt(o):et(o):o}}function Te(e=!1){return function(t,r,n,s){let i=t[r];if(st(i)&&ht(i)&&!ht(n))return!1;if(!e&&!st(n)&&(it(n)||(n=at(n),i=at(i)),!E(t)&&ht(i)&&!ht(n)))return i.value=n,!0;const o=E(t)&&B(r)?Number(r)<t.length:x(t,r),a=Reflect.set(t,r,n,s);return t===at(s)&&(o?q(n,i)&&fe(t,"set",r,n):fe(t,"add",r,n)),a}}const ke={get:ve,set:Te(),deleteProperty:function(e,t){const r=x(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&fe(e,"delete",t,void 0),n},has:function(e,t){const r=Reflect.has(e,t);return C(t)&&ge.has(t)||de(e,0,t),r},ownKeys:function(e){return de(e,0,E(e)?"length":se),Reflect.ownKeys(e)}},Se={get:we,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Re=b({},ke,{get:be,set:Te(!0)}),Ce=e=>e,Me=e=>Reflect.getPrototypeOf(e);function Ae(e,t,r=!1,n=!1){const s=at(e=e.__v_raw),i=at(t);t!==i&&!r&&de(s,0,t),!r&&de(s,0,i);const{has:o}=Me(s),a=n?Ce:r?ut:ct;return o.call(s,t)?a(e.get(t)):o.call(s,i)?a(e.get(i)):void(e!==s&&e.get(t))}function Pe(e,t=!1){const r=this.__v_raw,n=at(r),s=at(e);return e!==s&&!t&&de(n,0,e),!t&&de(n,0,s),e===s?r.has(e):r.has(e)||r.has(s)}function Oe(e,t=!1){return e=e.__v_raw,!t&&de(at(e),0,se),Reflect.get(e,"size",e)}function Le(e){e=at(e);const t=at(this);return Me(t).has.call(t,e)||(t.add(e),fe(t,"add",e,e)),this}function Be(e,t){t=at(t);const r=at(this),{has:n,get:s}=Me(r);let i=n.call(r,e);i||(e=at(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?q(t,o)&&fe(r,"set",e,t):fe(r,"add",e,t),this}function Ie(e){const t=at(this),{has:r,get:n}=Me(t);let s=r.call(t,e);s||(e=at(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&fe(t,"delete",e,void 0),i}function De(){const e=at(this),t=0!==e.size,r=e.clear();return t&&fe(e,"clear",void 0,void 0),r}function ze(e,t){return function(r,n){const s=this,i=s.__v_raw,o=at(i),a=t?Ce:e?ut:ct;return!e&&de(o,0,se),i.forEach(((e,t)=>r.call(n,a(e),a(t),s)))}}function Fe(e,t,r){return function(...n){const s=this.__v_raw,i=at(s),o=T(i),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=s[e](...n),u=r?Ce:t?ut:ct;return!t&&de(i,0,l?ie:se),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Ue(e){return function(...t){return"delete"!==e&&this}}function je(){const e={get(e){return Ae(this,e)},get size(){return Oe(this)},has:Pe,add:Le,set:Be,delete:Ie,clear:De,forEach:ze(!1,!1)},t={get(e){return Ae(this,e,!1,!0)},get size(){return Oe(this)},has:Pe,add:Le,set:Be,delete:Ie,clear:De,forEach:ze(!1,!0)},r={get(e){return Ae(this,e,!0)},get size(){return Oe(this,!0)},has(e){return Pe.call(this,e,!0)},add:Ue("add"),set:Ue("set"),delete:Ue("delete"),clear:Ue("clear"),forEach:ze(!0,!1)},n={get(e){return Ae(this,e,!0,!0)},get size(){return Oe(this,!0)},has(e){return Pe.call(this,e,!0)},add:Ue("add"),set:Ue("set"),delete:Ue("delete"),clear:Ue("clear"),forEach:ze(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{e[s]=Fe(s,!1,!1),r[s]=Fe(s,!0,!1),t[s]=Fe(s,!1,!0),n[s]=Fe(s,!0,!0)})),[e,r,t,n]}const[Ne,Ve,qe,Ke]=je();function We(e,t){const r=t?e?Ke:qe:e?Ve:Ne;return(t,n,s)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(x(r,n)&&n in t?r:t,n,s)}const Ge={get:We(!1,!1)},He={get:We(!1,!0)},$e={get:We(!0,!1)},Xe=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,Ze=new WeakMap;function Je(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>O(e).slice(8,-1))(e))}function et(e){return st(e)?e:rt(e,!1,ke,Ge,Xe)}function tt(e){return rt(e,!0,Se,$e,Qe)}function rt(e,t,r,n,s){if(!M(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Je(e);if(0===o)return e;const a=new Proxy(e,2===o?n:r);return s.set(e,a),a}function nt(e){return st(e)?nt(e.__v_raw):!(!e||!e.__v_isReactive)}function st(e){return!(!e||!e.__v_isReadonly)}function it(e){return!(!e||!e.__v_isShallow)}function ot(e){return nt(e)||st(e)}function at(e){const t=e&&e.__v_raw;return t?at(t):e}function lt(e){return W(e,"__v_skip",!0),e}const ct=e=>M(e)?et(e):e,ut=e=>M(e)?tt(e):e;function ht(e){return!(!e||!0!==e.__v_isRef)}function dt(e){return ht(e)?e.value:e}const pt={get:(e,t,r)=>dt(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return ht(s)&&!ht(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function ft(e){return nt(e)?e:new Proxy(e,pt)}class mt{constructor(e,t,r,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new oe(e,(()=>{var e;this._dirty||(this._dirty=!0,(e=at(e=this)).dep&&me(e.dep))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=at(this);var t;return t=e,le&&ne&&pe((t=at(t)).dep||(t.dep=Q())),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function yt(e,t,r,n){let s;try{s=n?e(...n):e()}catch(e){vt(e,t,r)}return s}function gt(e,t,r,n){if(S(e)){const s=yt(e,t,r,n);return s&&A(s)&&s.catch((e=>{vt(e,t,r)})),s}const s=[];for(let i=0;i<e.length;i++)s.push(gt(e[i],t,r,n));return s}function vt(e,t,r,n=!0){t&&t.vnode;if(t){let n=t.parent;const s=t.proxy,i=r;for(;n;){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,s,i))return;n=n.parent}const o=t.appContext.config.errorHandler;if(o)return void yt(o,null,10,[e,s,i])}!function(e,t,r,n=!0){console.error(e)}(e,0,0,n)}Promise.resolve();let bt=!1,wt=!1;const _t=[];let xt=0;const Et=[];let Tt=null,kt=0;const St=[];let Rt=null,Ct=0;const Mt=Promise.resolve();let At=null,Pt=null;function Ot(e){const t=At||Mt;return e?t.then(this?e.bind(this):e):t}function Lt(e){_t.length&&_t.includes(e,bt&&e.allowRecurse?xt+1:xt)||e===Pt||(null==e.id?_t.push(e):_t.splice(function(e){let t=xt+1,r=_t.length;for(;t<r;){const n=t+r>>>1;Ft(_t[n])<e?t=n+1:r=n}return t}(e.id),0,e),Bt())}function Bt(){bt||wt||(wt=!0,At=Mt.then(Ut))}function It(e,t,r,n){E(e)?r.push(...e):t&&t.includes(e,e.allowRecurse?n+1:n)||r.push(e),Bt()}function Dt(e,t=null){if(Et.length){for(Pt=t,Tt=[...new Set(Et)],Et.length=0,kt=0;kt<Tt.length;kt++)Tt[kt]();Tt=null,kt=0,Pt=null,Dt(e,t)}}function zt(e){if(St.length){const e=[...new Set(St)];if(St.length=0,Rt)return void Rt.push(...e);for(Rt=e,Rt.sort(((e,t)=>Ft(e)-Ft(t))),Ct=0;Ct<Rt.length;Ct++)Rt[Ct]();Rt=null,Ct=0}}const Ft=e=>null==e.id?1/0:e.id;function Ut(e){wt=!1,bt=!0,Dt(e),_t.sort(((e,t)=>Ft(e)-Ft(t)));try{for(xt=0;xt<_t.length;xt++){const e=_t[xt];e&&!1!==e.active&&yt(e,null,14)}}finally{xt=0,_t.length=0,zt(),bt=!1,At=null,(_t.length||Et.length||St.length)&&Ut(e)}}let jt,Nt=[],Vt=!1;function qt(e,...t){jt?jt.emit(e,...t):Vt||Nt.push({event:e,args:t})}function Kt(e,t){var r,n;if(jt=e,jt)jt.enabled=!0,Nt.forEach((({event:e,args:t})=>jt.emit(e,...t))),Nt=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null===(n=null===(r=window.navigator)||void 0===r?void 0:r.userAgent)||void 0===n?void 0:n.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Kt(e,t)})),setTimeout((()=>{jt||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Vt=!0,Nt=[])}),3e3)}else Vt=!0,Nt=[]}const Wt=$t("component:added"),Gt=$t("component:updated"),Ht=$t("component:removed");function $t(e){return t=>{qt(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function Xt(e,t,...r){const n=e.vnode.props||d;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:i}=n[e]||d;i?s=r.map((e=>e.trim())):t&&(s=r.map(G))}let a;__VUE_PROD_DEVTOOLS__&&function(e,t,r){qt("component:emit",e.appContext.app,e,t,r)}(e,t,s);let l=n[a=V(t)]||n[a=V(F(t))];!l&&i&&(l=n[a=V(j(t))]),l&&gt(l,e,6,s);const c=n[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,gt(c,e,6,s)}}function Yt(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(void 0!==s)return s;const i=e.emits;let o={},a=!1;if(__VUE_OPTIONS_API__&&!S(e)){const n=e=>{const r=Yt(e,t,!0);r&&(a=!0,b(o,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return i||a?(E(i)?i.forEach((e=>o[e]=null)):b(o,i),n.set(e,o),o):(n.set(e,null),null)}function Qt(e,t){return!(!e||!g(t))&&(t=t.slice(2).replace(/Once$/,""),x(e,t[0].toLowerCase()+t.slice(1))||x(e,j(t))||x(e,t))}let Zt=null,Jt=null;function er(e){const t=Zt;return Zt=e,Jt=e&&e.type.__scopeId||null,t}function tr(e){Jt=e}function rr(){Jt=null}function nr(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:p,ctx:f,inheritAttrs:m}=e;let y,g;const b=er(e);try{if(4&r.shapeFlag){const e=s||n;y=Nn(u.call(e,e,h,i,p,d,f)),g=l}else{const e=t;0,y=Nn(e.length>1?e(i,{attrs:l,slots:a,emit:c}):e(i,null)),g=t.props?l:sr(l)}}catch(t){Tn.length=0,vt(t,e,1),y=Dn(xn)}let w=y;if(g&&!1!==m){const e=Object.keys(g),{shapeFlag:t}=w;e.length&&7&t&&(o&&e.some(v)&&(g=ir(g,o)),w=zn(w,g))}return r.dirs&&(w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),y=w,er(b),y}const sr=e=>{let t;for(const r in e)("class"===r||"style"===r||g(r))&&((t||(t={}))[r]=e[r]);return t},ir=(e,t)=>{const r={};for(const n in e)v(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function or(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Qt(r,i))return!0}return!1}function ar(e,t,r=!1){const n=Yn||Zt;if(n){const s=null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&S(t)?t.call(n.proxy):t}}const lr={};function cr(e,t,r){return ur(e,t,r)}function ur(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=d){const a=Yn;let l,c,u=!1,h=!1;if(ht(e)?(l=()=>e.value,u=it(e)):nt(e)?(l=()=>e,n=!0):E(e)?(h=!0,u=e.some(nt),l=()=>e.map((e=>ht(e)?e.value:nt(e)?pr(e):S(e)?yt(e,a,2):void 0))):l=S(e)?t?()=>yt(e,a,2):()=>{if(!a||!a.isUnmounted)return c&&c(),gt(e,a,3,[p])}:f,t&&n){const e=l;l=()=>pr(e())}let p=e=>{c=v.onStop=()=>{yt(e,a,4)}};if(ts)return p=f,t?r&&gt(t,a,3,[l(),h?[]:void 0,p]):l(),f;let m=h?[]:lr;const y=()=>{if(v.active)if(t){const e=v.run();(n||u||(h?e.some(((e,t)=>q(e,m[t]))):q(e,m)))&&(c&&c(),gt(t,a,3,[e,m===lr?void 0:m,p]),m=e)}else v.run()};let g;y.allowRecurse=!!t,g="sync"===s?y:"post"===s?()=>mn(y,a&&a.suspense):()=>{!a||a.isMounted?function(e){It(e,Tt,Et,kt)}(y):y()};const v=new oe(l,g);return t?r?y():m=v.run():"post"===s?mn(v.run.bind(v),a&&a.suspense):v.run(),()=>{v.stop(),a&&a.scope&&w(a.scope.effects,v)}}function hr(e,t,r){const n=this.proxy,s=R(e)?e.includes(".")?dr(n,e):()=>n[e]:e.bind(n,n);let i;S(t)?i=t:(i=t.handler,r=t);const o=Yn;Zn(this);const a=ur(s,i.bind(n),r);return o?Zn(o):Jn(),a}function dr(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function pr(e,t){if(!M(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),ht(e))pr(e.value,t);else if(E(e))for(let r=0;r<e.length;r++)pr(e[r],t);else if(k(e)||T(e))e.forEach((e=>{pr(e,t)}));else if(L(e))for(const r in e)pr(e[r],t);return e}const fr=[Function,Array];Boolean,Boolean;function mr(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function yr(e,t,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:d,onAfterLeave:p,onLeaveCancelled:f,onBeforeAppear:m,onAppear:y,onAfterAppear:g,onAppearCancelled:v}=t,b=String(e.key),w=mr(r,e),_=(e,t)=>{e&&gt(e,n,9,t)},x={mode:i,persisted:o,beforeEnter(t){let n=a;if(!r.isMounted){if(!s)return;n=m||a}t._leaveCb&&t._leaveCb(!0);const i=w[b];i&&Pn(e,i)&&i.el._leaveCb&&i.el._leaveCb(),_(n,[t])},enter(e){let t=l,n=c,i=u;if(!r.isMounted){if(!s)return;t=y||l,n=g||c,i=v||u}let o=!1;const a=e._enterCb=t=>{o||(o=!0,_(t?i:n,[e]),x.delayedLeave&&x.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,n){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return n();_(h,[t]);let i=!1;const o=t._leaveCb=r=>{i||(i=!0,n(),_(r?f:p,[t]),t._leaveCb=void 0,w[s]===e&&delete w[s])};w[s]=e,d?(d(t,o),d.length<=1&&o()):o()},clone:e=>yr(e,t,r,n)};return x}function gr(e){if(xr(e))return(e=zn(e)).children=null,e}function vr(e){return xr(e)?e.children?e.children[0]:void 0:e}function br(e,t){6&e.shapeFlag&&e.component?br(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function wr(e,t=!1){let r=[],n=0;for(let s=0;s<e.length;s++){const i=e[s];i.type===wn?(128&i.patchFlag&&n++,r=r.concat(wr(i.children,t))):(t||i.type!==xn)&&r.push(i)}if(n>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}const _r=e=>!!e.type.__asyncLoader,xr=e=>e.type.__isKeepAlive;function Er(e,t){kr(e,"a",t)}function Tr(e,t){kr(e,"da",t)}function kr(e,t,r=Yn){const n=e.__wdc||(e.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Rr(t,n,r),r){let e=r.parent;for(;e&&e.parent;)xr(e.parent.vnode)&&Sr(n,t,r,e),e=e.parent}}function Sr(e,t,r,n){const s=Rr(t,e,n,!0);Br((()=>{w(n[t],s)}),r)}function Rr(e,t,r=Yn,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...n)=>{if(r.isUnmounted)return;ue(),Zn(r);const s=gt(t,r,e,n);return Jn(),he(),s});return n?s.unshift(i):s.push(i),i}}const Cr=e=>(t,r=Yn)=>(!ts||"sp"===e)&&Rr(e,t,r),Mr=Cr("bm"),Ar=Cr("m"),Pr=Cr("bu"),Or=Cr("u"),Lr=Cr("bum"),Br=Cr("um"),Ir=Cr("sp"),Dr=Cr("rtg"),zr=Cr("rtc");function Fr(e,t=Yn){Rr("ec",e,t)}let Ur=!0;function jr(e){const t=qr(e),r=e.proxy,n=e.ctx;Ur=!1,t.beforeCreate&&Nr(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:p,updated:m,activated:y,deactivated:g,beforeDestroy:v,beforeUnmount:b,destroyed:w,unmounted:_,render:x,renderTracked:T,renderTriggered:k,errorCaptured:R,serverPrefetch:C,expose:A,inheritAttrs:P,components:O,directives:L,filters:B}=t;if(c&&function(e,t,r=f,n=!1){E(e)&&(e=Hr(e));for(const r in e){const s=e[r];let i;i=M(s)?"default"in s?ar(s.from||r,s.default,!0):ar(s.from||r):ar(s),ht(i)&&n?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[r]=i}}(c,n,null,e.appContext.config.unwrapInjectedRef),o)for(const e in o){const t=o[e];S(t)&&(n[e]=t.bind(r))}if(s){const t=s.call(r,r);M(t)&&(e.data=et(t))}if(Ur=!0,i)for(const e in i){const t=i[e],s=S(t)?t.bind(r,r):S(t.get)?t.get.bind(r,r):f,o=!S(t)&&S(t.set)?t.set.bind(r):f,a=is({get:s,set:o});Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(a)for(const e in a)Vr(a[e],n,r,e);if(l){const e=S(l)?l.call(r):l;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(Yn){let r=Yn.provides;const n=Yn.parent&&Yn.parent.provides;n===r&&(r=Yn.provides=Object.create(n)),r[e]=t}}(t,e[t])}))}function I(e,t){E(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(u&&Nr(u,e,"c"),I(Mr,h),I(Ar,d),I(Pr,p),I(Or,m),I(Er,y),I(Tr,g),I(Fr,R),I(zr,T),I(Dr,k),I(Lr,b),I(Br,_),I(Ir,C),E(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});x&&e.render===f&&(e.render=x),null!=P&&(e.inheritAttrs=P),O&&(e.components=O),L&&(e.directives=L)}function Nr(e,t,r){gt(E(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function Vr(e,t,r,n){const s=n.includes(".")?dr(r,n):()=>r[n];if(R(e)){const r=t[e];S(r)&&cr(s,r)}else if(S(e))cr(s,e.bind(r));else if(M(e))if(E(e))e.forEach((e=>Vr(e,t,r,n)));else{const n=S(e.handler)?e.handler.bind(r):t[e.handler];S(n)&&cr(s,n,e)}}function qr(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:s.length||r||n?(l={},s.length&&s.forEach((e=>Kr(l,e,o,!0))),Kr(l,t,o)):l=t,i.set(t,l),l}function Kr(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&Kr(e,i,r,!0),s&&s.forEach((t=>Kr(e,t,r,!0)));for(const s in t)if(n&&"expose"===s);else{const n=Wr[s]||r&&r[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const Wr={data:Gr,props:Xr,emits:Xr,methods:Xr,computed:Xr,beforeCreate:$r,created:$r,beforeMount:$r,mounted:$r,beforeUpdate:$r,updated:$r,beforeDestroy:$r,beforeUnmount:$r,destroyed:$r,unmounted:$r,activated:$r,deactivated:$r,errorCaptured:$r,serverPrefetch:$r,components:Xr,directives:Xr,watch:function(e,t){if(!e)return t;if(!t)return e;const r=b(Object.create(null),e);for(const n in t)r[n]=$r(e[n],t[n]);return r},provide:Gr,inject:function(e,t){return Xr(Hr(e),Hr(t))}};function Gr(e,t){return t?e?function(){return b(S(e)?e.call(this,this):e,S(t)?t.call(this,this):t)}:t:e}function Hr(e){if(E(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function $r(e,t){return e?[...new Set([].concat(e,t))]:t}function Xr(e,t){return e?b(b(Object.create(null),e),t):t}function Yr(e,t,r,n=!1){const s={},i={};W(i,On,1),e.propsDefaults=Object.create(null),Qr(e,t,s,i);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);r?e.props=n?s:function(e){return rt(e,!1,Re,He,Ye)}(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Qr(e,t,r,n){const[s,i]=e.propsOptions;let o,a=!1;if(t)for(let l in t){if(I(l))continue;const c=t[l];let u;s&&x(s,u=F(l))?i&&i.includes(u)?(o||(o={}))[u]=c:r[u]=c:Qt(e.emitsOptions,l)||l in n&&c===n[l]||(n[l]=c,a=!0)}if(i){const t=at(r),n=o||d;for(let o=0;o<i.length;o++){const a=i[o];r[a]=Zr(s,t,a,n[a],e,!x(n,a))}}return a}function Zr(e,t,r,n,s,i){const o=e[r];if(null!=o){const e=x(o,"default");if(e&&void 0===n){const e=o.default;if(o.type!==Function&&S(e)){const{propsDefaults:i}=s;r in i?n=i[r]:(Zn(s),n=i[r]=e.call(null,t),Jn())}else n=e}o[0]&&(i&&!e?n=!1:!o[1]||""!==n&&n!==j(r)||(n=!0))}return n}function Jr(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(__VUE_OPTIONS_API__&&!S(e)){const n=e=>{l=!0;const[r,n]=Jr(e,t,!0);b(o,r),n&&a.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!i&&!l)return n.set(e,p),p;if(E(i))for(let e=0;e<i.length;e++){const t=F(i[e]);en(t)&&(o[t]=d)}else if(i)for(const e in i){const t=F(e);if(en(t)){const r=i[e],n=o[t]=E(r)||S(r)?{type:r}:r;if(n){const e=nn(Boolean,n.type),r=nn(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||x(n,"default"))&&a.push(t)}}}const c=[o,a];return n.set(e,c),c}function en(e){return"$"!==e[0]}function tn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function rn(e,t){return tn(e)===tn(t)}function nn(e,t){return E(t)?t.findIndex((t=>rn(t,e))):S(t)&&rn(t,e)?0:-1}const sn=e=>"_"===e[0]||"$stable"===e,on=e=>E(e)?e.map(Nn):[Nn(e)],an=(e,t,r)=>{const n=function(e,t=Zt,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&Cn(-1);const s=er(t),i=e(...r);return er(s),n._d&&Cn(1),__VUE_PROD_DEVTOOLS__&&Gt(t),i};return n._n=!0,n._c=!0,n._d=!0,n}(((...e)=>on(t(...e))),r);return n._c=!1,n},ln=(e,t,r)=>{const n=e._ctx;for(const r in e){if(sn(r))continue;const s=e[r];if(S(s))t[r]=an(0,s,n);else if(null!=s){const e=on(s);t[r]=()=>e}}},cn=(e,t)=>{const r=on(t);e.slots.default=()=>r};function un(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ue(),gt(l,r,8,[e.el,a,e,t]),he())}}function hn(){return{app:null,config:{isNativeTag:m,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dn=0;function pn(e,t){return function(r,n=null){null==n||M(n)||(n=null);const s=hn(),i=new Set;let o=!1;const a=s.app={_uid:dn++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:os,get config(){return s.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&S(e.install)?(i.add(e),e.install(a,...t)):S(e)&&(i.add(e),e(a,...t))),a),mixin:e=>(__VUE_OPTIONS_API__&&(s.mixins.includes(e)||s.mixins.push(e)),a),component:(e,t)=>t?(s.components[e]=t,a):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,a):s.directives[e],mount(i,l,c){if(!o){const u=Dn(r,n);return u.appContext=s,l&&t?t(u,i):e(u,i,c),o=!0,a._container=i,i.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&(a._instance=u.component,function(e,t){qt("app:init",e,t,{Fragment:wn,Text:_n,Comment:xn,Static:En})}(a,os)),ss(u.component)||u.component.proxy}},unmount(){o&&(e(null,a._container),__VUE_PROD_DEVTOOLS__&&(a._instance=null,function(e){qt("app:unmount",e)}(a)),delete a._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,a)};return a}}function fn(e,t,r,n,s=!1){if(E(e))return void e.forEach(((e,i)=>fn(e,t&&(E(t)?t[i]:t),r,n,s)));if(_r(n)&&!s)return;const i=4&n.shapeFlag?ss(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===d?a.refs={}:a.refs,h=a.setupState;if(null!=c&&c!==l&&(R(c)?(u[c]=null,x(h,c)&&(h[c]=null)):ht(c)&&(c.value=null)),S(l))yt(l,a,12,[o,u]);else{const t=R(l),n=ht(l);if(t||n){const n=()=>{if(e.f){const r=t?u[l]:l.value;s?E(r)&&w(r,i):E(r)?r.includes(i)||r.push(i):t?u[l]=[i]:(l.value=[i],e.k&&(u[e.k]=l.value))}else t?(u[l]=o,x(h,l)&&(h[l]=o)):ht(l)&&(l.value=o,e.k&&(u[e.k]=o))};o?(n.id=-1,mn(n,r)):n()}}}const mn=function(e,t){t&&t.pendingBranch?E(e)?t.effects.push(...e):t.effects.push(e):It(e,Rt,St,Ct)};function yn(e){return function(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&($().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&($().__VUE_PROD_DEVTOOLS__=!1);const r=$();r.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&Kt(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:m,setScopeId:y=f,cloneNode:g,insertStaticContent:v}=e,w=(e,t,r,n=null,s=null,i=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Pn(e,t)&&(n=ne(e),Z(e,s,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case _n:_(e,t,r,n);break;case xn:E(e,t,r,n);break;case En:null==e&&T(t,r,n,o);break;case wn:D(e,t,r,n,s,i,o,a,l);break;default:1&h?R(e,t,r,n,s,i,o,a,l):6&h?z(e,t,r,n,s,i,o,a,l):(64&h||128&h)&&c.process(e,t,r,n,s,i,o,a,l,ie)}null!=u&&s&&fn(u,e&&e.ref,i,t||e,!t)},_=(e,t,r,s)=>{if(null==e)n(t.el=a(t.children),r,s);else{const r=t.el=e.el;t.children!==e.children&&c(r,t.children)}},E=(e,t,r,s)=>{null==e?n(t.el=l(t.children||""),r,s):t.el=e.el},T=(e,t,r,n)=>{[e.el,e.anchor]=v(e.children,t,r,n,e.el,e.anchor)},k=({el:e,anchor:t},r,s)=>{let i;for(;e&&e!==t;)i=m(e),n(e,r,s),e=i;n(t,r,s)},S=({el:e,anchor:t})=>{let r;for(;e&&e!==t;)r=m(e),s(e),e=r;s(t)},R=(e,t,r,n,s,i,o,a,l)=>{o=o||"svg"===t.type,null==e?C(t,r,n,s,i,o,a,l):O(e,t,s,i,o,a,l)},C=(e,t,r,s,a,l,c,h)=>{let d,p;const{type:f,props:m,shapeFlag:y,transition:v,patchFlag:b,dirs:w}=e;if(e.el&&void 0!==g&&-1===b)d=e.el=g(e.el);else{if(d=e.el=o(e.type,l,m&&m.is,m),8&y?u(d,e.children):16&y&&P(e.children,d,null,s,a,l&&"foreignObject"!==f,c,h),w&&un(e,null,s,"created"),m){for(const t in m)"value"===t||I(t)||i(d,t,null,m[t],l,e.children,s,a,re);"value"in m&&i(d,"value",null,m.value),(p=m.onVnodeBeforeMount)&&Kn(p,s,e)}M(d,e,e.scopeId,c,s)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(d,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(d,"__vueParentComponent",{value:s,enumerable:!1})),w&&un(e,null,s,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(d),n(d,t,r),((p=m&&m.onVnodeMounted)||_||w)&&mn((()=>{p&&Kn(p,s,e),_&&v.enter(d),w&&un(e,null,s,"mounted")}),a)},M=(e,t,r,n,s)=>{if(r&&y(e,r),n)for(let t=0;t<n.length;t++)y(e,n[t]);if(s){if(t===s.subTree){const t=s.vnode;M(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},P=(e,t,r,n,s,i,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Vn(e[c]):Nn(e[c]);w(null,l,t,r,n,s,i,o,a)}},O=(e,t,r,n,s,o,a)=>{const l=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:p}=t;c|=16&e.patchFlag;const f=e.props||d,m=t.props||d;let y;r&&gn(r,!1),(y=m.onVnodeBeforeUpdate)&&Kn(y,r,t,e),p&&un(t,e,r,"beforeUpdate"),r&&gn(r,!0);const g=s&&"foreignObject"!==t.type;if(h?L(e.dynamicChildren,h,l,r,n,g,o):a||G(e,t,l,null,r,n,g,o,!1),c>0){if(16&c)B(l,t,f,m,r,n,s);else if(2&c&&f.class!==m.class&&i(l,"class",null,m.class,s),4&c&&i(l,"style",f.style,m.style,s),8&c){const o=t.dynamicProps;for(let t=0;t<o.length;t++){const a=o[t],c=f[a],u=m[a];u===c&&"value"!==a||i(l,a,c,u,s,e.children,r,n,re)}}1&c&&e.children!==t.children&&u(l,t.children)}else a||null!=h||B(l,t,f,m,r,n,s);((y=m.onVnodeUpdated)||p)&&mn((()=>{y&&Kn(y,r,t,e),p&&un(t,e,r,"updated")}),n)},L=(e,t,r,n,s,i,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===wn||!Pn(l,c)||70&l.shapeFlag)?h(l.el):r;w(l,c,u,null,n,s,i,o,!0)}},B=(e,t,r,n,s,o,a)=>{if(r!==n){for(const l in n){if(I(l))continue;const c=n[l],u=r[l];c!==u&&"value"!==l&&i(e,l,u,c,a,t.children,s,o,re)}if(r!==d)for(const l in r)I(l)||l in n||i(e,l,r[l],null,a,t.children,s,o,re);"value"in n&&i(e,"value",r.value,n.value)}},D=(e,t,r,s,i,o,l,c,u)=>{const h=t.el=e?e.el:a(""),d=t.anchor=e?e.anchor:a("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(n(h,r,s),n(d,r,s),P(t.children,r,d,i,o,l,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(L(e.dynamicChildren,f,r,i,o,l,c),(null!=t.key||i&&t===i.subTree)&&vn(e,t,!0)):G(e,t,r,d,i,o,l,c,u)},z=(e,t,r,n,s,i,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,r,n,o,l):U(t,r,n,s,i,o,l):N(e,t,l)},U=(e,t,r,n,s,i,o)=>{const a=e.component=function(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||$n,i={uid:Xn++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Y(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jr(n,s),emitsOptions:Yt(n,s),emit:null,emitted:null,propsDefaults:d,inheritAttrs:n.inheritAttrs,ctx:d,data:d,props:d,attrs:d,slots:d,refs:d,setupState:d,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=Xt.bind(null,i),e.ce&&e.ce(i);return i}(e,n,s);if(xr(e)&&(a.ctx.renderer=ie),function(e,t=!1){ts=t;const{props:r,children:n}=e.vnode,s=es(e);Yr(e,r,s,t),((e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=at(t),W(t,"_",r)):ln(t,e.slots={})}else e.slots={},t&&cn(e,t);W(e.slots,On,1)})(e,n);const i=s?function(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=lt(new Proxy(e.ctx,Hn));const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?function(e){const t=t=>{e.exposed=t||{}};let r;return{get attrs(){return r||(r=function(e){return new Proxy(e.attrs,{get:(t,r)=>(de(e,0,"$attrs"),t[r])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;Zn(e),ue();const s=yt(n,e,0,[e.props,r]);if(he(),Jn(),A(s)){if(s.then(Jn,Jn),t)return s.then((r=>{rs(e,r,t)})).catch((t=>{vt(t,e,0)}));e.asyncDep=s}else rs(e,s,t)}else ns(e,t)}(e,t):void 0;ts=!1}(a),a.asyncDep){if(s&&s.registerDep(a,V),!e.el){const e=a.subTree=Dn(xn);E(null,e,t,r)}}else V(a,e,t,r,s,i,o)},N=(e,t,r)=>{const n=t.component=e.component;if(function(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!s&&!a||a&&a.$stable)||n!==o&&(n?!o||or(n,o,c):!!o);if(1024&l)return!0;if(16&l)return n?or(n,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(o[r]!==n[r]&&!Qt(c,r))return!0}}return!1}(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void q(n,t,r);n.next=t,function(e){const t=_t.indexOf(e);t>xt&&_t.splice(t,1)}(n.update),n.update()}else t.component=e.component,t.el=e.el,n.vnode=t},V=(e,t,r,n,s,i,o)=>{const a=()=>{if(e.isMounted){let t,{next:r,bu:n,u:a,parent:l,vnode:c}=e,u=r;gn(e,!1),r?(r.el=c.el,q(e,r,o)):r=c,n&&K(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&Kn(t,l,r,c),gn(e,!0);const d=nr(e),p=e.subTree;e.subTree=d,w(p,d,h(p.el),ne(p),e,s,i),r.el=d.el,null===u&&function({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}(e,d.el),a&&mn(a,s),(t=r.props&&r.props.onVnodeUpdated)&&mn((()=>Kn(t,l,r,c)),s),__VUE_PROD_DEVTOOLS__&&Gt(e)}else{let o;const{el:a,props:l}=t,{bm:c,m:u,parent:h}=e,d=_r(t);if(gn(e,!1),c&&K(c),!d&&(o=l&&l.onVnodeBeforeMount)&&Kn(o,h,t),gn(e,!0),a&&le){const r=()=>{e.subTree=nr(e),le(a,e.subTree,e,s,null)};d?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{const o=e.subTree=nr(e);w(null,o,r,n,e,s,i),t.el=o.el}if(u&&mn(u,s),!d&&(o=l&&l.onVnodeMounted)){const e=t;mn((()=>Kn(o,h,e)),s)}256&t.shapeFlag&&e.a&&mn(e.a,s),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&Wt(e),t=r=n=null}},l=e.effect=new oe(a,(()=>Lt(e.update)),e.scope),c=e.update=l.run.bind(l);c.id=e.uid,gn(e,!0),c()},q=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=at(s),[l]=e.propsOptions;let c=!1;if(!(n||o>0)||16&o){let n;Qr(e,t,s,i)&&(c=!0);for(const i in a)t&&(x(t,i)||(n=j(i))!==i&&x(t,n))||(l?!r||void 0===r[i]&&void 0===r[n]||(s[i]=Zr(l,a,i,void 0,e,!0)):delete s[i]);if(i!==a)for(const e in i)t&&x(t,e)||(delete i[e],c=!0)}else if(8&o){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let o=r[n];const u=t[o];if(l)if(x(i,o))u!==i[o]&&(i[o]=u,c=!0);else{const t=F(o);s[t]=Zr(l,a,t,u,e,!1)}else u!==i[o]&&(i[o]=u,c=!0)}}c&&fe(e,"set","$attrs")}(e,t.props,n,r),((e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=d;if(32&n.shapeFlag){const e=t._;e?r&&1===e?i=!1:(b(s,t),r||1!==e||delete s._):(i=!t.$stable,ln(t,s)),o=t}else t&&(cn(e,t),o={default:1});if(i)for(const e in s)sn(e)||e in o||delete s[e]})(e,t.children,r),ue(),Dt(void 0,e.update),he()},G=(e,t,r,n,s,i,o,a,l=!1)=>{const c=e&&e.children,h=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void X(c,d,r,n,s,i,o,a,l);if(256&p)return void H(c,d,r,n,s,i,o,a,l)}8&f?(16&h&&re(c,s,i),d!==c&&u(r,d)):16&h?16&f?X(c,d,r,n,s,i,o,a,l):re(c,s,i,!0):(8&h&&u(r,""),16&f&&P(d,r,n,s,i,o,a,l))},H=(e,t,r,n,s,i,o,a,l)=>{t=t||p;const c=(e=e||p).length,u=t.length,h=Math.min(c,u);let d;for(d=0;d<h;d++){const n=t[d]=l?Vn(t[d]):Nn(t[d]);w(e[d],n,r,null,s,i,o,a,l)}c>u?re(e,s,i,!0,!1,h):P(t,r,n,s,i,o,a,l,h)},X=(e,t,r,n,s,i,o,a,l)=>{let c=0;const u=t.length;let h=e.length-1,d=u-1;for(;c<=h&&c<=d;){const n=e[c],u=t[c]=l?Vn(t[c]):Nn(t[c]);if(!Pn(n,u))break;w(n,u,r,null,s,i,o,a,l),c++}for(;c<=h&&c<=d;){const n=e[h],c=t[d]=l?Vn(t[d]):Nn(t[d]);if(!Pn(n,c))break;w(n,c,r,null,s,i,o,a,l),h--,d--}if(c>h){if(c<=d){const e=d+1,h=e<u?t[e].el:n;for(;c<=d;)w(null,t[c]=l?Vn(t[c]):Nn(t[c]),r,h,s,i,o,a,l),c++}}else if(c>d)for(;c<=h;)Z(e[c],s,i,!0),c++;else{const f=c,m=c,y=new Map;for(c=m;c<=d;c++){const e=t[c]=l?Vn(t[c]):Nn(t[c]);null!=e.key&&y.set(e.key,c)}let g,v=0;const b=d-m+1;let _=!1,x=0;const E=new Array(b);for(c=0;c<b;c++)E[c]=0;for(c=f;c<=h;c++){const n=e[c];if(v>=b){Z(n,s,i,!0);continue}let u;if(null!=n.key)u=y.get(n.key);else for(g=m;g<=d;g++)if(0===E[g-m]&&Pn(n,t[g])){u=g;break}void 0===u?Z(n,s,i,!0):(E[u-m]=c+1,u>=x?x=u:_=!0,w(n,t[u],r,null,s,i,o,a,l),v++)}const T=_?function(e){const t=e.slice(),r=[0];let n,s,i,o,a;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(s=r[r.length-1],e[s]<l){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<l?i=a+1:o=a;l<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}i=r.length,o=r[i-1];for(;i-- >0;)r[i]=o,o=t[o];return r}(E):p;for(g=T.length-1,c=b-1;c>=0;c--){const e=m+c,h=t[e],d=e+1<u?t[e+1].el:n;0===E[c]?w(null,h,r,d,s,i,o,a,l):_&&(g<0||c!==T[g]?Q(h,r,d,2):g--)}}},Q=(e,t,r,s,i=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void Q(e.component.subTree,t,r,s);if(128&u)return void e.suspense.move(t,r,s);if(64&u)return void a.move(e,t,r,ie);if(a===wn){n(o,t,r);for(let e=0;e<c.length;e++)Q(c[e],t,r,s);return void n(e.anchor,t,r)}if(a===En)return void k(e,t,r);if(2!==s&&1&u&&l)if(0===s)l.beforeEnter(o),n(o,t,r),mn((()=>l.enter(o)),i);else{const{leave:e,delayLeave:s,afterLeave:i}=l,a=()=>n(o,t,r),c=()=>{e(o,(()=>{a(),i&&i()}))};s?s(o,a,c):c()}else n(o,t,r)},Z=(e,t,r,n=!1,s=!1)=>{const{type:i,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&fn(a,null,r,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!_r(e);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&Kn(m,t,e),6&u)te(e.component,r,n);else{if(128&u)return void e.suspense.unmount(r,n);p&&un(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,s,ie,n):c&&(i!==wn||h>0&&64&h)?re(c,t,r,!1,!0):(i===wn&&384&h||!s&&16&u)&&re(l,t,r),n&&J(e)}(f&&(m=o&&o.onVnodeUnmounted)||p)&&mn((()=>{m&&Kn(m,t,e),p&&un(e,null,t,"unmounted")}),r)},J=e=>{const{type:t,el:r,anchor:n,transition:i}=e;if(t===wn)return void ee(r,n);if(t===En)return void S(e);const o=()=>{s(r),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:n}=i,s=()=>t(r,o);n?n(e.el,o,s):s()}else o()},ee=(e,t)=>{let r;for(;e!==t;)r=m(e),s(e),e=r;s(t)},te=(e,t,r)=>{const{bum:n,scope:s,update:i,subTree:o,um:a}=e;n&&K(n),s.stop(),i&&(i.active=!1,Z(o,e,t,r)),a&&mn(a,t),mn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&Ht(e)},re=(e,t,r,n=!1,s=!1,i=0)=>{for(let o=i;o<e.length;o++)Z(e[o],t,r,n,s)},ne=e=>6&e.shapeFlag?ne(e.component.subTree):128&e.shapeFlag?e.suspense.next():m(e.anchor||e.el),se=(e,t,r)=>{null==e?t._vnode&&Z(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,r),zt(),t._vnode=e},ie={p:w,um:Z,m:Q,r:J,mt:U,mc:P,pc:G,pbc:L,n:ne,o:e};let ae,le;t&&([ae,le]=t(ie));return{render:se,hydrate:ae,createApp:pn(se,ae)}}(e)}function gn({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function vn(e,t,r=!1){const n=e.children,s=t.children;if(E(n)&&E(s))for(let e=0;e<n.length;e++){const t=n[e];let i=s[e];1&i.shapeFlag&&!i.dynamicChildren&&((i.patchFlag<=0||32===i.patchFlag)&&(i=s[e]=Vn(s[e]),i.el=t.el),r||vn(t,i))}}const bn=Symbol(),wn=Symbol(void 0),_n=Symbol(void 0),xn=Symbol(void 0),En=Symbol(void 0),Tn=[];let kn=null;function Sn(e=!1){Tn.push(kn=e?null:[])}let Rn=1;function Cn(e){Rn+=e}function Mn(e){return e.dynamicChildren=Rn>0?kn||p:null,Tn.pop(),kn=Tn[Tn.length-1]||null,Rn>0&&kn&&kn.push(e),e}function An(e,t,r,n,s,i){return Mn(In(e,t,r,n,s,i,!0))}function Pn(e,t){return e.type===t.type&&e.key===t.key}const On="__vInternal",Ln=({key:e})=>null!=e?e:null,Bn=({ref:e,ref_key:t,ref_for:r})=>null!=e?R(e)||ht(e)||S(e)?{i:Zt,r:e,k:t,f:!!r}:e:null;function In(e,t=null,r=null,n=0,s=null,i=(e===wn?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ln(t),ref:t&&Bn(t),scopeId:Jt,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(qn(l,r),128&i&&e.normalize(l)):r&&(l.shapeFlag|=R(r)?8:16),Rn>0&&!o&&kn&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&kn.push(l),l}const Dn=function(e,t=null,r=null,n=0,s=null,o=!1){e&&e!==bn||(e=xn);if(a=e,a&&!0===a.__v_isVNode){const n=zn(e,t,!0);return r&&qn(n,r),n}var a;(function(e){return S(e)&&"__vccOpts"in e})(e)&&(e=e.__vccOpts);if(t){t=function(e){return e?ot(e)||On in e?b({},e):e:null}(t);let{class:e,style:r}=t;e&&!R(e)&&(t.class=c(e)),M(r)&&(ot(r)&&!E(r)&&(r=b({},r)),t.style=i(r))}const l=R(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:M(e)?4:S(e)?2:0;return In(e,t,r,n,s,l,o,!0)};function zn(e,t,r=!1){const{props:n,ref:s,patchFlag:o,children:a}=e,l=t?function(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=c([t.class,n.class]));else if("style"===e)t.style=i([t.style,n.style]);else if(g(e)){const r=t[e],s=n[e];!s||r===s||E(r)&&r.includes(s)||(t[e]=r?[].concat(r,s):s)}else""!==e&&(t[e]=n[e])}return t}(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ln(l),ref:t&&t.ref?r&&s?E(s)?s.concat(Bn(t)):[s,Bn(t)]:Bn(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wn?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zn(e.ssContent),ssFallback:e.ssFallback&&zn(e.ssFallback),el:e.el,anchor:e.anchor}}function Fn(e=" ",t=0){return Dn(_n,null,e,t)}function Un(e,t){const r=Dn(En,null,e);return r.staticCount=t,r}function jn(e="",t=!1){return t?(Sn(),function(e,t,r,n,s){return Mn(Dn(e,t,r,n,s,!0))}(xn,null,e)):Dn(xn,null,e)}function Nn(e){return null==e||"boolean"==typeof e?Dn(xn):E(e)?Dn(wn,null,e.slice()):"object"==typeof e?Vn(e):Dn(_n,null,String(e))}function Vn(e){return null===e.el||e.memo?e:zn(e)}function qn(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(E(t))r=16;else if("object"==typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),qn(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||On in t?3===n&&Zt&&(1===Zt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Zt}}else S(t)?(t={default:t,_ctx:Zt},r=32):(t=String(t),64&n?(r=16,t=[Fn(t)]):r=8);e.children=t,e.shapeFlag|=r}function Kn(e,t,r,n=null){gt(e,t,7,[r,n])}const Wn=e=>e?es(e)?ss(e)||e.proxy:Wn(e.parent):null,Gn=b(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wn(e.parent),$root:e=>Wn(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?qr(e):e.type,$forceUpdate:e=>()=>Lt(e.update),$nextTick:e=>Ot.bind(e.proxy),$watch:e=>__VUE_OPTIONS_API__?hr.bind(e):f}),Hn={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if("$"!==t[0]){const a=o[t];if(void 0!==a)switch(a){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(n!==d&&x(n,t))return o[t]=1,n[t];if(s!==d&&x(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&x(c,t))return o[t]=3,i[t];if(r!==d&&x(r,t))return o[t]=4,r[t];__VUE_OPTIONS_API__&&!Ur||(o[t]=0)}}const u=Gn[t];let h,p;return u?("$attrs"===t&&de(e,0,t),u(e)):(h=a.__cssModules)&&(h=h[t])?h:r!==d&&x(r,t)?(o[t]=4,r[t]):(p=l.config.globalProperties,x(p,t)?p[t]:void 0)},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return s!==d&&x(s,t)?(s[t]=r,!0):n!==d&&x(n,t)?(n[t]=r,!0):!x(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==d&&x(e,o)||t!==d&&x(t,o)||(a=i[0])&&x(a,o)||x(n,o)||x(Gn,o)||x(s.config.globalProperties,o)},defineProperty(e,t,r){return null!=r.get?this.set(e,t,r.get(),null):null!=r.value&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},$n=hn();let Xn=0;let Yn=null;const Qn=()=>Yn||Zt,Zn=e=>{Yn=e,e.scope.on()},Jn=()=>{Yn&&Yn.scope.off(),Yn=null};function es(e){return 4&e.vnode.shapeFlag}let ts=!1;function rs(e,t,r){S(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:M(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=ft(t)),ns(e,r)}function ns(e,t,r){const n=e.type;e.render||(e.render=n.render||f),__VUE_OPTIONS_API__&&(Zn(e),ue(),jr(e),he(),Jn())}function ss(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ft(lt(e.exposed)),{get:(t,r)=>r in t?t[r]:r in Gn?Gn[r](e):void 0}))}const is=(e,t)=>function(e,t,r=!1){let n,s;const i=S(e);return i?(n=e,s=f):(n=e.get,s=e.set),new mt(n,s,i||!s,r)}(e,0,ts),os="3.2.31",as="undefined"!=typeof document?document:null,ls=as&&as.createElement("template"),cs={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?as.createElementNS("http://www.w3.org/2000/svg",e):as.createElement(e,r?{is:r}:void 0);return"select"===e&&n&&null!=n.multiple&&s.setAttribute("multiple",n.multiple),s},createText:e=>as.createTextNode(e),createComment:e=>as.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>as.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),s!==i&&(s=s.nextSibling););else{ls.innerHTML=n?`<svg>${e}</svg>`:e;const s=ls.content;if(n){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};const us=/\s*!important$/;function hs(e,t,r){if(E(r))r.forEach((r=>hs(e,t,r)));else if(t.startsWith("--"))e.setProperty(t,r);else{const n=function(e,t){const r=ps[t];if(r)return r;let n=F(t);if("filter"!==n&&n in e)return ps[t]=n;n=N(n);for(let r=0;r<ds.length;r++){const s=ds[r]+n;if(s in e)return ps[t]=s}return t}(e,t);us.test(r)?e.setProperty(j(n),r.replace(us,""),"important"):e[n]=r}}const ds=["Webkit","Moz","ms"],ps={};const fs="http://www.w3.org/1999/xlink";let ms=Date.now,ys=!1;if("undefined"!=typeof window){ms()>document.createEvent("Event").timeStamp&&(ms=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);ys=!!(e&&Number(e[1])<=53)}let gs=0;const vs=Promise.resolve(),bs=()=>{gs=0};function ws(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[r,a]=function(e){let t;if(_s.test(e)){let r;for(t={};r=e.match(_s);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[j(e.slice(2)),t]}(t);if(n){const o=i[t]=function(e,t){const r=e=>{const n=e.timeStamp||ms();(ys||n>=r.attached-1)&&gt(function(e,t){if(E(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,r.value),t,5,[e])};return r.value=e,r.attached=(()=>gs||(vs.then(bs),gs=ms()))(),r}(n,s);!function(e,t,r,n){e.addEventListener(t,r,n)}(e,r,o,a)}else o&&(!function(e,t,r,n){e.removeEventListener(t,r,n)}(e,r,o,a),i[t]=void 0)}}const _s=/(?:Once|Passive|Capture)$/;const xs=/^on[a-z]/;Boolean;const Es=b({patchProp:(e,t,r,i,o=!1,a,l,c,u)=>{"class"===t?function(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}(e,i,o):"style"===t?function(e,t,r){const n=e.style,s=R(r);if(r&&!s){for(const e in r)hs(n,e,r[e]);if(t&&!R(t))for(const e in t)null==r[e]&&hs(n,e,"")}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}(e,r,i):g(t)?v(t)||ws(e,t,0,i,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&xs.test(t)&&S(r));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(xs.test(t)&&R(r))return!1;return t in e}(e,t,i,o))?function(e,t,r,n,i,o,a){if("innerHTML"===t||"textContent"===t)return n&&a(n,i,o),void(e[t]=null==r?"":r);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=r;const n=null==r?"":r;return e.value===n&&"OPTION"!==e.tagName||(e.value=n),void(null==r&&e.removeAttribute(t))}if(""===r||null==r){const n=typeof e[t];if("boolean"===n)return void(e[t]=s(r));if(null==r&&"string"===n)return e[t]="",void e.removeAttribute(t);if("number"===n){try{e[t]=0}catch(e){}return void e.removeAttribute(t)}}try{e[t]=r}catch(e){}}(e,t,i,a,l,c,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),function(e,t,r,i,o){if(i&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(fs,t.slice(6,t.length)):e.setAttributeNS(fs,t,r);else{const i=n(t);null==r||i&&!s(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}(e,t,i,o))}},cs);let Ts;const ks=(...e)=>{const t=(Ts||(Ts=yn(Es))).createApp(...e),{mount:r}=t;return t.mount=e=>{const n=function(e){if(R(e)){return document.querySelector(e)}return e}(e);if(!n)return;const s=t._component;S(s)||s.render||s.template||(s.template=n.innerHTML),n.innerHTML="";const i=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),i},t};var Ss="https://resources.realitymedia.digital/vue-apps/dist/1a6ace377133f14a.png";const Rs={"xr-layer":"",class:"fade"},Cs=(e=>(tr("data-v-06a9f319"),e=e(),rr(),e))((()=>In("p",null," Here's some more text just to make things not blank. ",-1)));var Ms={props:{msg:String},setup(e){const t=ar("shared");return(r,n)=>(Sn(),An(wn,null,[In("h1",Rs,u(e.msg),1),Cs,In("button",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t).increment&&dt(t).increment(...e))},"count is: "+u(dt(t).state.count),1)],64))},__scopeId:"data-v-06a9f319"};const As={id:"room"},Ps=In("img",{"xr-layer":"",alt:"Vue logo",src:Ss},null,-1);var Os={setup(e){let t=ar("params");var r=t&&t.mesg?t.mesg:"Networked Vue Component with Shared Button Count";return(e,t)=>(Sn(),An("div",As,[Ps,Dn(Ms,{msg:dt(r)},null,8,["msg"]),jn(' <SomeText msg="Networked Vue Component with Shared Button Count" /> ')]))}};function Ls(e,t,r,n=0){n++;for(let s=(e=e.shadowRoot||e).firstElementChild;s;s=s.nextElementSibling){if(s.assignedSlot)continue;const e=s.assignedElements?.({flatten:!0});if(e)for(const i of e)t.call(r,i,n)&&Ls(s,t,r,n);t.call(r,s,n)&&Ls(s,t,r,n)}}class Bs{left=0;top=0;width=0;height=0;copy(e){return this.top=e.top,this.left=e.left,this.width=e.width,this.height=e.height,this}}class Is{left=0;top=0;right=0;bottom=0;copy(e){return this.top=e.top,this.left=e.left,this.right=e.right,this.bottom=e.bottom,this}}function Ds(e,t=new Bs,r){const n=e.ownerDocument,s=n.documentElement,i=n.body;if(e===s)return function(e,t){const r=e.documentElement,n=e.body,s=getComputedStyle(r),i=getComputedStyle(n);return t.top=n.offsetTop+parseFloat(s.marginTop)||0+parseFloat(i.marginTop)||0,t.left=n.offsetLeft+parseFloat(s.marginLeft)||0+parseFloat(i.marginLeft)||0,t.width=Math.max(Math.max(n.scrollWidth,r.scrollWidth),Math.max(n.offsetWidth,r.offsetWidth),Math.max(n.clientWidth,r.clientWidth)),t.height=Math.max(Math.max(n.scrollHeight,r.scrollHeight),Math.max(n.offsetHeight,r.offsetHeight),Math.max(n.clientHeight,r.clientHeight)),t}(n,t);if(r===e)return t.left=0,t.top=0,t.width=e.offsetWidth,void(t.height=e.offsetHeight);const o=e.ownerDocument.defaultView;let a,l=e,c=l.offsetParent,u=o.getComputedStyle(l,null),h=l.offsetTop,d=l.offsetLeft;for(c&&r&&(c.contains(r)||c.contains(r.getRootNode().host))&&c!==r&&(Ds(r,t,c),d-=t.left,h-=t.top);(l=l.parentElement)&&l!==i&&l!==s&&l!==r&&"fixed"!==u.position;)a=o.getComputedStyle(l,null),h-=l.scrollTop,d-=l.scrollLeft,l===c&&(h+=l.offsetTop,d+=l.offsetLeft,h+=parseFloat(a.borderTopWidth)||0,d+=parseFloat(a.borderLeftWidth)||0,c=l.offsetParent),u=a;return"fixed"===u.position&&(h+=Math.max(s.scrollTop,i.scrollTop),d+=Math.max(s.scrollLeft,i.scrollLeft)),t.left=d,t.top=h,t.width=e.offsetWidth,t.height=e.offsetHeight,t}const zs=document.createElement("div");zs.id="VIEWPORT",zs.style.position="fixed",zs.style.width="100vw",zs.style.height="100vh",zs.style.visibility="hidden",zs.style.pointerEvents="none";const Fs=function(e,t){const r=document.createElement("a");r.download=t,r.href=window.URL.createObjectURL(e),r.dataset.downloadurl=["application/octet-stream",r.download,r.href].join(":"),r.click()};class Us{manager;element;eventCallback;isMediaElement=!1;isVideoElement=!1;isCanvasElement=!1;constructor(e,t,r){if(this.manager=e,this.element=t,this.eventCallback=r,!e)throw new Error("WebLayerManager must be initialized");Mi.layers.set(t,this),t.setAttribute(Mi.LAYER_ATTRIBUTE,""),this.parentLayer=Mi.getClosestLayer(this.element,!1),this.isVideoElement="VIDEO"===t.nodeName,this.isMediaElement=this.isVideoElement||"IMG"===t.nodeName||"CANVAS"===t.nodeName,this.eventCallback("layercreated",{target:t})}desiredPseudoState={hover:!1,active:!1,focus:!1,target:!1};needsRefresh=!0;setNeedsRefresh(e=!1){if(this.needsRefresh=!0,e)for(const t of this.childLayers)t.setNeedsRefresh(e)}needsRemoval=!1;parentLayer;childLayers=[];pixelRatio;allStateHashes=new Set;previousDOMStateKey;desiredDOMStateKey;currentDOMStateKey;lastSVGUrl;get previousDOMState(){return this.previousDOMStateKey?this.manager.getLayerState(this.previousDOMStateKey):void 0}get desiredDOMState(){return this.desiredDOMStateKey?this.manager.getLayerState(this.desiredDOMStateKey):void 0}get currentDOMState(){return this.currentDOMStateKey?this.manager.getLayerState(this.currentDOMStateKey):void 0}domMetrics={bounds:new Bs,padding:new Is,margin:new Is,border:new Is};get depth(){let e=0,t=this;for(;t.parentLayer;)t=t.parentLayer,e++;return e}get rootLayer(){let e=this;for(;e.parentLayer;)e=e.parentLayer;return e}traverseParentLayers(e){const t=this.parentLayer;t&&(t.traverseParentLayers(e),e(t))}traverseLayers(e){e(this),this.traverseChildLayers(e)}traverseChildLayers(e){for(const t of this.childLayers)t.traverseLayers(e)}update(){if(this.desiredDOMStateKey!==this.currentDOMStateKey){const e=this.desiredDOMState;e&&(this.isMediaElement||e.texture?.ktx2Url||e.texture?.canvas||e.fullWidth*e.fullHeight==0)&&(this.currentDOMStateKey=this.desiredDOMStateKey)}const e=this.previousDOMState?.texture?.ktx2Url??this.previousDOMState?.texture?.canvas,t=this.currentDOMState?.texture?.ktx2Url??this.previousDOMState?.texture?.canvas;t&&e!==t&&this.eventCallback("layerpainted",{target:this.element}),this.previousDOMStateKey=this.currentDOMStateKey}async refresh(){this.needsRefresh=!1,this._updateParentAndChildLayers();const e=await this.manager.addToSerializeQueue(this);e.needsRasterize&&"string"==typeof e.stateKey&&e.svgUrl&&await this.manager.addToRasterizeQueue(e.stateKey,e.svgUrl)}_updateParentAndChildLayers(){const e=this.element,t=this.childLayers,r=t.slice(),n=this.parentLayer;this.parentLayer=Mi.getClosestLayer(this.element,!1),n!==this.parentLayer&&(this.parentLayer&&this.parentLayer.childLayers.push(this),this.eventCallback("layermoved",{target:e})),t.length=0,Ls(e,this._tryConvertElementToWebLayer,this);for(const e of r){Mi.getClosestLayer(e.element,!1)||(e.needsRemoval=!0,t.push(e))}}_tryConvertElementToWebLayer(e){if(this.needsRemoval)return!1;const t=e,r=getComputedStyle(t);if(t.hasAttribute(Mi.LAYER_ATTRIBUTE)||"VIDEO"===t.nodeName||"none"!==r.transform){let e=Mi.layers.get(t);return e||(e=new Us(this.manager,t,this.eventCallback)),this.childLayers.push(e),!1}return!0}}var js,Ns=[],Vs="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(js||(js={}));var qs,Ks=function(e){return Object.freeze(e)},Ws=function(e,t){this.inlineSize=e,this.blockSize=t,Ks(this)},Gs=function(){function e(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ks(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Hs=function(e){return e instanceof SVGElement&&"getBBox"in e},$s=function(e){if(Hs(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var s=e,i=s.offsetWidth,o=s.offsetHeight;return!(i||o||e.getClientRects().length)},Xs=function(e){var t,r;if(e instanceof Element)return!0;var n=null===(r=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===r?void 0:r.defaultView;return!!(n&&e instanceof n.Element)},Ys="undefined"!=typeof window?window:{},Qs=new WeakMap,Zs=/auto|scroll/,Js=/^tb|vertical/,ei=/msie|trident/i.test(Ys.navigator&&Ys.navigator.userAgent),ti=function(e){return parseFloat(e||"0")},ri=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),new Ws((r?t:e)||0,(r?e:t)||0)},ni=Ks({devicePixelContentBoxSize:ri(),borderBoxSize:ri(),contentBoxSize:ri(),contentRect:new Gs(0,0,0,0)}),si=function(e,t){if(void 0===t&&(t=!1),Qs.has(e)&&!t)return Qs.get(e);if($s(e))return Qs.set(e,ni),ni;var r=getComputedStyle(e),n=Hs(e)&&e.ownerSVGElement&&e.getBBox(),s=!ei&&"border-box"===r.boxSizing,i=Js.test(r.writingMode||""),o=!n&&Zs.test(r.overflowY||""),a=!n&&Zs.test(r.overflowX||""),l=n?0:ti(r.paddingTop),c=n?0:ti(r.paddingRight),u=n?0:ti(r.paddingBottom),h=n?0:ti(r.paddingLeft),d=n?0:ti(r.borderTopWidth),p=n?0:ti(r.borderRightWidth),f=n?0:ti(r.borderBottomWidth),m=h+c,y=l+u,g=(n?0:ti(r.borderLeftWidth))+p,v=d+f,b=a?e.offsetHeight-v-e.clientHeight:0,w=o?e.offsetWidth-g-e.clientWidth:0,_=s?m+g:0,x=s?y+v:0,E=n?n.width:ti(r.width)-_-w,T=n?n.height:ti(r.height)-x-b,k=E+m+w+g,S=T+y+b+v,R=Ks({devicePixelContentBoxSize:ri(Math.round(E*devicePixelRatio),Math.round(T*devicePixelRatio),i),borderBoxSize:ri(k,S,i),contentBoxSize:ri(E,T,i),contentRect:new Gs(h,l,E,T)});return Qs.set(e,R),R},ii=function(e,t,r){var n=si(e,r),s=n.borderBoxSize,i=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(t){case js.DEVICE_PIXEL_CONTENT_BOX:return o;case js.BORDER_BOX:return s;default:return i}},oi=function(e){var t=si(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Ks([t.borderBoxSize]),this.contentBoxSize=Ks([t.contentBoxSize]),this.devicePixelContentBoxSize=Ks([t.devicePixelContentBoxSize])},ai=function(e){if($s(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},li=function(){var e=1/0,t=[];Ns.forEach((function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach((function(t){var r=new oi(t.target),s=ai(t.target);n.push(r),t.lastReportedSize=ii(t.target,t.observedBox),s<e&&(e=s)})),t.push((function(){r.callback.call(r.observer,n,r.observer)})),r.activeTargets.splice(0,r.activeTargets.length)}}));for(var r=0,n=t;r<n.length;r++){(0,n[r])()}return e},ci=function(e){Ns.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(r){r.isActive()&&(ai(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))}))}))},ui=function(){var e,t=0;for(ci(t);Ns.some((function(e){return e.activeTargets.length>0}));)t=li(),ci(t);return Ns.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Vs}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Vs),window.dispatchEvent(e)),t>0},hi=[],di=function(e){if(!qs){var t=0,r=document.createTextNode("");new MutationObserver((function(){return hi.splice(0).forEach((function(e){return e()}))})).observe(r,{characterData:!0}),qs=function(){r.textContent=""+(t?t--:t++)}}hi.push(e),qs()},pi=0,fi={attributes:!0,characterData:!0,childList:!0,subtree:!0},mi=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],yi=function(e){return void 0===e&&(e=0),Date.now()+e},gi=!1,vi=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!gi){gi=!0;var r,n=yi(e);r=function(){var r=!1;try{r=ui()}finally{if(gi=!1,e=n-yi(),!pi)return;r?t.run(1e3):e>0?t.run(e):t.start()}},di((function(){requestAnimationFrame(r)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,fi)};document.body?t():Ys.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),mi.forEach((function(t){return Ys.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),mi.forEach((function(t){return Ys.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),bi=function(e){!pi&&e>0&&vi.start(),!(pi+=e)&&vi.stop()},wi=function(){function e(e,t){this.target=e,this.observedBox=t||js.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=ii(this.target,this.observedBox,!0);return function(e){return!Hs(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),_i=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},xi=new WeakMap,Ei=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Ti=function(){function e(){}return e.connect=function(e,t){var r=new _i(e,t);xi.set(e,r)},e.observe=function(e,t,r){var n=xi.get(e),s=0===n.observationTargets.length;Ei(n.observationTargets,t)<0&&(s&&Ns.push(n),n.observationTargets.push(new wi(t,r&&r.box)),bi(1),vi.schedule())},e.unobserve=function(e,t){var r=xi.get(e),n=Ei(r.observationTargets,t),s=1===r.observationTargets.length;n>=0&&(s&&Ns.splice(Ns.indexOf(r),1),r.observationTargets.splice(n,1),bi(-1))},e.disconnect=function(e){var t=this,r=xi.get(e);r.observationTargets.slice().forEach((function(r){return t.unobserve(e,r.target)})),r.activeTargets.splice(0,r.activeTargets.length)},e}(),ki=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ti.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Xs(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ti.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Xs(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ti.unobserve(this,e)},e.prototype.disconnect=function(){Ti.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Si=self.ResizeObserver||ki;const Ri=new t.Matrix4,Ci=new t.Matrix4;class Mi{static ATTRIBUTE_PREFIX="xr";static get HOVER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-hover"}static get ACTIVE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-active"}static get FOCUS_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-focus"}static get TARGET_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-target"}static get LAYER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-layer"}static get PIXEL_RATIO_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-pixel-ratio"}static get RENDERING_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering"}static get RENDERING_PARENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-parent"}static get RENDERING_CONTAINER_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-container"}static get RENDERING_INLINE_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-inline"}static get RENDERING_DOCUMENT_ATTRIBUTE(){return this.ATTRIBUTE_PREFIX+"-rendering-document"}static serializer=new XMLSerializer;static getPsuedoAttributes(e){return(e.hover?`${this.HOVER_ATTRIBUTE}="" `:" ")+(e.focus?`${this.FOCUS_ATTRIBUTE}="" `:" ")+(e.active?`${this.ACTIVE_ATTRIBUTE}="" `:" ")+(e.target?`${this.TARGET_ATTRIBUTE}="" `:" ")}static rootLayers=new Map;static layers=new Map;static focusElement=null;static activeElement=null;static targetElement=null;static mutationObservers=new Map;static resizeObservers=new Map;static rootNodeObservers=new Map;static containerStyleElement;static initRootNodeObservation(e){const t=e.ownerDocument,r=e.getRootNode(),n="head"in r?r.head:r;if(this.rootNodeObservers.get(r))return;if(!this.containerStyleElement){const e=this.containerStyleElement=t.createElement("style");t.head.appendChild(e),e.innerHTML=`\n        [${Mi.RENDERING_CONTAINER_ATTRIBUTE}] {\n          all: initial;\n          position: fixed;\n          width: 100%;\n          height: 100%;\n          top: 0px;\n        }\n      `}const s=`\n    a {\n      color: blue;\n      text-decoration: underline;\n    }\n\n    :host > [${Mi.LAYER_ATTRIBUTE}] {\n      display: flow-root;\n    }\n\n    [${Mi.RENDERING_DOCUMENT_ATTRIBUTE}] * {\n      transform: none !important;\n    }\n\n    [${Mi.RENDERING_ATTRIBUTE}], [${Mi.RENDERING_ATTRIBUTE}] * {\n      visibility: visible !important;\n      /* the following is a hack for Safari; \n      without some kind of css filter active, \n      any box-shadow effect will fail to rasterize properly */\n      filter: opacity(1);\n    }\n    \n    [${Mi.RENDERING_ATTRIBUTE}] [${Mi.LAYER_ATTRIBUTE}], [${Mi.RENDERING_ATTRIBUTE}] [${Mi.LAYER_ATTRIBUTE}] * {\n      visibility: hidden !important;\n    }\n\n    [${Mi.RENDERING_ATTRIBUTE}] {\n      position: relative !important;\n      top: 0 !important;\n      left: 0 !important;\n      float: left !important; /* prevent margin-collapse in SVG foreign-element for Webkit */\n      box-sizing:border-box;\n      min-width:var(--x-width);\n      min-height:var(--x-height);\n    }\n\n    [${Mi.RENDERING_PARENT_ATTRIBUTE}] {\n      transform: none !important;\n      left: 0 !important;\n      top: 0 !important;\n      margin: 0 !important;\n      border:0 !important;\n      border-radius:0 !important;\n      width: 100% !important;\n      height:100% !important;\n      padding:0 !important;\n      visibility:hidden !important;\n      filter:none !important;\n    }\n    \n    [${Mi.RENDERING_PARENT_ATTRIBUTE}]::before, [${Mi.RENDERING_PARENT_ATTRIBUTE}]::after {\n      content:none !important;\n      box-shadow:none !important;\n    }\n    `,i=t.createElement("style");if(i.textContent=s,n.append(i),r===t){let e="";const t=()=>{if(e!=window.location.hash&&window.location.hash)try{this.targetElement=r.querySelector(window.location.hash)}catch{}e=window.location.hash};window.addEventListener("hashchange",t,!1),t(),window.addEventListener("focusin",(e=>{this.focusElement=e.target}),!1),window.addEventListener("focusout",(e=>{this.focusElement=null}),!1),window.addEventListener("load",(e=>{o()}))}const o=()=>{for(const[e,t]of this.layers)t.needsRefresh=!0},a=e=>{var t=e.nodeName.toUpperCase();-1!==l.indexOf(t)&&e.addEventListener("load",o)},l=["STYLE","LINK"],c=new MutationObserver((e=>{for(const t of e){-1!==l.indexOf(t.target.nodeName.toUpperCase())&&o();for(const e of t.addedNodes)a(e)}}));c.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0}),this.rootNodeObservers.set(r,c)}static setLayerNeedsRefresh(e){e.needsRefresh=!0}static createLayerTree(e,t,r){if(Mi.getClosestLayer(e))throw new Error("A root WebLayer for the given element already exists");const n=function(e,t){if(document.contains(e))return e;const r=document.createElement("div");return r.id=e.id?"container-"+e.id:"",r.setAttribute(Mi.RENDERING_CONTAINER_ATTRIBUTE,""),r.style.visibility="hidden",r.style.pointerEvents="none",r.style.touchAction="none",r.attachShadow({mode:"open"}).appendChild(e),document.documentElement.appendChild(r),r}(e);Mi.initRootNodeObservation(e);const s=new MutationObserver(Mi._handleMutations);this.mutationObservers.set(e,s),this.startMutationObserver(e);const i=new Si((e=>{for(const t of e){const e=this.getClosestLayer(t.target);e.traverseLayers(Mi.setLayerNeedsRefresh),e.traverseParentLayers(Mi.setLayerNeedsRefresh)}}));i.observe(e),this.resizeObservers.set(e,i),e.addEventListener("input",this._triggerRefresh,{capture:!0}),e.addEventListener("keydown",this._triggerRefresh,{capture:!0}),e.addEventListener("submit",this._triggerRefresh,{capture:!0}),e.addEventListener("change",this._triggerRefresh,{capture:!0}),e.addEventListener("focus",this._triggerRefresh,{capture:!0}),e.addEventListener("blur",this._triggerRefresh,{capture:!0}),e.addEventListener("transitionend",this._triggerRefresh,{capture:!0});const o=new Us(t.manager,e,r);return this.rootLayers.set(e,o),n}static disposeLayer(e){if(this.rootLayers.has(e.element)){this.rootLayers.delete(e.element);this.mutationObservers.get(e.element).disconnect(),this.mutationObservers.delete(e.element);this.resizeObservers.get(e.element).disconnect(),this.resizeObservers.delete(e.element),e.element.removeEventListener("input",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("keydown",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("submit",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("change",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("focus",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("blur",this._triggerRefresh,{capture:!0}),e.element.removeEventListener("transitionend",this._triggerRefresh,{capture:!0})}}static getClosestLayer(e,t=!0){const r=(t?e:e.parentElement)?.closest(`[${Mi.LAYER_ATTRIBUTE}]`);if(!r){const r=e?.getRootNode().host;if(r)return this.getClosestLayer(r,t)}return this.layers.get(r)}static parseCSSTransform(e,r,n,s,i=new t.Matrix4){const o=e.transform,a=e.transformOrigin;if(0==o.indexOf("matrix(")){i.identity();var l=o.substring(7,o.length-1).split(", ").map(parseFloat);i.elements[0]=l[0],i.elements[1]=l[1],i.elements[4]=l[2],i.elements[5]=l[3],i.elements[12]=l[4],i.elements[13]=l[5]}else{if(0!=o.indexOf("matrix3d("))return null;l=o.substring(9,o.length-1).split(", ").map(parseFloat);i.fromArray(l)}0===i.elements[0]&&(i.elements[0]=1e-15),0===i.elements[5]&&(i.elements[5]=1e-15),0===i.elements[10]&&(i.elements[10]=1e-15),i.elements[12]*=s,i.elements[13]*=-1*s;var c=a.split(" ").map(parseFloat),u=(c[0]-r/2)*s,h=(c[1]-n/2)*s*-1,d=c[2]||0,p=Ri.identity().makeTranslation(-u,-h,-d),f=Ci.identity().makeTranslation(u,h,d);for(const e of i.elements)if(isNaN(e))return null;return i.premultiply(f).multiply(p)}static pauseMutationObservers(){const e=Mi.mutationObservers.values();for(const t of e)Mi._handleMutations(t.takeRecords()),t.disconnect()}static resumeMutationObservers(){for(const[e]of Mi.mutationObservers)this.startMutationObserver(e)}static startMutationObserver(e){Mi.mutationObservers.get(e).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0})}static _handleMutations=e=>{for(const t of e){if("attributes"===t.type){if(t.target.getAttribute(t.attributeName)===t.oldValue)continue}if("characterData"===t.type){const e=t.target;if(e.data===t.oldValue)continue;if("style"===e.parentElement?.tagName.toLowerCase()){const t=e.parentElement,r=t.getRootNode();this.embeddedStyles.get(r)?.delete(t)}}const e=t.target.nodeType===Node.ELEMENT_NODE?t.target:t.target.parentElement;if(!e)continue;const r=Mi.getClosestLayer(e);if(r){if("attributes"===t.type&&"class"===t.attributeName){if((t.oldValue?t.oldValue:"")===t.target.className)continue}r.parentLayer?r.parentLayer.traverseChildLayers(Mi.setLayerNeedsRefresh):r.traverseLayers(Mi.setLayerNeedsRefresh)}}};static _triggerRefresh=async e=>{const t=Mi.getClosestLayer(e.target);t&&(t.parentLayer?t.parentLayer.traverseChildLayers(Mi.setLayerNeedsRefresh):t.traverseLayers(Mi.setLayerNeedsRefresh))};static arrayBufferToBase64(e){for(var t="",r=e.byteLength,n=0;n<r;n++)t+=String.fromCharCode(e[n]);return window.btoa(t)}static attributeCSS(e,t){return t?`[${e}]=${t}`:`[${e}]`}static attributeHTML(e,t){return t?`${e}="${t}"`:`${e}=""`}static async generateEmbeddedCSS(e,t){let r;const n=[];t=(t=(t=(t=t.replace(new RegExp(":hover","g"),this.attributeCSS(this.HOVER_ATTRIBUTE))).replace(new RegExp(":active","g"),this.attributeCSS(this.ACTIVE_ATTRIBUTE))).replace(new RegExp(":focus","g"),this.attributeCSS(this.FOCUS_ATTRIBUTE))).replace(new RegExp(":target","g"),this.attributeCSS(this.TARGET_ATTRIBUTE));const s=RegExp(/(@import.*?["']([^"']+)["'].*?|url\((?!['"]?(?:data):)['"]?([^'"\)]*)['"]?\))/gi);for(;r=s.exec(t);){const s=!!r[2]?"type/css":void 0,i=r[2]||r[3];n.push(this.getDataURL(new URL(i,e).href,s).then((e=>{t=t.replace(i,e)})))}return await Promise.all(n),t}static embeddedStyles=new Map;static fontStyles=new Map;static async getAllEmbeddedStyles(e){const t=e.getRootNode(),r=this.embeddedStyles.get(t)||new Map;this.embeddedStyles.set(t,r);const n=Array.from(t.querySelectorAll("style, link[type='text/css'], link[rel='stylesheet']")),s=e.getRootNode()instanceof ShadowRoot;for(const e of n)r.has(e)||r.set(e,new Promise((t=>{if("style"===e.tagName.toLowerCase())t(e.textContent||"");else{const r=e;t(this.getEmbeddedCSS(r.href))}})).then((e=>{const t=RegExp(/@font-face[^{]*{([^{}]|{[^{}]*})*}/gi),n=e.match(t);if(s&&n)for(const e of n){if(this.fontStyles.has(e))continue;const t=document.createElement("style");t.innerHTML=n.reduce(((e,t)=>t+"\n\n"+e),""),document.head.appendChild(t),this.fontStyles.set(e,t),r.set(t,Promise.resolve(""))}return this.generateEmbeddedCSS(window.location.href,e)})));return Promise.all(r.values())}static deleteEmbeddedStyle(e){const t=e.getRootNode();this.embeddedStyles.get(t)?.delete(e)}static dataURLMap=new Map;static async getDataURL(e,t){if(e.startsWith("data"))return e;if(this.dataURLMap.has(e))return this.dataURLMap.get(e);const r=new Promise((async r=>{const n=await fetch(e,t?{headers:{accept:t}}:void 0),s=n.headers.get("content-type");if("text/css"==s){const t=await this.generateEmbeddedCSS(e,await n.text());this.embeddedCSSMap.set(e,t),r("data:"+s+";base64,"+window.btoa(t))}else{const e=new Uint8Array(await n.arrayBuffer());r("data:"+s+";base64,"+this.arrayBufferToBase64(e))}}));return this.dataURLMap.set(e,r),r}static embeddedCSSMap=new Map;static async getEmbeddedCSS(e){if(this.embeddedCSSMap.has(e))return this.embeddedCSSMap.get(e);const t=await fetch(e,{headers:{accept:"text/css"}}),r=await this.generateEmbeddedCSS(e,await t.text());return this.embeddedCSSMap.set(e,r),this.embeddedCSSMap.get(e)}static updateInputAttributes(e){e.matches("input")&&this._updateInputAttribute(e);for(const t of e.getElementsByTagName("input"))this._updateInputAttribute(t)}static _updateInputAttribute(e){e.hasAttribute("checked")?e.checked||e.removeAttribute("checked"):e.checked&&e.setAttribute("checked",""),e.getAttribute("value")!==e.value&&e.setAttribute("value",e.value)}static isBlankImage(e){return!new Uint32Array(e.buffer).some((e=>0!==e))}}const Ai=Symbol("ON_BEFORE_UPDATE"),Pi=new t.Vector3,Oi=new t.Matrix4;class Li extends t.Object3D{element;container;static GEOMETRY=new t.PlaneGeometry(1,1,2,2);static FLIPPED_GEOMETRY=function(e){const t=e.attributes.uv;for(let e=0;e<t.count;e++)t.setY(e,1-t.getY(e));return e}(new t.PlaneGeometry(1,1,2,2));static shouldApplyDOMLayout(e){const t=e.shouldApplyDOMLayout;return"always"===t||!0===t||"never"!==t&&!1!==t&&!("auto"!==t||!e.parentWebLayer||e.parent!==e.parentWebLayer)}_camera;constructor(e,r){super(),this.element=e,this.container=r,this.name=e.id,this._webLayer=Mi.getClosestLayer(e),e.layer=this;const n=this._webLayer.isMediaElement?Li.GEOMETRY:Li.FLIPPED_GEOMETRY;this.contentMesh=new t.Mesh(n,new t.MeshBasicMaterial({side:t.DoubleSide,depthWrite:!1,transparent:!0,alphaTest:.001,opacity:1,toneMapped:!1})),this._boundsMesh=new t.Mesh(n,new t.MeshBasicMaterial({visible:!1})),this.add(this.contentMesh),this.add(this._boundsMesh),this.cursor.visible=!1,this.matrixAutoUpdate=!0,this.contentMesh.matrixAutoUpdate=!0,this.contentMesh.visible=!1,this.contentMesh.customDepthMaterial=this.depthMaterial,this.contentMesh.onBeforeRender=(e,t,r)=>{this._camera=r},this._boundsMesh.matrixAutoUpdate=!0,this.container.options.manager.layersByElement.set(this.element,this),this.container.options.manager.layersByMesh.set(this.contentMesh,this)}_webLayer;_localZ=0;_viewZ=0;_renderZ=0;_mediaSrc;_mediaTexture;textures=new Set;_previousTexture;_textureMap=new Map;get allStateHashes(){return this._webLayer.allStateHashes}get domState(){return this._webLayer.currentDOMState}get texture(){const e=this.container.manager,r=this._webLayer;if(r.isMediaElement){const n=this.element;let s=this._mediaTexture;return(!s||s.image&&n.src!==s.image.src)&&(s&&s.dispose(),s=r.isVideoElement?new t.VideoTexture(n):r.isCanvasElement?new t.CanvasTexture(n):(new t.TextureLoader).load(n.src),s.wrapS=t.ClampToEdgeWrapping,s.wrapT=t.ClampToEdgeWrapping,s.minFilter=t.LinearFilter,e.textureEncoding&&(s.encoding=e.textureEncoding),this._mediaTexture=s),s}const n=this._webLayer.currentDOMState?.texture?.hash;if(n){this._textureMap.has(n)||this._textureMap.set(n,{});const t=e.getTexture(n),r=this._textureMap.get(n);return t.compressedTexture&&!r.compressedTexture&&(r.canvasTexture?.dispose(),r.canvasTexture=void 0,r.compressedTexture=t.compressedTexture.clone(),r.compressedTexture.needsUpdate=!0),t.canvasTexture&&!r.canvasTexture&&(r.canvasTexture=t.canvasTexture.clone(),r.canvasTexture.needsUpdate=!0),r.compressedTexture??r.canvasTexture}}contentMesh;_boundsMesh;cursor=new t.Object3D;depthMaterial=new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking,alphaTest:.001});domLayout=new t.Object3D;domSize=new t.Vector3(1,1,1);get desiredPseudoStates(){return this._webLayer.desiredPseudoState}get pseudoStates(){return this._webLayer.currentDOMState?.pseudo}get depth(){return this._webLayer.depth}get index(){return this.parentWebLayer?this.parentWebLayer.childWebLayers.indexOf(this):0}get needsRefresh(){return this._webLayer.needsRefresh}setNeedsRefresh(e=!0){this._webLayer.setNeedsRefresh(e)}get needsRemoval(){return this._webLayer.needsRemoval}bounds=new Bs;margin=new Is;get parentWebLayer(){return this._webLayer.parentLayer&&this.container.manager.layersByElement.get(this._webLayer.parentLayer.element)}childWebLayers=[];shouldApplyDOMLayout="auto";async refresh(e=!1){const t=[];t.push(this._webLayer.refresh()),this.childWebLayers.length=0;for(const r of this._webLayer.childLayers){const n=this.container.manager.layersByElement.get(Mi.getClosestLayer(r.element)?.element);n&&(this.childWebLayers.push(n),e&&t.push(n.refresh(e)))}return Promise.all(t).then((()=>{}))}updateLayout(){if(this._updateDOMLayout(),this._camera){this._localZ=Math.abs(Pi.setFromMatrixPosition(this.matrix).z+Pi.setFromMatrixPosition(this.contentMesh.matrix).z),this._viewZ=Math.abs(this.contentMesh.getWorldPosition(Pi).applyMatrix4(this._camera.matrixWorldInverse).z);let e=this.parentWebLayer?this.parentWebLayer._renderZ:this._viewZ;this._localZ<.001?this._renderZ=e:this._renderZ=this._viewZ,this.contentMesh.renderOrder=(this.container.options.renderOrderOffset||0)+(1-Math.log(this._renderZ+1)/Math.log(this._camera.far+1))+1e-7*(this.depth+.001*this.index)}}updateContent(){if(this.parentWebLayer&&!this.parentWebLayer.domLayout)return;const e=this.contentMesh,t=this.texture,r=e.material;if(t&&r.map!==t){const e=this.contentMesh.scale,n=Math.abs(e.x*this.scale.x/e.y*this.scale.y),s=this.domSize.x/this.domSize.y;Math.abs(s-n)<1e3&&(r.map=t,this.depthMaterial.map=t,r.needsUpdate=!0,this.depthMaterial.needsUpdate=!0)}r.transparent=!0;const n=e.material,s=n.opacity<.005;s?e.visible=!1:n.map&&(e.visible=!0),this.needsRemoval&&s&&(this.parent&&this.parent.remove(this),this.dispose()),this._refreshMediaBounds()}[Ai](){}_doUpdate(){this[Ai](),this.updateContent(),this.updateLayout(),Li.shouldApplyDOMLayout(this)&&(this.position.copy(this.domLayout.position),this.quaternion.copy(this.domLayout.quaternion),this.scale.copy(this.domLayout.scale)),this.contentMesh.position.set(0,0,0),this.contentMesh.scale.copy(this.domSize),this.contentMesh.quaternion.set(0,0,0,1),this._boundsMesh.position.set(0,0,0),this._boundsMesh.scale.copy(this.domSize),this._boundsMesh.quaternion.set(0,0,0,1),this.needsRefresh&&!1!==this.container.options.autoRefresh&&this.refresh(),this._previousTexture!==this.texture&&(this.texture&&this.container.manager.renderer.initTexture(this.texture),this._previousTexture=this.texture,this.container.options.onLayerPaint?.(this)),this._webLayer.update(),this.container.manager.scheduleTasksIfNeeded()}update(e=!1){e?this.traverseLayersPreOrder(this._doUpdate):this._doUpdate()}querySelector(e){const t=this.element.querySelector(e)||this.element.shadowRoot?.querySelector(e);if(t)return this.container.manager.layersByElement.get(t)}querySelectorAll(e){const t=this.element.querySelectorAll(e)||this.element.shadowRoot?.querySelectorAll(e);return Array.from(t).map((e=>this.container.manager.layersByElement.get(e))).filter((e=>e))}traverseLayerAncestors(e){const t=this.parentWebLayer;t&&(t.traverseLayerAncestors(e),e.call(this,t))}traverseLayersPreOrder(e){if(!1===e.call(this,this))return!1;for(const t of this.childWebLayers)if(!1===t.traverseLayersPreOrder(e))return!1;return!0}traverseLayersPostOrder(e){for(const t of this.childWebLayers)if(!1===t.traverseLayersPostOrder(e))return!1;return e.call(this,this)||!0}dispose(){Mi.disposeLayer(this._webLayer);for(const e of this.textures)e.dispose();for(const e of this.childWebLayers)e.dispose()}_refreshMediaBounds(){if(this._webLayer.isMediaElement){const e=this._webLayer.isVideoElement,t=this.domState;if(!t)return;const r=this.element,n=this.texture,s=getComputedStyle(this.element),{objectFit:i}=s,{width:o,height:a}=this.bounds.copy(t.bounds),l=e?r.videoWidth:r.naturalWidth,c=e?r.videoHeight:r.naturalHeight,u=l/c,h=o/a;switch(n.center.set(.5,.5),i){case"none":n.repeat.set(o/l,a/c).clampScalar(0,1);break;case"contain":case"scale-down":if(n.repeat.set(1,1),h>u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;case"cover":if(n.repeat.set(o/l,a/c),h<u){const e=this.bounds.height*u||0;this.bounds.left+=(this.bounds.width-e)/2,this.bounds.width=e}else{const e=this.bounds.width/u||0;this.bounds.top+=(this.bounds.height-e)/2,this.bounds.height=e}break;default:n.repeat.set(1,1)}t.bounds.copy(this.bounds)}}_updateDOMLayout(){if(this.needsRemoval)return;const e=this._webLayer.currentDOMState;if(!e)return;const{bounds:t,margin:r}=e,n=this._webLayer.isMediaElement;this.domLayout.position.set(0,0,0),this.domLayout.scale.set(1,1,1),this.domLayout.quaternion.set(0,0,0,1);const s=this.bounds.copy(t),i=this.margin.copy(r),o=s.width,a=s.height,l=n?0:i.left,c=n?0:i.right,u=n?0:i.top,h=o+l+c,d=a+u+(n?0:i.bottom),p=1/this.container.manager.pixelsPerMeter;this.domSize.set(Math.max(p*h,1e-5),Math.max(p*d,1e-5),1);const f=this.parentWebLayer;if(!f)return;const m=f.bounds,y=f.margin,g=m.width+y.left+y.right,v=m.height+y.bottom+y.top,b=-g/2+y.left,w=v/2-y.top;this.domLayout.position.set(p*(b+h/2+s.left-l),p*(w-d/2-s.top+u),0);const _=getComputedStyle(this.element),x=_.transform;if(x&&"none"!==x){const e=Mi.parseCSSTransform(_,s.width,s.height,p,Oi);e&&(this.domLayout.updateMatrix(),this.domLayout.matrix.multiply(e),this.domLayout.matrix.decompose(this.domLayout.position,this.domLayout.quaternion,this.domLayout.scale))}}}class Bi{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const r=this.workersResolve[e];if(r&&r(t),this.queue.length){const{resolve:t,msg:r,transfer:n}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(r,n)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((r=>{const n=this._getIdleWorker();-1!==n?(this._initWorker(n),this.workerStatus|=1<<n,this.workersResolve[n]=r,this.workers[n].postMessage(e,t)):this.queue.push({resolve:r,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Ii=new WeakMap;let Di=0;class zi extends t.Loader{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new Bi,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}detectSupport(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}init(){if(!this.transcoderPending){const e=new t.FileLoader(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const r=e.loadAsync("basis_transcoder.js"),n=new t.FileLoader(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const s=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,s]).then((([e,t])=>{const r=zi.BasisWorker.toString(),n=["/* constants */","let _EngineFormat = "+JSON.stringify(zi.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(zi.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(zi.BasisFormat),"/* basis_transcoder.js */",e,"/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([n])),this.transcoderBinary=t,this.workerPool.setWorkerCreator((()=>{const e=new Worker(this.workerSourceURL),t=this.transcoderBinary.slice(0);return e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:t},[t]),e}))})),Di>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Di++}return this.transcoderPending}load(e,r,n,s){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new t.FileLoader(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const o=new t.CompressedTexture;return i.load(e,(e=>{if(Ii.has(e)){return Ii.get(e).promise.then(r).catch(s)}this._createTexture([e]).then((function(e){o.copy(e),o.needsUpdate=!0,r&&r(o)})).catch(s)}),n,s),o}_createTextureFrom(e){const{mipmaps:r,width:n,height:s,format:i,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=e;if("error"===o)return Promise.reject(a);const u=new t.CompressedTexture(r,n,s,i,t.UnsignedByteType);return u.minFilter=1===r.length?t.LinearFilter:t.LinearMipmapLinearFilter,u.magFilter=t.LinearFilter,u.generateMipmaps=!1,u.needsUpdate=!0,u.encoding=2===l?t.sRGBEncoding:t.LinearEncoding,u.premultiplyAlpha=!!(1&c),u}_createTexture(e,t={}){const r=t,n=this.init().then((()=>this.workerPool.postMessage({type:"transcode",buffers:e,taskConfig:r},e))).then((e=>this._createTextureFrom(e.data)));return Ii.set(e[0],{promise:n}),n}dispose(){return URL.revokeObjectURL(this.workerSourceURL),this.workerPool.dispose(),Di--,this}}zi.BasisFormat={ETC1S:0,UASTC_4x4:1},zi.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},zi.EngineFormat={RGBAFormat:t.RGBAFormat,RGBA_ASTC_4x4_Format:t.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:t.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:t.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:t.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:t.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:t.RGB_ETC1_Format,RGB_ETC2_Format:t.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:t.RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format:t.RGB_S3TC_DXT1_Format},zi.BasisWorker=function(){let e,t,r;const n=_EngineFormat,s=_TranscoderFormat,i=_BasisFormat;self.addEventListener("message",(function(o){const u=o.data;switch(u.type){case"init":e=u.config,h=u.transcoderBinary,t=new Promise((e=>{r={wasmBinary:h,onRuntimeInitialized:e},BASIS(r)})).then((()=>{r.initializeBasis(),void 0===r.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((()=>{try{const{width:t,height:o,hasAlpha:h,mipmaps:d,format:p,dfdTransferFn:f,dfdFlags:m}=function(t){const o=new r.KTX2File(new Uint8Array(t));function u(){o.close(),o.delete()}if(!o.isValid())throw u(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const h=o.isUASTC()?i.UASTC_4x4:i.ETC1S,d=o.getWidth(),p=o.getHeight(),f=o.getLevels(),m=o.getHasAlpha(),y=o.getDFDTransferFunc(),g=o.getDFDFlags(),{transcoderFormat:v,engineFormat:b}=function(t,r,o,u){let h,d;const p=t===i.ETC1S?a:l;for(let n=0;n<p.length;n++){const s=p[n];if(e[s.if]&&(s.basisFormat.includes(t)&&!(u&&s.transcoderFormat.length<2)&&(!s.needsPowerOfTwo||c(r)&&c(o))))return h=s.transcoderFormat[u?1:0],d=s.engineFormat[u?1:0],{transcoderFormat:h,engineFormat:d}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=s.RGBA32,d=n.RGBAFormat,{transcoderFormat:h,engineFormat:d}}(h,d,p,m);if(!d||!p||!f)throw u(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw u(),new Error("THREE.KTX2Loader: .startTranscoding failed");const w=[];for(let e=0;e<f;e++){const t=o.getImageLevelInfo(e,0,0),r=t.origWidth,n=t.origHeight,s=new Uint8Array(o.getImageTranscodedSizeInBytes(e,0,0,v));if(!o.transcodeImage(s,e,0,0,v,0,-1,-1))throw u(),new Error("THREE.KTX2Loader: .transcodeImage failed.");w.push({data:s,width:r,height:n})}return u(),{width:d,height:p,hasAlpha:m,mipmaps:w,format:b,dfdTransferFn:y,dfdFlags:g}}(u.buffers[0]),y=[];for(let e=0;e<d.length;++e)y.push(d[e].data.buffer);self.postMessage({type:"transcode",id:u.id,width:t,height:o,hasAlpha:h,mipmaps:d,format:p,dfdTransferFn:f,dfdFlags:m},y)}catch(e){console.error(e),self.postMessage({type:"error",id:u.id,error:e.message})}}))}var h}));const o=[{if:"astcSupported",basisFormat:[i.UASTC_4x4],transcoderFormat:[s.ASTC_4x4,s.ASTC_4x4],engineFormat:[n.RGBA_ASTC_4x4_Format,n.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.BC7_M5,s.BC7_M5],engineFormat:[n.RGBA_BPTC_Format,n.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.BC1,s.BC3],engineFormat:[n.RGB_S3TC_DXT1_Format,n.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.ETC1,s.ETC2],engineFormat:[n.RGB_ETC2_Format,n.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.ETC1],engineFormat:[n.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[i.ETC1S,i.UASTC_4x4],transcoderFormat:[s.PVRTC1_4_RGB,s.PVRTC1_4_RGBA],engineFormat:[n.RGB_PVRTC_4BPPV1_Format,n.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],a=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),l=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function c(e){return e<=2||0==(e&e-1)&&0!==e}};const Fi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ui=Object.keys,ji=Array.isArray;function Ni(e,t){return"object"!=typeof t||Ui(t).forEach((function(r){e[r]=t[r]})),e}"undefined"==typeof Promise||Fi.Promise||(Fi.Promise=Promise);const Vi=Object.getPrototypeOf,qi={}.hasOwnProperty;function Ki(e,t){return qi.call(e,t)}function Wi(e,t){"function"==typeof t&&(t=t(Vi(e))),("undefined"==typeof Reflect?Ui:Reflect.ownKeys)(t).forEach((r=>{Hi(e,r,t[r])}))}const Gi=Object.defineProperty;function Hi(e,t,r,n){Gi(e,t,Ni(r&&Ki(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function $i(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Hi(e.prototype,"constructor",e),{extend:Wi.bind(null,e.prototype)}}}}const Xi=Object.getOwnPropertyDescriptor;function Yi(e,t){let r;return Xi(e,t)||(r=Vi(e))&&Yi(r,t)}const Qi=[].slice;function Zi(e,t,r){return Qi.call(e,t,r)}function Ji(e,t){return t(e)}function eo(e){if(!e)throw new Error("Assertion Failed")}function to(e){Fi.setImmediate?setImmediate(e):setTimeout(e,0)}function ro(e,t){return e.reduce(((e,r,n)=>{var s=t(r,n);return s&&(e[s[0]]=s[1]),e}),{})}function no(e,t){if(Ki(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,s=t.length;n<s;++n){var i=no(e,t[n]);r.push(i)}return r}var o=t.indexOf(".");if(-1!==o){var a=e[t.substr(0,o)];return void 0===a?void 0:no(a,t.substr(o+1))}}function so(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){eo("string"!=typeof r&&"length"in r);for(var n=0,s=t.length;n<s;++n)so(e,t[n],r[n])}else{var i=t.indexOf(".");if(-1!==i){var o=t.substr(0,i),a=t.substr(i+1);if(""===a)void 0===r?ji(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var l=e[o];l||(l=e[o]={}),so(l,a,r)}}else void 0===r?ji(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function io(e){var t={};for(var r in e)Ki(e,r)&&(t[r]=e[r]);return t}const oo=[].concat;function ao(e){return oo.apply([],e)}const lo="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ao([8,16,32,64].map((e=>["Int","Uint","Float"].map((t=>t+e+"Array")))))).filter((e=>Fi[e])),co=lo.map((e=>Fi[e]));ro(lo,(e=>[e,!0]));let uo=null;function ho(e){uo="undefined"!=typeof WeakMap&&new WeakMap;const t=po(e);return uo=null,t}function po(e){if(!e||"object"!=typeof e)return e;let t=uo&&uo.get(e);if(t)return t;if(ji(e)){t=[],uo&&uo.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(po(e[r]))}else if(co.indexOf(e.constructor)>=0)t=e;else{const r=Vi(e);for(var s in t=r===Object.prototype?{}:Object.create(r),uo&&uo.set(e,t),e)Ki(e,s)&&(t[s]=po(e[s]))}return t}const{toString:fo}={};function mo(e){return fo.call(e).slice(8,-1)}const yo="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",go="symbol"==typeof yo?function(e){var t;return null!=e&&(t=e[yo])&&t.apply(e)}:function(){return null},vo={};function bo(e){var t,r,n,s;if(1===arguments.length){if(ji(e))return e.slice();if(this===vo&&"string"==typeof e)return[e];if(s=go(e)){for(r=[];!(n=s.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const wo="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var _o="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xo(e,t){_o=e,Eo=t}var Eo=()=>!0;const To=!new Error("").stack;function ko(){if(To)try{throw ko.arguments,new Error}catch(e){return e}return new Error}function So(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(Eo).map((e=>"\n"+e)).join("")):""}var Ro=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Co=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ro),Mo={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ao(e,t){this._e=ko(),this.name=e,this.message=t}function Po(e,t){return e+". Errors: "+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,r)=>r.indexOf(e)===t)).join("\n")}function Oo(e,t,r,n){this._e=ko(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Po(e,t)}function Lo(e,t){this._e=ko(),this.name="BulkError",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Po(e,t)}$i(Ao).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+So(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$i(Oo).from(Ao),$i(Lo).from(Ao);var Bo=Co.reduce(((e,t)=>(e[t]=t+"Error",e)),{});const Io=Ao;var Do=Co.reduce(((e,t)=>{var r=t+"Error";function n(e,n){this._e=ko(),this.name=r,e?"string"==typeof e?(this.message=`${e}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=Mo[t]||r,this.inner=null)}return $i(n).from(Io),e[t]=n,e}),{});Do.Syntax=SyntaxError,Do.Type=TypeError,Do.Range=RangeError;var zo=Ro.reduce(((e,t)=>(e[t+"Error"]=Do[t],e)),{});var Fo=Co.reduce(((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=Do[t]),e)),{});function Uo(){}function jo(e){return e}function No(e,t){return null==e||e===jo?t:function(r){return t(e(r))}}function Vo(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function qo(e,t){return e===Uo?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Vo(n,this.onsuccess):n),s&&(this.onerror=this.onerror?Vo(s,this.onerror):s),void 0!==i?i:r}}function Ko(e,t){return e===Uo?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Vo(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Vo(n,this.onerror):n)}}function Wo(e,t){return e===Uo?t:function(r){var n=e.apply(this,arguments);Ni(r,n);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Vo(s,this.onsuccess):s),i&&(this.onerror=this.onerror?Vo(i,this.onerror):i),void 0===n?void 0===o?void 0:o:Ni(n,o)}}function Go(e,t){return e===Uo?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function Ho(e,t){return e===Uo?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return r.then((function(){return t.apply(n,i)}))}return t.apply(this,arguments)}}Fo.ModifyError=Oo,Fo.DexieError=Ao,Fo.BulkError=Lo;var $o={};const[Xo,Yo,Qo]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,Vi(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Vi(t),e]})(),Zo=Yo&&Yo.then,Jo=Xo&&Xo.constructor,ea=!!Qo;var ta=!1,ra=Qo?()=>{Qo.then(ka)}:Fi.setImmediate?setImmediate.bind(null,ka):Fi.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver((()=>{ka(),e=null})).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ka,0)},na=function(e,t){da.push([e,t]),ia&&(ra(),ia=!1)},sa=!0,ia=!0,oa=[],aa=[],la=null,ca=jo,ua={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ya,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{Ya(e[0],e[1])}catch(e){}}))}},ha=ua,da=[],pa=0,fa=[];function ma(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Uo,this._lib=!1;var t=this._PSD=ha;if(_o&&(this._stackHolder=ko(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==$o)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ba(this,this._value))}this._state=null,this._value=null,++t.ref,va(this,e)}const ya={get:function(){var e=ha,t=Ia;function r(r,n){var s=!e.global&&(e!==ha||t!==Ia);const i=s&&!Ua();var o=new ma(((t,o)=>{_a(this,new ga(Ha(r,e,s,i),Ha(n,e,s,i),t,o,e))}));return _o&&Ta(o,this),o}return r.prototype=$o,r},set:function(e){Hi(this,"then",e&&e.prototype===$o?ya:{get:function(){return e},set:ya.set})}};function ga(e,t,r,n,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=s}function va(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Sa();t&&"function"==typeof t.then?va(e,((e,r)=>{t instanceof ma?t._then(e,r):t.then(e,r)})):(e._state=!0,e._value=t,wa(e)),r&&Ra()}}),ba.bind(null,e))}catch(t){ba(e,t)}}function ba(e,t){if(aa.push(t),null===e._state){var r=e._lib&&Sa();t=ca(t),e._state=!1,e._value=t,_o&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,r){try{e.apply(null,r)}catch(e){t&&t(e)}}((()=>{var r=Yi(t,"stack");t._promise=e,Hi(t,"stack",{get:()=>ta?r&&(r.get?r.get.apply(t):r.value):e.stack})})),function(e){oa.some((t=>t._value===e._value))||oa.push(e)}(e),wa(e),r&&Ra()}}function wa(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)_a(e,t[r]);var s=e._PSD;--s.ref||s.finalize(),0===pa&&(++pa,na((()=>{0==--pa&&Ca()}),[]))}function _a(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++pa,na(xa,[r,e,t])}else e._listeners.push(t)}function xa(e,t,r){try{la=t;var n,s=t._value;t._state?n=e(s):(aa.length&&(aa=[]),n=e(s),-1===aa.indexOf(s)&&function(e){var t=oa.length;for(;t;)if(oa[--t]._value===e._value)return void oa.splice(t,1)}(t)),r.resolve(n)}catch(e){r.reject(e)}finally{la=null,0==--pa&&Ca(),--r.psd.ref||r.psd.finalize()}}function Ea(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var s,i,o=e._value;null!=o?(s=o.name||"Error",i=o.message||o,n=So(o,0)):(s=o,i=""),t.push(s+(i?": "+i:"")+n)}return _o&&((n=So(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&Ea(e._prev,t,r)),t}function Ta(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function ka(){Sa()&&Ra()}function Sa(){var e=sa;return sa=!1,ia=!1,e}function Ra(){var e,t,r;do{for(;da.length>0;)for(e=da,da=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}while(da.length>0);sa=!0,ia=!0}function Ca(){var e=oa;oa=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=fa.slice(0),r=t.length;r;)t[--r]()}function Ma(e){return new ma($o,!1,e)}function Aa(e,t){var r=ha;return function(){var n=Sa(),s=ha;try{return qa(r,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{qa(s,!1),n&&Ra()}}}Wi(ma.prototype,{then:ya,_then:function(e,t){_a(this,new ga(null,null,e,t,ha))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,(e=>e instanceof t?r(e):Ma(e))):this.then(null,(e=>e&&e.name===t?r(e):Ma(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),Ma(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ta=!0;var e=Ea(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{ta=!1}}},timeout:function(e,t){return e<1/0?new ma(((r,n)=>{var s=setTimeout((()=>n(new Do.Timeout(t))),e);this.then(r,n).finally(clearTimeout.bind(null,s))})):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&Hi(ma.prototype,Symbol.toStringTag,"Dexie.Promise"),ua.env=Ka(),Wi(ma,{all:function(){var e=bo.apply(null,arguments).map(ja);return new ma((function(t,r){0===e.length&&t([]);var n=e.length;e.forEach(((s,i)=>ma.resolve(s).then((r=>{e[i]=r,--n||t(e)}),r)))}))},resolve:e=>{if(e instanceof ma)return e;if(e&&"function"==typeof e.then)return new ma(((t,r)=>{e.then(t,r)}));var t=new ma($o,!0,e);return Ta(t,la),t},reject:Ma,race:function(){var e=bo.apply(null,arguments).map(ja);return new ma(((t,r)=>{e.map((e=>ma.resolve(e).then(t,r)))}))},PSD:{get:()=>ha,set:e=>ha=e},totalEchoes:{get:()=>Ia},newPSD:za,usePSD:Wa,scheduler:{get:()=>na,set:e=>{na=e}},rejectionMapper:{get:()=>ca,set:e=>{ca=e}},follow:(e,t)=>new ma(((r,n)=>za(((t,r)=>{var n=ha;n.unhandleds=[],n.onunhandled=r,n.finalize=Vo((function(){!function(e){function t(){e(),fa.splice(fa.indexOf(t),1)}fa.push(t),++pa,na((()=>{0==--pa&&Ca()}),[])}((()=>{0===this.unhandleds.length?t():r(this.unhandleds[0])}))}),n.finalize),e()}),t,r,n)))}),Jo&&(Jo.allSettled&&Hi(ma,"allSettled",(function(){const e=bo.apply(null,arguments).map(ja);return new ma((t=>{0===e.length&&t([]);let r=e.length;const n=new Array(r);e.forEach(((e,s)=>ma.resolve(e).then((e=>n[s]={status:"fulfilled",value:e}),(e=>n[s]={status:"rejected",reason:e})).then((()=>--r||t(n)))))}))})),Jo.any&&"undefined"!=typeof AggregateError&&Hi(ma,"any",(function(){const e=bo.apply(null,arguments).map(ja);return new ma(((t,r)=>{0===e.length&&r(new AggregateError([]));let n=e.length;const s=new Array(n);e.forEach(((e,i)=>ma.resolve(e).then((e=>t(e)),(e=>{s[i]=e,--n||r(new AggregateError(s))}))))}))})));const Pa={awaits:0,echoes:0,id:0};var Oa=0,La=[],Ba=0,Ia=0,Da=0;function za(e,t,r,n){var s=ha,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++Da;var o=ua.env;i.env=ea?{Promise:ma,PromiseProp:{value:ma,configurable:!0,writable:!0},all:ma.all,race:ma.race,allSettled:ma.allSettled,any:ma.any,resolve:ma.resolve,reject:ma.reject,nthen:$a(o.nthen,i),gthen:$a(o.gthen,i)}:{},t&&Ni(i,t),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=Wa(i,e,r,n);return 0===i.ref&&i.finalize(),a}function Fa(){return Pa.id||(Pa.id=++Oa),++Pa.awaits,Pa.echoes+=100,Pa.id}function Ua(){return!!Pa.awaits&&(0==--Pa.awaits&&(Pa.id=0),Pa.echoes=100*Pa.awaits,!0)}function ja(e){return Pa.echoes&&e&&e.constructor===Jo?(Fa(),e.then((e=>(Ua(),e)),(e=>(Ua(),Qa(e))))):e}function Na(e){++Ia,Pa.echoes&&0!=--Pa.echoes||(Pa.echoes=Pa.id=0),La.push(ha),qa(e,!0)}function Va(){var e=La[La.length-1];La.pop(),qa(e,!1)}function qa(e,t){var r=ha;if((t?!Pa.echoes||Ba++&&e===ha:!Ba||--Ba&&e===ha)||Ga(t?Na.bind(null,e):Va),e!==ha&&(ha=e,r===ua&&(ua.env=Ka()),ea)){var n=ua.env.Promise,s=e.env;Yo.then=s.nthen,n.prototype.then=s.gthen,(r.global||e.global)&&(Object.defineProperty(Fi,"Promise",s.PromiseProp),n.all=s.all,n.race=s.race,n.resolve=s.resolve,n.reject=s.reject,s.allSettled&&(n.allSettled=s.allSettled),s.any&&(n.any=s.any))}}function Ka(){var e=Fi.Promise;return ea?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(Fi,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Yo.then,gthen:e.prototype.then}:{}}function Wa(e,t,r,n,s){var i=ha;try{return qa(e,!0),t(r,n,s)}finally{qa(i,!1)}}function Ga(e){Zo.call(Xo,e)}function Ha(e,t,r,n){return"function"!=typeof e?e:function(){var s=ha;r&&Fa(),qa(t,!0);try{return e.apply(this,arguments)}finally{qa(s,!1),n&&Ga(Ua)}}}function $a(e,t){return function(r,n){return e.call(this,Ha(r,t),Ha(n,t))}}-1===(""+Zo).indexOf("[native code]")&&(Fa=Ua=Uo);const Xa="unhandledrejection";function Ya(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(!1!==r)try{var n,s={promise:t,reason:e};if(Fi.document&&document.createEvent?((n=document.createEvent("Event")).initEvent(Xa,!0,!0),Ni(n,s)):Fi.CustomEvent&&Ni(n=new CustomEvent(Xa,{detail:s}),s),n&&Fi.dispatchEvent&&(dispatchEvent(n),!Fi.PromiseRejectionEvent&&Fi.onunhandledrejection))try{Fi.onunhandledrejection(n)}catch(e){}_o&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var Qa=ma.reject;function Za(e,t,r,n){if(e.idbdb&&(e._state.openComplete||ha.letThrough||e._vip)){var s=e._createTransaction(t,r,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===Bo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>Za(e,t,r,n)))):Qa(s)}return s._promise(t,((e,t)=>za((()=>(ha.trans=s,n(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return Qa(new Do.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Qa(new Do.DatabaseClosed);e.open().catch(Uo)}return e._state.dbReadyPromise.then((()=>Za(e,t,r,n)))}const Ja="3.2.1",el=String.fromCharCode(65535),tl=-1/0,rl="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",nl="String expected.",sl=[],il="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ol=il,al=il,ll=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),cl="__dbnames",ul="readonly",hl="readwrite";function dl(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const pl={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function fl(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=ho(t))[e],t)}class ml{_trans(e,t,r){const n=this._tx||ha.trans,s=this.name;function i(e,r,n){if(!n.schema[s])throw new Do.NotFound("Table "+s+" not part of transaction");return t(n.idbtrans,n)}const o=Sa();try{return n&&n.db===this.db?n===ha.trans?n._promise(e,i,r):za((()=>n._promise(e,i,r)),{trans:n,transless:ha.transless||ha}):Za(this.db,e,[this.name],i)}finally{o&&Ra()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(ji(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=Ui(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&t.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>t.indexOf(e)>=0))))[0];if(r&&this.db._maxKey!==el)return this.where(r.name).equals(r.keyPath.map((t=>e[t])));!r&&_o&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:n}=this.schema,s=this.db._deps.indexedDB;function i(e,t){try{return 0===s.cmp(e,t)}catch(e){return!1}}const[o,a]=t.reduce((([t,r],s)=>{const o=n[s],a=e[s];return[t||o,t||!o?dl(r,o&&o.multi?e=>{const t=no(e,s);return ji(t)&&t.some((e=>i(a,e)))}:e=>i(a,no(e,s))):r]}),[null,null]);return o?this.where(o.name).equals(e[o.keyPath]).filter(a):r?this.filter(a):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ji(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const r=Object.create(e.prototype);for(var n in t)if(Ki(t,n))try{r[n]=t[n]}catch(e){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass((function(e){Ni(this,e)}))}add(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let s=e;return n&&r&&(s=fl(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?ma.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{so(e,n,t)}catch(e){}return t}))}update(e,t){if("object"!=typeof e||ji(e))return this.where(":id").equals(e).modify(t);{const r=no(e,this.schema.primKey.keyPath);if(void 0===r)return Qa(new Do.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?Ui(t).forEach((r=>{so(e,r,t[r])})):t(e,{value:e,primKey:r})}catch(e){}return this.where(":id").equals(r).modify(t)}}put(e,t){const{auto:r,keyPath:n}=this.schema.primKey;let s=e;return n&&r&&(s=fl(n)(e)),this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?ma.reject(e.failures[0]):e.lastResult)).then((t=>{if(n)try{so(e,n,t)}catch(e){}return t}))}delete(e){return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:[e]}))).then((e=>e.numFailures?ma.reject(e.failures[0]):void 0))}clear(){return this._trans("readwrite",(e=>this.core.mutate({trans:e,type:"deleteRange",range:pl}))).then((e=>e.numFailures?ma.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans("readonly",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,r){const n=Array.isArray(t)?t:void 0,s=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:i}=this.schema.primKey;if(i&&n)throw new Do.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new Do.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let a=i&&r?e.map(fl(i)):e;return this.core.mutate({trans:t,type:"add",keys:n,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return s?t:r;throw new Lo(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,n)}))}))}bulkPut(e,t,r){const n=Array.isArray(t)?t:void 0,s=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",(t=>{const{auto:r,keyPath:i}=this.schema.primKey;if(i&&n)throw new Do.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new Do.InvalidArgument("Arguments objects and keys must have the same length");const o=e.length;let a=i&&r?e.map(fl(i)):e;return this.core.mutate({trans:t,type:"put",keys:n,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return s?t:r;throw new Lo(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,n)}))}))}bulkDelete(e){const t=e.length;return this._trans("readwrite",(t=>this.core.mutate({trans:t,type:"delete",keys:e}))).then((({numFailures:e,lastResult:r,failures:n})=>{if(0===e)return r;throw new Lo(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,n)}))}}function yl(e){var t={},r=function(r,n){if(n){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return t[r].subscribe.apply(null,i),e}if("string"==typeof r)return t[r]};r.addEventType=i;for(var n=1,s=arguments.length;n<s;++n)i(arguments[n]);return r;function i(e,n,s){if("object"==typeof e)return o(e);n||(n=Go),s||(s=Uo);var i={subscribers:[],fire:s,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=n(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter((function(t){return t!==e})),i.fire=i.subscribers.reduce(n,s)}};return t[e]=r[e]=i,i}function o(e){Ui(e).forEach((function(t){var r=e[t];if(ji(r))i(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new Do.InvalidArgument("Invalid event config");var n=i(t,jo,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach((function(e){to((function(){e.apply(null,t)}))}))}))}}))}}function gl(e,t){return $i(t).from({prototype:e}),t}function vl(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function bl(e,t){e.filter=dl(e.filter,t)}function wl(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>dl(n(),t()):t,e.justLimit=r&&!n}function _l(e,t){if(e.isPrimKey)return t.primaryKey;const r=t.getIndexByKeyPath(e.index);if(!r)throw new Do.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function xl(e,t,r){const n=_l(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function El(e,t,r,n){const s=e.replayFilter?dl(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},o=(e,r,n)=>{if(!s||s(r,n,(e=>r.stop(e)),(e=>r.fail(e)))){var o=r.primaryKey,a=""+o;"[object ArrayBuffer]"===a&&(a=""+new Uint8Array(o)),Ki(i,a)||(i[a]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(o,r),Tl(xl(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}return Tl(xl(e,n,r),dl(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function Tl(e,t,r,n){var s=n?(e,t,s)=>r(n(e),t,s):r,i=Aa(s);return e.then((e=>{if(e)return e.start((()=>{var r=()=>e.continue();t&&!t(e,(e=>r=e),(t=>{e.stop(t),r=Uo}),(t=>{e.fail(t),r=Uo}))||i(e.value,e,(e=>r=e)),r()}))}))}function kl(e,t){try{const r=Sl(e),n=Sl(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const r=e.length,n=t.length,s=r<n?r:n;for(let r=0;r<s;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return r===n?0:r<n?-1:1}(Rl(e),Rl(t));case"Array":return function(e,t){const r=e.length,n=t.length,s=r<n?r:n;for(let r=0;r<s;++r){const n=kl(e[r],t[r]);if(0!==n)return n}return r===n?0:r<n?-1:1}(e,t)}}catch(e){}return NaN}function Sl(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const r=mo(e);return"ArrayBuffer"===r?"binary":r}function Rl(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Cl{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,Qa.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,Qa.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=dl(t.algorithm,e)}_iterate(e,t){return El(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Ni(r,e),t._ctx=r,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((r=>El(t,e,r,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,r=t.table.core;if(vl(t,!0))return r.count({trans:e,query:{index:_l(t,r.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var n=0;return El(t,(()=>(++n,!1)),e,r).then((()=>n))})).then(e)}sortBy(e,t){const r=e.split(".").reverse(),n=r[0],s=r.length-1;function i(e,t){return t?i(e[r[t]],t-1):e[n]}var o="next"===this._ctx.dir?1:-1;function a(e,t){var r=i(e,s),n=i(t,s);return r<n?-o:r>n?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if("next"===t.dir&&vl(t,!0)&&t.limit>0){const{valueMapper:r}=t,n=_l(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:n,range:t.range}}).then((({result:e})=>r?e.map(r):e))}{const r=[];return El(t,(e=>r.push(e)),e,t.table.core).then((()=>r))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,vl(t)?wl(t,(()=>{var t=e;return(e,r)=>0===t||(1===t?(--t,!1):(r((()=>{e.advance(t),t=0})),!1))})):wl(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),wl(this._ctx,(()=>{var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}}),!0),this}until(e,t){return bl(this._ctx,(function(r,n,s){return!e(r.value)||(n(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,r;return bl(this._ctx,(function(t){return e(t.value)})),t=this._ctx,r=e,t.isMatch=dl(t.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.key,r)}))}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,r){e(r.primaryKey,r)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.key)})).then((function(){return r})).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&vl(t,!0)&&t.limit>0)return this._read((e=>{var r=_l(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each((function(e,t){r.push(t.primaryKey)})).then((function(){return r})).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return bl(this._ctx,(function(e){var t=e.primaryKey.toString(),n=Ki(r,t);return r[t]=!0,!n})),this}modify(e){var t=this._ctx;return this._write((r=>{var n;if("function"==typeof e)n=e;else{var s=Ui(e),i=s.length;n=function(t){for(var r=!1,n=0;n<i;++n){var o=s[n],a=e[o];no(t,o)!==a&&(so(t,o,a),r=!0)}return r}}const o=t.table.core,{outbound:a,extractKey:l}=o.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let h=0;const d=[],p=(e,t)=>{const{failures:r,numFailures:n}=t;h+=e-n;for(let e of Ui(r))u.push(r[e])};return this.clone().primaryKeys().then((s=>{const i=u=>{const h=Math.min(c,s.length-u);return o.getMany({trans:r,keys:s.slice(u,u+h),cache:"immutable"}).then((d=>{const f=[],m=[],y=a?[]:null,g=[];for(let e=0;e<h;++e){const t=d[e],r={value:ho(t),primKey:s[u+e]};!1!==n.call(r,r.value,r)&&(null==r.value?g.push(s[u+e]):a||0===kl(l(t),l(r.value))?(m.push(r.value),a&&y.push(s[u+e])):(g.push(s[u+e]),f.push(r.value)))}const v=vl(t)&&t.limit===1/0&&("function"!=typeof e||e===Ml)&&{index:t.index,range:t.range};return Promise.resolve(f.length>0&&o.mutate({trans:r,type:"add",values:f}).then((e=>{for(let t in e.failures)g.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(m.length>0||v&&"object"==typeof e)&&o.mutate({trans:r,type:"put",keys:y,values:m,criteria:v,changeSpec:"function"!=typeof e&&e}).then((e=>p(m.length,e))))).then((()=>(g.length>0||v&&e===Ml)&&o.mutate({trans:r,type:"delete",keys:g,criteria:v}).then((e=>p(g.length,e))))).then((()=>s.length>u+h&&i(u+c)))}))};return i(0).then((()=>{if(u.length>0)throw new Oo("Error modifying one or more objects",u,h,d);return s.length}))}))}))}delete(){var e=this._ctx,t=e.range;return vl(e)&&(e.isPrimKey&&!al||3===t.type)?this._write((r=>{const{primaryKey:n}=e.table.core.schema,s=t;return e.table.core.count({trans:r,query:{index:n,range:s}}).then((t=>e.table.core.mutate({trans:r,type:"deleteRange",range:s}).then((({failures:e,lastResult:r,results:n,numFailures:s})=>{if(s)throw new Oo("Could not delete some values",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Ml)}}const Ml=(e,t)=>t.value=null;function Al(e,t){return e<t?-1:e===t?0:1}function Pl(e,t){return e>t?-1:e===t?0:1}function Ol(e,t,r){var n=e instanceof Fl?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Ll(e){return new e.Collection(e,(()=>zl(""))).limit(0)}function Bl(e,t,r,n,s,i){for(var o=Math.min(e.length,n.length),a=-1,l=0;l<o;++l){var c=t[l];if(c!==n[l])return s(e[l],r[l])<0?e.substr(0,l)+r[l]+r.substr(l+1):s(e[l],n[l])<0?e.substr(0,l)+n[l]+r.substr(l+1):a>=0?e.substr(0,a)+t[a]+r.substr(a+1):null;s(e[l],c)<0&&(a=l)}return o<n.length&&"next"===i?e+r.substr(e.length):o<e.length&&"prev"===i?e.substr(0,r.length):a<0?null:e.substr(0,a)+n[a]+r.substr(a+1)}function Il(e,t,r,n){var s,i,o,a,l,c,u,h=r.length;if(!r.every((e=>"string"==typeof e)))return Ol(e,nl);function d(e){s=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o="next"===e?Al:Pl;var t=r.map((function(e){return{lower:i(e),upper:s(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),l=t.map((function(e){return e.lower})),c=e,u="next"===e?"":n}d("next");var p=new e.Collection(e,(()=>Dl(a[0],l[h-1]+n)));p._ondirectionchange=function(e){d(e)};var f=0;return p._addAlgorithm((function(e,r,n){var s=e.key;if("string"!=typeof s)return!1;var d=i(s);if(t(d,l,f))return!0;for(var p=null,m=f;m<h;++m){var y=Bl(s,d,a[m],l[m],o,c);null===y&&null===p?f=m+1:(null===p||o(p,y)>0)&&(p=y)}return r(null!==p?function(){e.continue(p+u)}:n),!1})),p}function Dl(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function zl(e){return{type:1,lower:e,upper:e}}class Fl{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?Ll(this):new this.Collection(this,(()=>Dl(e,t,!r,!n)))}catch(e){return Ol(this,rl)}}equals(e){return null==e?Ol(this,rl):new this.Collection(this,(()=>zl(e)))}above(e){return null==e?Ol(this,rl):new this.Collection(this,(()=>Dl(e,void 0,!0)))}aboveOrEqual(e){return null==e?Ol(this,rl):new this.Collection(this,(()=>Dl(e,void 0,!1)))}below(e){return null==e?Ol(this,rl):new this.Collection(this,(()=>Dl(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Ol(this,rl):new this.Collection(this,(()=>Dl(void 0,e)))}startsWith(e){return"string"!=typeof e?Ol(this,nl):this.between(e,e+el,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):Il(this,((e,t)=>0===e.indexOf(t[0])),[e],el)}equalsIgnoreCase(e){return Il(this,((e,t)=>e===t[0]),[e],"")}anyOfIgnoreCase(){var e=bo.apply(vo,arguments);return 0===e.length?Ll(this):Il(this,((e,t)=>-1!==t.indexOf(e)),e,"")}startsWithAnyOfIgnoreCase(){var e=bo.apply(vo,arguments);return 0===e.length?Ll(this):Il(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,el)}anyOf(){const e=bo.apply(vo,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Ol(this,rl)}if(0===e.length)return Ll(this);const r=new this.Collection(this,(()=>Dl(e[0],e[e.length-1])));r._ondirectionchange=r=>{t="next"===r?this._ascending:this._descending,e.sort(t)};let n=0;return r._addAlgorithm(((r,s,i)=>{const o=r.key;for(;t(o,e[n])>0;)if(++n,n===e.length)return s(i),!1;return 0===t(o,e[n])||(s((()=>{r.continue(e[n])})),!1)})),r}notEqual(e){return this.inAnyRange([[tl,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=bo.apply(vo,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Ol(this,rl)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[tl,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const r=this._cmp,n=this._ascending,s=this._descending,i=this._min,o=this._max;if(0===e.length)return Ll(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&n(e[0],e[1])<=0)))return Ol(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Do.InvalidArgument);const a=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers;let c,u=n;function h(e,t){return u(e[0],t[0])}try{c=e.reduce((function(e,t){let n=0,s=e.length;for(;n<s;++n){const s=e[n];if(r(t[0],s[1])<0&&r(t[1],s[0])>0){s[0]=i(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return n===s&&e.push(t),e}),[]),c.sort(h)}catch(e){return Ol(this,rl)}let d=0;const p=l?e=>n(e,c[d][1])>0:e=>n(e,c[d][1])>=0,f=a?e=>s(e,c[d][0])>0:e=>s(e,c[d][0])>=0;let m=p;const y=new this.Collection(this,(()=>Dl(c[0][0],c[c.length-1][1],!a,!l)));return y._ondirectionchange=e=>{"next"===e?(m=p,u=n):(m=f,u=s),c.sort(h)},y._addAlgorithm(((e,t,r)=>{for(var s=e.key;m(s);)if(++d,d===c.length)return t(r),!1;return!!function(e){return!p(e)&&!f(e)}(s)||(0===this._cmp(s,c[d][1])||0===this._cmp(s,c[d][0])||t((()=>{u===n?e.continue(c[d][0]):e.continue(c[d][1])})),!1)})),y}startsWithAnyOf(){const e=bo.apply(vo,arguments);return e.every((e=>"string"==typeof e))?0===e.length?Ll(this):this.inAnyRange(e.map((e=>[e,e+el]))):Ol(this,"startsWithAnyOf() only works with strings")}}function Ul(e){return Aa((function(t){return jl(t),e(t.target.error),!1}))}function jl(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const Nl="storagemutated",Vl="x-storagemutated-1",ql=yl(null,Nl);class Kl{_lock(){return eo(!ha.global),++this._reculock,1!==this._reculock||ha.global||(ha.lockOwnerFor=this),this}_unlock(){if(eo(!ha.global),0==--this._reculock)for(ha.global||(ha.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{Wa(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&ha.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,r=this.db._state.dbOpenError;if(eo(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new Do.DatabaseClosed(r);case"MissingAPIError":throw new Do.MissingAPI(r.message,r);default:throw new Do.OpenFailed(r)}if(!this.active)throw new Do.TransactionInactive;return eo(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Aa((t=>{jl(t),this._reject(e.error)})),e.onabort=Aa((t=>{jl(t),this.active&&this._reject(new Do.Abort(e.error)),this.active=!1,this.on("abort").fire(t)})),e.oncomplete=Aa((()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&ql.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,r){if("readwrite"===e&&"readwrite"!==this.mode)return Qa(new Do.ReadOnly("Transaction is readonly"));if(!this.active)return Qa(new Do.TransactionInactive);if(this._locked())return new ma(((n,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(n,s)},ha])}));if(r)return za((()=>{var e=new ma(((e,r)=>{this._lock();const n=t(e,r,this);n&&n.then&&n.then(e,r)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var n=new ma(((e,r)=>{var n=t(e,r,this);n&&n.then&&n.then(e,r)}));return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const r=ma.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>r));else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new ma(((e,n)=>{r.then((r=>t._waitingQueue.push(Aa(e.bind(null,r)))),(e=>t._waitingQueue.push(Aa(n.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Do.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(Ki(t,e))return t[e];const r=this.schema[e];if(!r)throw new Do.NotFound("Table "+e+" not part of transaction");const n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n}}function Wl(e,t,r,n,s,i,o){return{name:e,keyPath:t,unique:r,multi:n,auto:s,compound:i,src:(r&&!o?"&":"")+(n?"*":"")+(s?"++":"")+Gl(t)}}function Gl(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Hl(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:ro(r,(e=>[e.name,e]))}}let $l=e=>{try{return e.only([[]]),$l=()=>[[]],[[]]}catch(e){return $l=()=>el,el}};function Xl(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>no(t,e)}(e):t=>no(t,e)}function Yl(e){return[].slice.call(e)}let Ql=0;function Zl(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Jl(e,t,r){function n(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:r,upper:n,lowerOpen:s,upperOpen:i}=e;return void 0===r?void 0===n?null:t.upperBound(n,!!i):void 0===n?t.lowerBound(r,!!s):t.bound(r,n,!!s,!!i)}const{schema:s,hasGetAll:i}=function(e,t){const r=Yl(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,n=ji(t),s=null==t,i={},o={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:s,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:Xl(t)},indexes:Yl(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:n,keyPath:s}=e,o={name:t,compound:ji(s),keyPath:s,unique:r,multiEntry:n,extractKey:Xl(s)};return i[Zl(s)]=o,o})),getIndexByKeyPath:e=>i[Zl(e)]};return i[":id"]=o.primaryKey,null!=t&&(i[Zl(t)]=o.primaryKey),o}))},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),o=s.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:r,keys:s,values:i,range:o}){return new Promise(((a,l)=>{a=Aa(a);const c=e.objectStore(t),u=null==c.keyPath,h="put"===r||"add"===r;if(!h&&"delete"!==r&&"deleteRange"!==r)throw new Error("Invalid operation type: "+r);const{length:d}=s||i||{length:1};if(s&&i&&s.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let p;const f=[],m=[];let y=0;const g=e=>{++y,jl(e)};if("deleteRange"===r){if(4===o.type)return a({numFailures:y,failures:m,results:[],lastResult:void 0});3===o.type?f.push(p=c.clear()):f.push(p=c.delete(n(o)))}else{const[e,t]=h?u?[i,s]:[i,null]:[s,null];if(h)for(let n=0;n<d;++n)f.push(p=t&&void 0!==t[n]?c[r](e[n],t[n]):c[r](e[n])),p.onerror=g;else for(let t=0;t<d;++t)f.push(p=c[r](e[t])),p.onerror=g}const v=e=>{const t=e.target.result;f.forEach(((e,t)=>null!=e.error&&(m[t]=e.error))),a({numFailures:y,failures:m,results:"delete"===r?s:f.map((e=>e.result)),lastResult:t})};p.onerror=e=>{g(e),v(e)},p.onsuccess=v}))},getMany:({trans:e,keys:r})=>new Promise(((n,s)=>{n=Aa(n);const i=e.objectStore(t),o=r.length,a=new Array(o);let l,c=0,u=0;const h=e=>{const t=e.target;a[t._pos]=t.result,++u===c&&n(a)},d=Ul(s);for(let e=0;e<o;++e)null!=r[e]&&(l=i.get(r[e]),l._pos=e,l.onsuccess=h,l.onerror=d,++c);0===c&&n(a)})),get:({trans:e,key:r})=>new Promise(((n,s)=>{n=Aa(n);const i=e.objectStore(t).get(r);i.onsuccess=e=>n(e.target.result),i.onerror=Ul(s)})),query:function(e){return r=>new Promise(((s,i)=>{s=Aa(s);const{trans:o,values:a,limit:l,query:c}=r,u=l===1/0?void 0:l,{index:h,range:d}=c,p=o.objectStore(t),f=h.isPrimaryKey?p:p.index(h.name),m=n(d);if(0===l)return s({result:[]});if(e){const e=a?f.getAll(m,u):f.getAllKeys(m,u);e.onsuccess=e=>s({result:e.target.result}),e.onerror=Ul(i)}else{let e=0;const t=a||!("openKeyCursor"in f)?f.openCursor(m):f.openKeyCursor(m),r=[];t.onsuccess=n=>{const i=t.result;return i?(r.push(a?i.value:i.primaryKey),++e===l?s({result:r}):void i.continue()):s({result:r})},t.onerror=Ul(i)}}))}(i),openCursor:function({trans:e,values:r,query:s,reverse:i,unique:o}){return new Promise(((a,l)=>{a=Aa(a);const{index:c,range:u}=s,h=e.objectStore(t),d=c.isPrimaryKey?h:h.index(c.name),p=i?o?"prevunique":"prev":o?"nextunique":"next",f=r||!("openKeyCursor"in d)?d.openCursor(n(u),p):d.openKeyCursor(n(u),p);f.onerror=Ul(l),f.onsuccess=Aa((t=>{const r=f.result;if(!r)return void a(null);r.___id=++Ql,r.done=!1;const n=r.continue.bind(r);let s=r.continuePrimaryKey;s&&(s=s.bind(r));const i=r.advance.bind(r),o=()=>{throw new Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw new Error("Cursor not started")},r.fail=Aa(l),r.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},r.start=e=>{const t=new Promise(((e,t)=>{e=Aa(e),f.onerror=Ul(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=o,e(t)}})),a=()=>{if(f.result)try{e()}catch(e){r.fail(e)}else r.done=!0,r.start=()=>{throw new Error("Cursor behind last entry")},r.stop()};return f.onsuccess=Aa((e=>{f.onsuccess=a,a()})),r.continue=n,r.continuePrimaryKey=s,r.advance=i,a(),t},a(r)}),l)}))},count({query:e,trans:r}){const{index:s,range:i}=e;return new Promise(((e,o)=>{const a=r.objectStore(t),l=s.isPrimaryKey?a:a.index(s.name),c=n(i),u=c?l.count(c):l.count();u.onsuccess=Aa((t=>e(t.target.result))),u.onerror=Ul(o)}))}}}(e))),a={};return o.forEach((e=>a[e.name]=e)),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!a[e])throw new Error(`Table '${e}' not found`);return a[e]},MIN_KEY:-1/0,MAX_KEY:$l(t),schema:s}}function ec({_novip:e},t){const r=t.db,n=function(e,t,{IDBKeyRange:r,indexedDB:n},s){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(Jl(t,r,s),e.dbcore);return{dbcore:i}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach((t=>{const r=t.name;e.core.schema.tables.some((e=>e.name===r))&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))}))}function tc({_novip:e},t,r,n){r.forEach((r=>{const s=n[r];t.forEach((t=>{const n=Yi(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?Hi(t,r,{get(){return this.table(r)},set(e){Gi(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,s))}))}))}function rc({_novip:e},t){t.forEach((t=>{for(let r in t)t[r]instanceof e.Table&&delete t[r]}))}function nc(e,t){return e._cfg.version-t._cfg.version}function sc(e,t,r,n){const s=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,s);i.create(r),i._completion.catch(n);const o=i._reject.bind(i),a=ha.transless||ha;za((()=>{ha.trans=i,ha.transless=a,0===t?(Ui(s).forEach((e=>{oc(r,e,s[e].primKey,s[e].indexes)})),ec(e,r),ma.follow((()=>e.on.populate.fire(i))).catch(o)):function({_novip:e},t,r,n){const s=[],i=e._versions;let o=e._dbSchema=lc(e,e.idbdb,n),a=!1;function l(){return s.length?ma.resolve(s.shift()(r.idbtrans)).then(l):ma.resolve()}return i.filter((e=>e._cfg.version>=t)).forEach((i=>{s.push((()=>{const s=o,l=i._cfg.dbschema;cc(e,s,n),cc(e,l,n),o=e._dbSchema=l;const c=ic(s,l);c.add.forEach((e=>{oc(n,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new Do.Upgrade("Not yet support for changing primary key");{const t=n.objectStore(e.name);e.add.forEach((e=>ac(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),ac(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const u=i._cfg.contentUpgrade;if(u&&i._cfg.version>t){ec(e,n),r._memoizedTables={},a=!0;let t=io(l);c.del.forEach((e=>{t[e]=s[e]})),rc(e,[e.Transaction.prototype]),tc(e,[e.Transaction.prototype],Ui(t),t),r.schema=t;const i=wo(u);let o;i&&Fa();const h=ma.follow((()=>{if(o=u(r),o&&i){var e=Ua.bind(null,null);o.then(e,e)}}));return o&&"function"==typeof o.then?ma.resolve(o):h.then((()=>o))}})),s.push((t=>{if(!a||!ol){!function(e,t){[].slice.call(t.db.objectStoreNames).forEach((r=>null==e[r]&&t.db.deleteObjectStore(r)))}(i._cfg.dbschema,t)}rc(e,[e.Transaction.prototype]),tc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),l().then((()=>{var e,t;t=n,Ui(e=o).forEach((r=>{t.db.objectStoreNames.contains(r)||oc(t,r,e[r].primKey,e[r].indexes)}))}))}(e,t,i,r).catch(o)}))}function ic(e,t){const r={del:[],add:[],change:[]};let n;for(n in e)t[n]||r.del.push(n);for(n in t){const s=e[n],i=t[n];if(s){const e={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!il)e.recreate=!0,r.change.push(e);else{const t=s.idxByName,n=i.idxByName;let o;for(o in t)n[o]||e.del.push(o);for(o in n){const r=t[o],s=n[o];r?r.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&r.change.push(e)}}else r.add.push([n,i])}return r}function oc(e,t,r,n){const s=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach((e=>ac(s,e))),s}function ac(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function lc(e,t,r){const n={};return Zi(t.objectStoreNames,0).forEach((e=>{const t=r.objectStore(e);let s=t.keyPath;const i=Wl(Gl(s),s||"",!1,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const r=t.index(t.indexNames[e]);s=r.keyPath;var a=Wl(r.name,s,!!r.unique,!!r.multiEntry,!1,s&&"string"!=typeof s,!1);o.push(a)}n[e]=Hl(e,i,o)})),n}function cc({_novip:e},t,r){const n=r.db.objectStoreNames;for(let s=0;s<n.length;++s){const i=n[s],o=r.objectStore(i);e._hasGetAll="getAll"in o;for(let e=0;e<o.indexNames.length;++e){const r=o.indexNames[e],n=o.index(r).keyPath,s="string"==typeof n?n:"["+Zi(n).join("+")+"]";if(t[i]){const e=t[i].idxByName[s];e&&(e.name=r,delete t[i].idxByName[s],t[i].idxByName[r]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Fi.WorkerGlobalScope&&Fi instanceof Fi.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class uc{_parseStoresSpec(e,t){Ui(e).forEach((r=>{if(null!==e[r]){var n=e[r].split(",").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Wl(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ji(n),0===t)})),s=n.shift();if(s.multi)throw new Do.Schema("Primary key cannot be multi-valued");n.forEach((e=>{if(e.auto)throw new Do.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new Do.Schema("Index must have a name and cannot be an empty string")})),t[r]=Hl(r,s,n)}}))}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?Ni(this._cfg.storesSource,e):e;const r=t._versions,n={};let s={};return r.forEach((e=>{Ni(n,e._cfg.storesSource),s=e._cfg.dbschema={},e._parseStoresSpec(n,s)})),t._dbSchema=s,rc(t,[t._allTables,t,t.Transaction.prototype]),tc(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],Ui(s),s),t._storeNames=Ui(s),this}upgrade(e){return this._cfg.contentUpgrade=Ho(this._cfg.contentUpgrade||Uo,e),this}}function hc(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Lc(cl,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function dc(e){return e&&"function"==typeof e.databases}function pc(e){return za((function(){return ha.letThrough=!0,e()}))}function fc(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function mc(e){const t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then((()=>t.dbOpenError?Qa(t.dbOpenError):e));_o&&(t.openCanceller._stackHolder=ko()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const n=t.openCanceller;function s(){if(t.openCanceller!==n)throw new Do.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,o=null,a=!1;return ma.race([n,("undefined"==typeof navigator?ma.resolve():fc()).then((()=>new ma(((n,i)=>{if(s(),!r)throw new Do.MissingAPI;const l=e.name,c=t.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!c)throw new Do.MissingAPI;c.onerror=Ul(i),c.onblocked=Aa(e._fireOnBlocked),c.onupgradeneeded=Aa((n=>{if(o=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=jl,o.abort(),c.result.close();const e=r.deleteDatabase(l);e.onsuccess=e.onerror=Aa((()=>{i(new Do.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{o.onerror=Ul(i);var s=n.oldVersion>Math.pow(2,62)?0:n.oldVersion;a=s<1,e._novip.idbdb=c.result,sc(e,s/10,o,i)}}),i),c.onsuccess=Aa((()=>{o=null;const r=e._novip.idbdb=c.result,s=Zi(r.objectStoreNames);if(s.length>0)try{const n=r.transaction(1===(i=s).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,r){e.verno=t.version/10;const n=e._dbSchema=lc(0,t,r);e._storeNames=Zi(t.objectStoreNames,0),tc(e,[e._allTables],Ui(n),n)}(e,r,n):(cc(e,e._dbSchema,n),function(e,t){const r=ic(lc(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some((e=>e.add.length||e.change.length)))}(e,n)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),ec(e,n)}catch(e){}var i;sl.push(e),r.onversionchange=Aa((r=>{t.vcFired=!0,e.on("versionchange").fire(r)})),r.onclose=Aa((t=>{e.on("close").fire(t)})),a&&function({indexedDB:e,IDBKeyRange:t},r){!dc(e)&&r!==cl&&hc(e,t).put({name:r}).catch(Uo)}(e._deps,l),n()}),i)}))))]).then((()=>(s(),t.onReadyBeingFired=[],ma.resolve(pc((()=>e.on.ready.fire(e.vip)))).then((function r(){if(t.onReadyBeingFired.length>0){let n=t.onReadyBeingFired.reduce(Ho,Uo);return t.onReadyBeingFired=[],ma.resolve(pc((()=>n(e.vip)))).then(r)}}))))).finally((()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1})).then((()=>e)).catch((r=>{t.dbOpenError=r;try{o&&o.abort()}catch(e){}return n===t.openCanceller&&e._close(),Qa(r)})).finally((()=>{t.openComplete=!0,i()}))}function yc(e){var t=t=>e.next(t),r=s(t),n=s((t=>e.throw(t)));function s(e){return t=>{var s=e(t),i=s.value;return s.done?i:i&&"function"==typeof i.then?i.then(r,n):ji(i)?Promise.all(i).then(r,n):r(i)}}return s(t)()}function gc(e,t,r){var n=arguments.length;if(n<2)throw new Do.InvalidArgument("Too few arguments");for(var s=new Array(n-1);--n;)s[n-1]=arguments[n];r=s.pop();var i=ao(s);return[e,i,r]}function vc(e,t,r,n,s){return ma.resolve().then((()=>{const i=ha.transless||ha,o=e._createTransaction(t,r,e._dbSchema,n),a={trans:o,transless:i};if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(n){return n.name===Bo.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then((()=>vc(e,t,r,null,s)))):Qa(n)}const l=wo(s);let c;l&&Fa();const u=ma.follow((()=>{if(c=s.call(o,o),c)if(l){var e=Ua.bind(null,null);c.then(e,e)}else"function"==typeof c.next&&"function"==typeof c.throw&&(c=yc(c))}),a);return(c&&"function"==typeof c.then?ma.resolve(c).then((e=>o.active?e:Qa(new Do.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")))):u.then((()=>c))).then((e=>(n&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),Qa(e))))}))}function bc(e,t,r){const n=ji(e)?e.slice():[e];for(let e=0;e<r;++e)n.push(t);return n}const wc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const r=e.table(t),{schema:n}=r,s={},i=[];function o(e,t,r){const n=Zl(e),a=s[n]=s[n]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...r,isVirtual:c,keyTail:t,keyLength:l,extractKey:Xl(e),unique:!c&&r.unique};if(a.push(u),u.isPrimaryKey||i.push(u),l>1){o(2===l?e[0]:e.slice(0,l-1),t+1,r)}return a.sort(((e,t)=>e.keyTail-t.keyTail)),u}const a=o(n.primaryKey.keyPath,0,n.primaryKey);s[":id"]=[a];for(const e of n.indexes)o(e.keyPath,0,e);function l(t){const r=t.query.index;return r.isVirtual?{...t,query:{index:r,range:(n=t.query.range,s=r.keyTail,{type:1===n.type?2:n.type,lower:bc(n.lower,n.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:bc(n.upper,n.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var n,s}const c={...r,schema:{...n,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=s[Zl(e)];return t&&t[0]}},count:e=>r.count(l(e)),query:e=>r.query(l(e)),openCursor(t){const{keyTail:n,isVirtual:s,keyLength:i}=t.query.index;if(!s)return r.openCursor(t);return r.openCursor(l(t)).then((r=>r&&function(r){const s=Object.create(r,{continue:{value:function(s){null!=s?r.continue(bc(s,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(r.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(t,s){r.continuePrimaryKey(bc(t,e.MAX_KEY,n),s)}},primaryKey:{get:()=>r.primaryKey},key:{get(){const e=r.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>r.value}});return s}(r)))}};return c}}}};function _c(e,t,r,n){return r=r||{},n=n||"",Ui(e).forEach((s=>{if(Ki(t,s)){var i=e[s],o=t[s];if("object"==typeof i&&"object"==typeof o&&i&&o){const e=mo(i);e!==mo(o)?r[n+s]=t[s]:"Object"===e?_c(i,o,r,n+s+"."):i!==o&&(r[n+s]=t[s])}else i!==o&&(r[n+s]=t[s])}else r[n+s]=void 0})),Ui(t).forEach((s=>{Ki(e,s)||(r[n+s]=t[s])})),r}const xc={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const r=e.table(t),{primaryKey:n}=r.schema,s={...r,mutate(e){const s=ha.trans,{deleting:i,creating:o,updating:a}=s.table(t).hook;switch(e.type){case"add":if(o.fire===Uo)break;return s._promise("readwrite",(()=>l(e)),!0);case"put":if(o.fire===Uo&&a.fire===Uo)break;return s._promise("readwrite",(()=>l(e)),!0);case"delete":if(i.fire===Uo)break;return s._promise("readwrite",(()=>l(e)),!0);case"deleteRange":if(i.fire===Uo)break;return s._promise("readwrite",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return r.mutate(e);function l(e){const t=ha.trans,s=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(n,e);if(!s)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,r){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}(r,e,s).then((l=>{const c=s.map(((r,s)=>{const c=l[s],u={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(u,r,c,t);else if("add"===e.type||void 0===c){const i=o.fire.call(u,r,e.values[s],t);null==r&&null!=i&&(r=i,e.keys[s]=r,n.outbound||so(e.values[s],n.keyPath,r))}else{const n=_c(c,e.values[s]),i=a.fire.call(u,n,r,c,t);if(i){const t=e.values[s];Object.keys(i).forEach((e=>{Ki(t,e)?t[e]=i[e]:so(t,e,i[e])}))}}return u}));return r.mutate(e).then((({failures:t,results:r,numFailures:n,lastResult:i})=>{for(let n=0;n<s.length;++n){const i=r?r[n]:s[n],o=c[n];null==i?o.onerror&&o.onerror(t[n]):o.onsuccess&&o.onsuccess("put"===e.type&&l[n]?e.values[n]:i)}return{failures:t,results:r,numFailures:n,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,s){return r.query({trans:e,values:!1,query:{index:n,range:t},limit:s}).then((({result:r})=>l({type:"delete",keys:r,trans:e}).then((n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<s?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:r[r.length-1],lowerOpen:!0},s)))))}}};return s}})};function Ec(e,t,r){try{if(!t)return null;if(t.keys.length<e.length)return null;const n=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)0===kl(t.keys[s],e[i])&&(n.push(r?ho(t.values[s]):t.values[s]),++i);return n.length===e.length?n:null}catch(e){return null}}const Tc={stack:"dbcore",level:-1,create:e=>({table:t=>{const r=e.table(t);return{...r,getMany:e=>{if(!e.cache)return r.getMany(e);const t=Ec(e.keys,e.trans._cache,"clone"===e.cache);return t?ma.resolve(t):r.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?ho(t):t},t)))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),r.mutate(e))}}})};function kc(e){return!("from"in e)}const Sc=function(e,t){if(!this){const t=new Sc;return e&&"d"in e&&Ni(t,e),t}Ni(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Rc(e,t,r){const n=kl(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(kc(e))return Ni(e,{from:t,to:r,d:1});const s=e.l,i=e.r;if(kl(r,e.from)<0)return s?Rc(s,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Ac(e);if(kl(t,e.to)>0)return i?Rc(i,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Ac(e);kl(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),kl(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);const o=!e.r;s&&!e.l&&Cc(e,s),i&&o&&Cc(e,i)}function Cc(e,t){kc(t)||function e(t,{from:r,to:n,l:s,r:i}){Rc(t,r,n),s&&e(t,s),i&&e(t,i)}(e,t)}function Mc(e){let t=kc(e)?null:{s:0,n:e};return{next(e){const r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&kl(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||kl(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Ac(e){var t,r;const n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),s=n>1?"r":n<-1?"l":"";if(s){const t="r"===s?"l":"r",r={...e},n=e[s];e.from=n.from,e.to=n.to,e[s]=n[s],r[s]=n[t],e[t]=r,r.d=Pc(r)}e.d=Pc(e)}function Pc({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}Wi(Sc.prototype,{add(e){return Cc(this,e),this},addKey(e){return Rc(this,e,e),this},addKeys(e){return e.forEach((e=>Rc(this,e,e))),this},[yo](){return Mc(this)}});const Oc={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,r=new Sc(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{const s=e.table(n),{schema:i}=s,{primaryKey:o}=i,{extractKey:a,outbound:l}=o,c={...s,mutate:e=>{const o=e.trans,a=o.mutatedParts||(o.mutatedParts={}),l=e=>{const r=`idb://${t}/${n}/${e}`;return a[r]||(a[r]=new Sc)},c=l(""),u=l(":dels"),{type:h}=e;let[d,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const f=e.trans._cache;return s.mutate(e).then((e=>{if(ji(d)){"delete"!==h&&(d=e.results),c.addKeys(d);const t=Ec(d,f);t||"add"===h||u.addKeys(d),(t||p)&&function(e,t,r,n){function s(t){const s=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const o=e=>t.multiEntry&&ji(e)?e.forEach((e=>s.addKey(e))):s.addKey(e);(r||n).forEach(((e,t)=>{const s=r&&i(r[t]),a=n&&i(n[t]);0!==kl(s,a)&&(null!=s&&o(s),null!=a&&o(a))}))}t.indexes.forEach(s)}(l,i,t,p)}else if(d){const e={from:d.lower,to:d.upper};u.add(e),c.add(e)}else c.add(r),u.add(r),i.indexes.forEach((e=>l(e.name).add(r)));return e}))}},u=({query:{index:t,range:r}})=>{var n,s;return[t,new Sc(null!==(n=r.lower)&&void 0!==n?n:e.MIN_KEY,null!==(s=r.upper)&&void 0!==s?s:e.MAX_KEY)]},h={get:e=>[o,new Sc(e.key)],getMany:e=>[o,(new Sc).addKeys(e.keys)],count:u,query:u,openCursor:u};return Ui(h).forEach((e=>{c[e]=function(i){const{subscr:o}=ha;if(o){const c=e=>{const r=`idb://${t}/${n}/${e}`;return o[r]||(o[r]=new Sc)},u=c(""),d=c(":dels"),[p,f]=h[e](i);if(c(p.name||"").add(f),!p.isPrimaryKey){if("count"!==e){const t="query"===e&&l&&i.values&&s.query({...i,values:!1});return s[e].apply(this,arguments).then((r=>{if("query"===e){if(l&&i.values)return t.then((({result:e})=>(u.addKeys(e),r)));const e=i.values?r.result.map(a):r.result;i.values?u.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=r,t=i.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&u.addKey(e.primaryKey),e.value)}})}return r}))}d.add(r)}}return s[e].apply(this,arguments)}})),c}}}};class Lc{constructor(e,t){this._middlewares={},this.verno=0;const r=Lc.dependencies;this._options=t={addons:Lc.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:n}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Uo,dbReadyPromise:null,cancelOpen:Uo,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;s.dbReadyPromise=new ma((e=>{s.dbReadyResolve=e})),s.openCanceller=new ma(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=yl(this,"populate","blocked","versionchange","close",{ready:[Ho,Uo]}),this.on.ready.subscribe=Ji(this.on.ready.subscribe,(e=>(t,r)=>{Lc.vip((()=>{const n=this._state;if(n.openComplete)n.dbOpenError||ma.resolve().then(t),r&&e(t);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(t),r&&e(t);else{e(t);const n=this;r||e((function e(){n.on.ready.unsubscribe(t),n.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,gl(Cl.prototype,(function(e,t){this.db=i;let r=pl,n=null;if(t)try{r=t()}catch(e){n=e}const s=e._ctx,o=s.table,a=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:r,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:n,or:s.or,valueMapper:a!==jo?a:null}}))),this.Table=function(e){return gl(ml.prototype,(function(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:yl(null,{creating:[qo,Uo],reading:[No,jo],updating:[Wo,Uo],deleting:[Ko,Uo]})}))}(this),this.Transaction=function(e){return gl(Kl.prototype,(function(t,r,n,s,i){this.db=e,this.mode=t,this.storeNames=r,this.schema=n,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=yl(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ma(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),Qa(e)}))}))}(this),this.Version=function(e){return gl(uc.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return gl(Fl.prototype,(function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};const s=e._deps.indexedDB;if(!s)throw new Do.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on("versionchange",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on("blocked",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=$l(t.IDBKeyRange),this._createTransaction=(e,t,r,n)=>new this.Transaction(e,t,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=e=>{this.on("blocked").fire(e),sl.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on("versionchange").fire(e)))},this.use(wc),this.use(xc),this.use(Oc),this.use(Tc),this.vip=Object.create(this,{_vip:{value:!0}}),n.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new Do.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new Do.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var r=t.filter((t=>t._cfg.version===e))[0];return r||(r=new this.Version(e),t.push(r),t.sort(nc),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||ha.letThrough||this._vip)?e():new ma(((e,t)=>{if(this._state.openComplete)return t(new Do.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new Do.DatabaseClosed);this.open().catch(Uo)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:r,name:n}){n&&this.unuse({stack:e,name:n});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==r?10:r,name:n}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>r?e.create!==r:!!t&&e.name!==t))),this}open(){return mc(this)}_close(){const e=this._state,t=sl.indexOf(this);if(t>=0&&sl.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new ma((t=>{e.dbReadyResolve=t})),e.openCanceller=new ma(((t,r)=>{e.cancelOpen=r}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Do.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new ma(((r,n)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Aa((()=>{!function({indexedDB:e,IDBKeyRange:t},r){!dc(e)&&r!==cl&&hc(e,t).delete(r).catch(Uo)}(this._deps,this.name),r()})),e.onerror=Ul(n),e.onblocked=this._fireOnBlocked};if(e)throw new Do.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return Ui(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=gc.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let n=ha.trans;n&&n.db===this&&-1===e.indexOf("!")||(n=null);const s=-1!==e.indexOf("?");let i,o;e=e.replace("!","").replace("?","");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t})),"r"==e||e===ul)i=ul;else{if("rw"!=e&&e!=hl)throw new Do.InvalidArgument("Invalid transaction mode: "+e);i=hl}if(n){if(n.mode===ul&&i===hl){if(!s)throw new Do.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");n=null}n&&o.forEach((e=>{if(n&&-1===n.storeNames.indexOf(e)){if(!s)throw new Do.SubTransaction("Table "+e+" not included in parent transaction.");n=null}})),s&&n&&!n.active&&(n=null)}}catch(e){return n?n._promise(null,((t,r)=>{r(e)})):Qa(e)}const a=vc.bind(null,this,i,o,n,r);return n?n._promise(i,a,"lock"):ha.trans?Wa(ha.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!Ki(this._allTables,e))throw new Do.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Bc="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class Ic{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})}[Bc](){return this}}function Dc(e,t){return Ui(t).forEach((r=>{Cc(e[r]||(e[r]=new Sc),t[r])})),e}let zc;try{zc={indexedDB:Fi.indexedDB||Fi.mozIndexedDB||Fi.webkitIndexedDB||Fi.msIndexedDB,IDBKeyRange:Fi.IDBKeyRange||Fi.webkitIDBKeyRange}}catch(e){zc={indexedDB:null,IDBKeyRange:null}}const Fc=Lc;function Uc(e){let t=jc;try{jc=!0,ql.storagemutated.fire(e)}finally{jc=t}}Wi(Fc,{...Fo,delete:e=>new Fc(e,{addons:[]}).delete(),exists:e=>new Fc(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch("NoSuchDatabaseError",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return dc(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==cl)))):hc(e,t).toCollection().primaryKeys()}(Fc.dependencies).then(e)}catch(e){return Qa(new Do.MissingAPI)}},defineClass:()=>function(e){Ni(this,e)},ignoreTransaction:e=>ha.trans?Wa(ha.transless,e):e(),vip:pc,async:function(e){return function(){try{var t=yc(e.apply(this,arguments));return t&&"function"==typeof t.then?t:ma.resolve(t)}catch(e){return Qa(e)}}},spawn:function(e,t,r){try{var n=yc(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:ma.resolve(n)}catch(e){return Qa(e)}},currentTransaction:{get:()=>ha.trans||null},waitFor:function(e,t){const r=ma.resolve("function"==typeof e?Fc.ignoreTransaction(e):e).timeout(t||6e4);return ha.trans?ha.trans.waitFor(r):r},Promise:ma,debug:{get:()=>_o,set:e=>{xo(e,"dexie"===e?()=>!0:ll)}},derive:$i,extend:Ni,props:Wi,override:Ji,Events:yl,on:ql,liveQuery:function(e){return new Ic((t=>{const r=wo(e);let n=!1,s={},i={};const o={get closed(){return n},unsubscribe:()=>{n=!0,ql.storagemutated.unsubscribe(u)}};t.start&&t.start(o);let a=!1,l=!1;function c(){return Ui(i).some((e=>s[e]&&function(e,t){const r=Mc(t);let n=r.next();if(n.done)return!1;let s=n.value;const i=Mc(e);let o=i.next(s.from),a=o.value;for(;!n.done&&!o.done;){if(kl(a.from,s.to)<=0&&kl(a.to,s.from)>=0)return!0;kl(s.from,a.from)<0?s=(n=r.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}(s[e],i[e])))}const u=e=>{Dc(s,e),c()&&h()},h=()=>{if(a||n)return;s={};const d={},p=function(t){r&&Fa();const n=()=>za(e,{subscr:t,trans:null}),s=ha.trans?Wa(ha.transless,n):n();return r&&s.then(Ua,Ua),s}(d);l||(ql(Nl,u),l=!0),a=!0,Promise.resolve(p).then((e=>{a=!1,n||(c()?h():(s={},i=d,t.next&&t.next(e)))}),(e=>{a=!1,t.error&&t.error(e),o.unsubscribe()}))};return h(),o}))},extendObservabilitySet:Dc,getByKeyPath:no,setByKeyPath:so,delByKeyPath:function(e,t){"string"==typeof t?so(e,t,void 0):"length"in t&&[].map.call(t,(function(t){so(e,t,void 0)}))},shallowClone:io,deepClone:ho,getObjectDiff:_c,cmp:kl,asap:to,minKey:tl,addons:[],connections:sl,errnames:Bo,dependencies:zc,semVer:Ja,version:Ja.split(".").map((e=>parseInt(e))).reduce(((e,t,r)=>e+t/Math.pow(10,2*r)))}),Fc.maxKey=$l(Fc.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(ql(Nl,(e=>{if(!jc){let t;il?(t=document.createEvent("CustomEvent"),t.initCustomEvent(Vl,!0,!0,e)):t=new CustomEvent(Vl,{detail:e}),jc=!0,dispatchEvent(t),jc=!1}})),addEventListener(Vl,(({detail:e})=>{jc||Uc(e)})));let jc=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(Vl);ql(Nl,(t=>{jc||e.postMessage(t)})),e.onmessage=e=>{e.data&&Uc(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){ql(Nl,(e=>{try{jc||("undefined"!=typeof localStorage&&localStorage.setItem(Vl,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:Vl,changedParts:e}))))}catch(e){}})),addEventListener("storage",(e=>{if(e.key===Vl){const t=JSON.parse(e.newValue);t&&Uc(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",(function({data:e}){e&&e.type===Vl&&Uc(e.changedParts)}))}ma.rejectionMapper=function(e,t){if(!e||e instanceof Ao||e instanceof TypeError||e instanceof SyntaxError||!e.name||!zo[e.name])return e;var r=new zo[e.name](t||e.message,e);return"stack"in e&&Hi(r,"stack",{get:function(){return this.inner.stack}}),r},xo(_o,ll);var Nc=new Blob(['(() => {\n  var __create = Object.create;\n  var __defProp = Object.defineProperty;\n  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n  var __getOwnPropNames = Object.getOwnPropertyNames;\n  var __getProtoOf = Object.getPrototypeOf;\n  var __hasOwnProp = Object.prototype.hasOwnProperty;\n  var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });\n  var __commonJS = (cb, mod) => function __require() {\n    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n  };\n  var __reExport = (target, module, copyDefault, desc) => {\n    if (module && typeof module === "object" || typeof module === "function") {\n      for (let key of __getOwnPropNames(module))\n        if (!__hasOwnProp.call(target, key) && (copyDefault || key !== "default"))\n          __defProp(target, key, { get: () => module[key], enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });\n    }\n    return target;\n  };\n  var __toESM = (module, isNodeMode) => {\n    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", !isNodeMode && module && module.__esModule ? { get: () => module.default, enumerable: true } : { value: module, enumerable: true })), module);\n  };\n\n  // (disabled):../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/require-utils.node\n  var require_require_utils = __commonJS({\n    "(disabled):../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/node/require-utils.node"() {\n    }\n  });\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/utils/version.js\n  var VERSION = true ? "3.1.4" : "latest";\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/assert.js\n  function assert(condition, message) {\n    if (!condition) {\n      throw new Error(message || "loaders.gl assertion failed.");\n    }\n  }\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/env-utils/globals.js\n  var globals = {\n    self: typeof self !== "undefined" && self,\n    window: typeof window !== "undefined" && window,\n    global: typeof global !== "undefined" && global,\n    document: typeof document !== "undefined" && document\n  };\n  var self_ = globals.self || globals.window || globals.global || {};\n  var window_ = globals.window || globals.self || globals.global || {};\n  var global_ = globals.global || globals.self || globals.window || {};\n  var document_ = globals.document || {};\n  var isBrowser = typeof process !== "object" || String(process) !== "[object process]" || process.browser;\n  var isWorker = typeof importScripts === "function";\n  var isMobile = typeof window !== "undefined" && typeof window.orientation !== "undefined";\n  var matches = typeof process !== "undefined" && process.version && /v([0-9]*)/.exec(process.version);\n  var nodeVersion = matches && parseFloat(matches[1]) || 0;\n\n  // ../../node_modules/@loaders.gl/worker-utils/dist/esm/lib/library-utils/library-utils.js\n  var node = __toESM(require_require_utils());\n  var VERSION2 = true ? "3.1.4" : LATEST;\n  var loadLibraryPromises = {};\n  async function loadLibrary(libraryUrl, moduleName = null, options = {}) {\n    if (moduleName) {\n      libraryUrl = getLibraryUrl(libraryUrl, moduleName, options);\n    }\n    loadLibraryPromises[libraryUrl] = loadLibraryPromises[libraryUrl] || loadLibraryFromFile(libraryUrl);\n    return await loadLibraryPromises[libraryUrl];\n  }\n  function getLibraryUrl(library, moduleName, options) {\n    if (library.startsWith("http")) {\n      return library;\n    }\n    const modules = options.modules || {};\n    if (modules[library]) {\n      return modules[library];\n    }\n    if (!isBrowser) {\n      return "modules/".concat(moduleName, "/dist/libs/").concat(library);\n    }\n    if (options.CDN) {\n      assert(options.CDN.startsWith("http"));\n      return "".concat(options.CDN, "/").concat(moduleName, "@").concat(VERSION2, "/dist/libs/").concat(library);\n    }\n    if (isWorker) {\n      return "../src/libs/".concat(library);\n    }\n    return "modules/".concat(moduleName, "/src/libs/").concat(library);\n  }\n  async function loadLibraryFromFile(libraryUrl) {\n    if (libraryUrl.endsWith("wasm")) {\n      const response2 = await fetch(libraryUrl);\n      return await response2.arrayBuffer();\n    }\n    if (!isBrowser) {\n      try {\n        return node && node.requireFromFile && await node.requireFromFile(libraryUrl);\n      } catch {\n        return null;\n      }\n    }\n    if (isWorker) {\n      return importScripts(libraryUrl);\n    }\n    const response = await fetch(libraryUrl);\n    const scriptSource = await response.text();\n    return loadLibraryFromString(scriptSource, libraryUrl);\n  }\n  function loadLibraryFromString(scriptSource, id) {\n    if (!isBrowser) {\n      return node.requireFromString && node.requireFromString(scriptSource, id);\n    }\n    if (isWorker) {\n      eval.call(global_, scriptSource);\n      return null;\n    }\n    const script = document.createElement("script");\n    script.id = id;\n    try {\n      script.appendChild(document.createTextNode(scriptSource));\n    } catch (e) {\n      script.text = scriptSource;\n    }\n    document.body.appendChild(script);\n    return null;\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/parsers/basis-module-loader.js\n  var VERSION3 = true ? "3.1.4" : "latest";\n  var BASIS_CDN_ENCODER_WASM = "https://unpkg.com/@loaders.gl/textures@".concat(VERSION3, "/dist/libs/basis_encoder.wasm");\n  var BASIS_CDN_ENCODER_JS = "https://unpkg.com/@loaders.gl/textures@".concat(VERSION3, "/dist/libs/basis_encoder.js");\n  var loadBasisEncoderPromise;\n  async function loadBasisEncoderModule(options) {\n    const modules = options.modules || {};\n    if (modules.basisEncoder) {\n      return modules.basisEncoder;\n    }\n    loadBasisEncoderPromise = loadBasisEncoderPromise || loadBasisEncoder(options);\n    return await loadBasisEncoderPromise;\n  }\n  async function loadBasisEncoder(options) {\n    let BASIS_ENCODER = null;\n    let wasmBinary = null;\n    [BASIS_ENCODER, wasmBinary] = await Promise.all([await loadLibrary(BASIS_CDN_ENCODER_JS, "textures", options), await loadLibrary(BASIS_CDN_ENCODER_WASM, "textures", options)]);\n    BASIS_ENCODER = BASIS_ENCODER || globalThis.BASIS;\n    return await initializeBasisEncoderModule(BASIS_ENCODER, wasmBinary);\n  }\n  function initializeBasisEncoderModule(BasisEncoderModule, wasmBinary) {\n    const options = {};\n    if (wasmBinary) {\n      options.wasmBinary = wasmBinary;\n    }\n    return new Promise((resolve) => {\n      BasisEncoderModule(options).then((module) => {\n        const {\n          BasisFile,\n          KTX2File,\n          initializeBasis,\n          BasisEncoder\n        } = module;\n        initializeBasis();\n        resolve({\n          BasisFile,\n          KTX2File,\n          BasisEncoder\n        });\n      });\n    });\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/lib/encoders/encode-ktx2-basis-texture.js\n  async function encodeKTX2BasisTexture(image, options = {}) {\n    const {\n      useSRGB = false,\n      qualityLevel = 10,\n      encodeUASTC = false,\n      mipmaps = false\n    } = options;\n    const {\n      BasisEncoder\n    } = await loadBasisEncoderModule(options);\n    const basisEncoder = new BasisEncoder();\n    try {\n      const basisFileData = new Uint8Array(image.width * image.height * 4);\n      basisEncoder.setCreateKTX2File(true);\n      basisEncoder.setKTX2UASTCSupercompression(true);\n      basisEncoder.setKTX2SRGBTransferFunc(true);\n      basisEncoder.setSliceSourceImage(0, image.data, image.width, image.height, false);\n      basisEncoder.setPerceptual(useSRGB);\n      basisEncoder.setMipSRGB(useSRGB);\n      basisEncoder.setQualityLevel(qualityLevel);\n      basisEncoder.setUASTC(encodeUASTC);\n      basisEncoder.setMipGen(mipmaps);\n      const numOutputBytes = basisEncoder.encode(basisFileData);\n      const actualKTX2FileData = basisFileData.subarray(0, numOutputBytes).buffer;\n      return actualKTX2FileData;\n    } catch (error) {\n      console.error("Basis Universal Supercompressed GPU Texture encoder Error: ", error);\n      throw error;\n    } finally {\n      basisEncoder.delete();\n    }\n  }\n\n  // ../../node_modules/@loaders.gl/textures/dist/esm/ktx2-basis-universal-texture-writer.js\n  var KTX2BasisUniversalTextureWriter = {\n    name: "Basis Universal Supercompressed GPU Texture",\n    id: "ktx2-basis-supercompressed-texture",\n    module: "textures",\n    version: VERSION,\n    extensions: ["ktx2"],\n    options: {\n      useSRGB: false,\n      qualityLevel: 10,\n      encodeUASTC: false,\n      mipmaps: false\n    },\n    encode: encodeKTX2BasisTexture\n  };\n\n  // core/textures/KTX2Worker.ts\n  var worker = self;\n  worker.onmessage = async (msg) => {\n    try {\n      const texture = await KTX2BasisUniversalTextureWriter.encode(msg.data, {\n        useSRGB: true,\n        encodeUASTC: true,\n        mipmaps: true\n      });\n      const response = { texture };\n      worker.postMessage(response, [texture]);\n    } catch (err) {\n      worker.postMessage({ error: err.message });\n    }\n  };\n})();\n'],{type:"text/javascript"}),Vc=URL.createObjectURL(Nc);function qc(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Kc(e,t){return" "+e+'="'+qc(t)+'"'}async function Wc(e,t){let r=[];for(const n of e.childNodes)r.push(Gc(n,t));return Promise.all(r).then((e=>e.join("")))}async function Gc(e,t){const r=t.replacer?.(t.target,e);if("string"==typeof r)return r;if("#document"===e.nodeName||"#document-fragment"===e.nodeName)return Wc(e,t);if(e.tagName)return async function(e,t){const r=e.tagName.toLowerCase();let n="<"+r;n+=function(e,t){return e.hasAttribute("xmlns")||!t&&e.namespaceURI===e.parentElement.namespaceURI?"":' xmlns="'+e.namespaceURI+'"'}(e,0===t.depth);const s=Wc(e,t);for(const t of e.attributes)"src"===t.name?"IMG"===e.nodeName?n+=Kc(t.name,await Mi.getDataURL(t.value)):n+=Kc("data-src",t.value):n+=Kc(t.name,t.value);return e.childNodes.length>0?(t.depth++,n+=">",n+=await s,n+="</"+r+">",t.depth--):n+="/>",n}(e,t);if("#text"===e.nodeName)return function(e){return(e.nodeValue||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e);if("#comment"===e.nodeName);else if("#cdata-section"===e.nodeName)return function(e){return"<![CDATA["+e.nodeValue+"]]>"}(e);return""}const Hc=(e,t)=>{if(e===t)return;if(t.nodeType!==Node.ELEMENT_NODE)return;const r=t,n=r.tagName?.toLowerCase(),s=getComputedStyle(r),i="inline"===s.display||"inline-block"===s.display;if("style"===n||"link"===n)return"";if(i)return;const o=Mi.layers.get(r);if(o){o.manager.updateDOMMetrics(o);const e=o.domMetrics.bounds;let t="";const n=`box-sizing:border-box;max-width:${e.width}px;max-height:${e.height}px;min-width:${e.width}px;min-height:${e.height}px;visibility:hidden`;let s=!1;for(const e of o.element.attributes)"src"!==e.name&&("style"==e.name?(t+=Kc(e.name,e.value+";"+n),s=!0):t+=Kc(e.name,e.value));s||(t+=Kc("style",n));const i=r.tagName.toLowerCase();return`<${i} ${t}></${i}>`}};function $c(e){return Xc.test(navigator.userAgent)?`zoom:${e}; `:`transform: scale(${e}); transform-origin: top left; `}const Xc=/^((?!chrome|android).)*safari/i,Yc=new Array(255);for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");Yc[e]=t}function Qc(e){return function(e){const t=e.length;let r="";for(let n=0;n<t;++n)r+=Yc[e[n]];return r}(new Uint8Array(e))}var Zc,Jc,eu;try{Zc=new TextDecoder}catch(e){}var tu,ru,nu,su,iu,ou=0,au={},lu=0,cu=0,uu=[],hu={useRecords:!1,mapsAsObjects:!0};class du{}const pu=new du;pu.name="MessagePack 0xC1";var fu=!1;class mu{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(Jc)return Vu((()=>(qu(),this?this.unpack(e,t):mu.prototype.unpack.call(hu,e,t))));eu=t>-1?t:e.length,ou=0,cu=0,ru=null,nu=null,Jc=e;try{iu=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){if(Jc=null,e instanceof Uint8Array)throw t;throw new Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}if(this instanceof mu){if(au=this,this.structures)return tu=this.structures,yu();(!tu||tu.length>0)&&(tu=[])}else au=hu,(!tu||tu.length>0)&&(tu=[]);return yu()}unpackMultiple(e,t){let r,n=0;try{fu=!0;let s=e.length,i=this?this.unpack(e,s):Wu.unpack(e,s);if(!t){for(r=[i];ou<s;)n=ou,r.push(yu());return r}for(t(i);ou<s;)if(n=ou,!1===t(yu()))return}catch(e){throw e.lastPosition=n,e.values=r,e}finally{fu=!1,qu()}}_mergeStructures(e,t){for(let t=0,r=(e=e||[]).length;t<r;t++){let r=e[t];r&&(r.isShared=!0,t>=32&&(r.highByte=t-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let n=e[r],s=t[r];s&&(n&&((e.restoreStructures||(e.restoreStructures=[]))[r]=n),e[r]=s)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function yu(){try{if(!au.trusted&&!fu){let e=tu.sharedLength||0;e<tu.length&&(tu.length=e)}let e=vu();if(nu&&(ou=nu.postBundlePosition),ou==eu)tu.restoreStructures&&gu(),tu=null,Jc=null,su&&(su=null);else{if(ou>eu){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}if(!fu)throw new Error("Data read, but end of buffer not reached")}return e}catch(e){throw tu.restoreStructures&&gu(),qu(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function gu(){for(let e in tu.restoreStructures)tu[e]=tu.restoreStructures[e];tu.restoreStructures=null}function vu(){let e=Jc[ou++];if(e<160){if(e<128){if(e<64)return e;{let t=tu[63&e]||au.getStructures&&xu()[63&e];return t?(t.read||(t.read=wu(t,63&e)),t.read()):e}}if(e<144){if(e-=128,au.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[zu()]=vu();return t}{let t=new Map;for(let r=0;r<e;r++)t.set(vu(),vu());return t}}{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=vu();return t}}if(e<192){let t=e-160;if(cu>=ou)return ru.slice(ou-lu,(ou+=t)-lu);if(0==cu&&eu<140){let e=t<16?Ou(t):Pu(t);if(null!=e)return e}return Eu(t)}{let t;switch(e){case 192:return null;case 193:return nu?(t=vu(),t>0?nu[1].slice(nu.position1,nu.position1+=t):nu[0].slice(nu.position0,nu.position0-=t)):pu;case 194:return!1;case 195:return!0;case 196:return Bu(Jc[ou++]);case 197:return t=iu.getUint16(ou),ou+=2,Bu(t);case 198:return t=iu.getUint32(ou),ou+=4,Bu(t);case 199:return Iu(Jc[ou++]);case 200:return t=iu.getUint16(ou),ou+=2,Iu(t);case 201:return t=iu.getUint32(ou),ou+=4,Iu(t);case 202:if(t=iu.getFloat32(ou),au.useFloat32>2){let e=Ku[(127&Jc[ou])<<1|Jc[ou+1]>>7];return ou+=4,(e*t+(t>0?.5:-.5)>>0)/e}return ou+=4,t;case 203:return t=iu.getFloat64(ou),ou+=8,t;case 204:return Jc[ou++];case 205:return t=iu.getUint16(ou),ou+=2,t;case 206:return t=iu.getUint32(ou),ou+=4,t;case 207:return au.int64AsNumber?(t=4294967296*iu.getUint32(ou),t+=iu.getUint32(ou+4)):t=iu.getBigUint64(ou),ou+=8,t;case 208:return iu.getInt8(ou++);case 209:return t=iu.getInt16(ou),ou+=2,t;case 210:return t=iu.getInt32(ou),ou+=4,t;case 211:return au.int64AsNumber?(t=4294967296*iu.getInt32(ou),t+=iu.getUint32(ou+4)):t=iu.getBigInt64(ou),ou+=8,t;case 212:if(t=Jc[ou++],114==t)return Fu(63&Jc[ou++]);{let e=uu[t];if(e)return e.read?(ou++,e.read(vu())):e.noBuffer?(ou++,e()):e(Jc.subarray(ou,++ou));throw new Error("Unknown extension "+t)}case 213:return t=Jc[ou],114==t?(ou++,Fu(63&Jc[ou++],Jc[ou++])):Iu(2);case 214:return Iu(4);case 215:return Iu(8);case 216:return Iu(16);case 217:return t=Jc[ou++],cu>=ou?ru.slice(ou-lu,(ou+=t)-lu):Tu(t);case 218:return t=iu.getUint16(ou),cu>=(ou+=2)?ru.slice(ou-lu,(ou+=t)-lu):ku(t);case 219:return t=iu.getUint32(ou),cu>=(ou+=4)?ru.slice(ou-lu,(ou+=t)-lu):Su(t);case 220:return t=iu.getUint16(ou),ou+=2,Cu(t);case 221:return t=iu.getUint32(ou),ou+=4,Cu(t);case 222:return t=iu.getUint16(ou),ou+=2,Mu(t);case 223:return t=iu.getUint32(ou),ou+=4,Mu(t);default:if(e>=224)return e-256;if(void 0===e){let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw new Error("Unknown MessagePack token "+e)}}}const bu=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function wu(e,t){function r(){if(r.count++>2){let r=e.read=new Function("r","return function(){return {"+e.map((e=>bu.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()")).join(",")+"}}")(vu);return 0===e.highByte&&(e.read=_u(t,e.read)),r()}let n={};for(let t=0,r=e.length;t<r;t++){n[e[t]]=vu()}return n}return r.count=0,0===e.highByte?_u(t,r):r}const _u=(e,t)=>function(){let r=Jc[ou++];if(0===r)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),s=tu[n]||xu()[n];if(!s)throw new Error("Record id is not defined for "+n);return s.read||(s.read=wu(s,e)),s.read()};function xu(){let e=Vu((()=>(Jc=null,au.getStructures())));return tu=au._mergeStructures(e,tu)}var Eu=Ru,Tu=Ru,ku=Ru,Su=Ru;function Ru(e){let t;if(e<16&&(t=Ou(e)))return t;if(e>64&&Zc)return Zc.decode(Jc.subarray(ou,ou+=e));const r=ou+e,n=[];for(t="";ou<r;){const e=Jc[ou++];if(0==(128&e))n.push(e);else if(192==(224&e)){const t=63&Jc[ou++];n.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&Jc[ou++],r=63&Jc[ou++];n.push((31&e)<<12|t<<6|r)}else if(240==(248&e)){let t=(7&e)<<18|(63&Jc[ou++])<<12|(63&Jc[ou++])<<6|63&Jc[ou++];t>65535&&(t-=65536,n.push(t>>>10&1023|55296),t=56320|1023&t),n.push(t)}else n.push(e);n.length>=4096&&(t+=Au.apply(String,n),n.length=0)}return n.length>0&&(t+=Au.apply(String,n)),t}function Cu(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=vu();return t}function Mu(e){if(au.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[zu()]=vu();return t}{let t=new Map;for(let r=0;r<e;r++)t.set(vu(),vu());return t}}var Au=String.fromCharCode;function Pu(e){let t=ou,r=new Array(e);for(let n=0;n<e;n++){const e=Jc[ou++];if((128&e)>0)return void(ou=t);r[n]=e}return Au.apply(String,r)}function Ou(e){if(e<4){if(e<2){if(0===e)return"";{let e=Jc[ou++];return(128&e)>1?void(ou-=1):Au(e)}}{let t=Jc[ou++],r=Jc[ou++];if((128&t)>0||(128&r)>0)return void(ou-=2);if(e<3)return Au(t,r);let n=Jc[ou++];return(128&n)>0?void(ou-=3):Au(t,r,n)}}{let t=Jc[ou++],r=Jc[ou++],n=Jc[ou++],s=Jc[ou++];if((128&t)>0||(128&r)>0||(128&n)>0||(128&s)>0)return void(ou-=4);if(e<6){if(4===e)return Au(t,r,n,s);{let e=Jc[ou++];return(128&e)>0?void(ou-=5):Au(t,r,n,s,e)}}if(e<8){let i=Jc[ou++],o=Jc[ou++];if((128&i)>0||(128&o)>0)return void(ou-=6);if(e<7)return Au(t,r,n,s,i,o);let a=Jc[ou++];return(128&a)>0?void(ou-=7):Au(t,r,n,s,i,o,a)}{let i=Jc[ou++],o=Jc[ou++],a=Jc[ou++],l=Jc[ou++];if((128&i)>0||(128&o)>0||(128&a)>0||(128&l)>0)return void(ou-=8);if(e<10){if(8===e)return Au(t,r,n,s,i,o,a,l);{let e=Jc[ou++];return(128&e)>0?void(ou-=9):Au(t,r,n,s,i,o,a,l,e)}}if(e<12){let c=Jc[ou++],u=Jc[ou++];if((128&c)>0||(128&u)>0)return void(ou-=10);if(e<11)return Au(t,r,n,s,i,o,a,l,c,u);let h=Jc[ou++];return(128&h)>0?void(ou-=11):Au(t,r,n,s,i,o,a,l,c,u,h)}{let c=Jc[ou++],u=Jc[ou++],h=Jc[ou++],d=Jc[ou++];if((128&c)>0||(128&u)>0||(128&h)>0||(128&d)>0)return void(ou-=12);if(e<14){if(12===e)return Au(t,r,n,s,i,o,a,l,c,u,h,d);{let e=Jc[ou++];return(128&e)>0?void(ou-=13):Au(t,r,n,s,i,o,a,l,c,u,h,d,e)}}{let p=Jc[ou++],f=Jc[ou++];if((128&p)>0||(128&f)>0)return void(ou-=14);if(e<15)return Au(t,r,n,s,i,o,a,l,c,u,h,d,p,f);let m=Jc[ou++];return(128&m)>0?void(ou-=15):Au(t,r,n,s,i,o,a,l,c,u,h,d,p,f,m)}}}}}function Lu(){let e,t=Jc[ou++];if(t<192)e=t-160;else switch(t){case 217:e=Jc[ou++];break;case 218:e=iu.getUint16(ou),ou+=2;break;case 219:e=iu.getUint32(ou),ou+=4;break;default:throw new Error("Expected string")}return Ru(e)}function Bu(e){return au.copyBuffers?Uint8Array.prototype.slice.call(Jc,ou,ou+=e):Jc.subarray(ou,ou+=e)}function Iu(e){let t=Jc[ou++];if(uu[t])return uu[t](Jc.subarray(ou,ou+=e));throw new Error("Unknown extension type "+t)}var Du=new Array(4096);function zu(){let e=Jc[ou++];if(!(e>=160&&e<192))return ou--,vu();if(e-=160,cu>=ou)return ru.slice(ou-lu,(ou+=e)-lu);if(!(0==cu&&eu<180))return Eu(e);let t,r=4095&(e<<5^(e>1?iu.getUint16(ou):e>0?Jc[ou]:0)),n=Du[r],s=ou,i=ou+e-3,o=0;if(n&&n.bytes==e){for(;s<i;){if(t=iu.getUint32(s),t!=n[o++]){s=1879048192;break}s+=4}for(i+=3;s<i;)if(t=Jc[s++],t!=n[o++]){s=1879048192;break}if(s===i)return ou=s,n.string;i-=3,s=ou}for(n=[],Du[r]=n,n.bytes=e;s<i;)t=iu.getUint32(s),n.push(t),s+=4;for(i+=3;s<i;)t=Jc[s++],n.push(t);let a=e<16?Ou(e):Pu(e);return n.string=null!=a?a:Eu(e)}const Fu=(e,t)=>{var r=vu();let n=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let s=tu[e];return s&&s.isShared&&((tu.restoreStructures||(tu.restoreStructures=[]))[e]=s),tu[e]=r,r.read=wu(r,n),r.read()};var Uu="object"==typeof self?self:global;uu[0]=()=>{},uu[0].noBuffer=!0,uu[101]=()=>{let e=vu();return(Uu[e[0]]||Error)(e[1])},uu[105]=e=>{let t=iu.getUint32(ou-4);su||(su=new Map);let r,n=Jc[ou];r=n>=144&&n<160||220==n||221==n?[]:{};let s={target:r};su.set(t,s);let i=vu();return s.used?Object.assign(r,i):(s.target=i,i)},uu[112]=e=>{let t=iu.getUint32(ou-4),r=su.get(t);return r.used=!0,r.target},uu[115]=()=>new Set(vu());const ju=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((e=>e+"Array"));uu[116]=e=>{let t=e[0],r=ju[t];if(!r)throw new Error("Could not find typed array for code "+t);return new Uu[r](Uint8Array.prototype.slice.call(e,1).buffer)},uu[120]=()=>{let e=vu();return new RegExp(e[0],e[1])};const Nu=[];function Vu(e){let t=eu,r=ou,n=lu,s=cu,i=ru,o=su,a=nu,l=new Uint8Array(Jc.slice(0,eu)),c=tu,u=tu.slice(0,tu.length),h=au,d=fu,p=e();return eu=t,ou=r,lu=n,cu=s,ru=i,su=o,nu=a,Jc=l,fu=d,(tu=c).splice(0,tu.length,...u),au=h,iu=new DataView(Jc.buffer,Jc.byteOffset,Jc.byteLength),p}function qu(){Jc=null,su=null,tu=null}uu[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=ou;return ou+=t-e.length,nu=Nu,(nu=[Lu(),Lu()]).position0=0,nu.position1=0,nu.postBundlePosition=ou,ou=r,vu()},uu[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const Ku=new Array(147);for(let e=0;e<256;e++)Ku[e]=+("1e"+Math.floor(45.15-.30103*e));var Wu=new mu({useRecords:!1});Wu.unpack,Wu.unpackMultiple,Wu.unpack;let Gu,Hu,$u,Xu=new Float32Array(1);new Uint8Array(Xu.buffer,0,4);try{Gu=new TextEncoder}catch(e){}const Yu="undefined"!=typeof Buffer,Qu=Yu?Buffer.allocUnsafeSlow:Uint8Array,Zu=Yu?Buffer:Uint8Array,Ju=Yu?4294967296:2144337920;let eh,th,rh,nh,sh=0,ih=null;const oh=/[\u0080-\uFFFF]/,ah=Symbol("record-id");class lh extends mu{constructor(e){let t,r,n,s;super(e),this.offset=0;let i=0,o=Zu.prototype.utf8Write?function(e,t,r){return eh.utf8Write(e,t,r)}:!(!Gu||!Gu.encodeInto)&&function(e,t){return Gu.encodeInto(e,eh.subarray(t)).written},a=this;e||(e={});let l=e&&e.sequential,c=e.structures||e.saveStructures,u=e.maxSharedStructures;if(null==u&&(u=c?32:0),u>8160)throw new Error("Maximum maxSharedStructure is 8160");let h=e.maxOwnStructures;null==h&&(h=c?32:64),this.structures||0==e.useRecords||(this.structures=[]);let d=u>32||h+u>64,p=u+64,f=u+h+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],y=0,g=0;this.pack=this.encode=function(e,o){if(eh||(eh=new Qu(8192),rh=new DataView(eh.buffer,0,8192),sh=0),nh=eh.length-10,nh-sh<2048?(eh=new Qu(eh.length),rh=new DataView(eh.buffer,0,eh.length),nh=eh.length-10,sh=0):sh=sh+7&2147483640,t=sh,s=a.structuredClone?new Map:null,a.bundleStrings&&"string"!=typeof e?(ih=[],ih.size=1/0):ih=null,n=a.structures,n){n.uninitialized&&(n=a._mergeStructures(a.getStructures()));let e=n.sharedLength||0;if(e>u)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+n.sharedLength);if(!n.transitions){n.transitions=Object.create(null);for(let t=0;t<e;t++){let e=n[t];if(!e)continue;let r,s=n.transitions;for(let t=0,n=e.length;t<n;t++){let n=e[t];r=s[n],r||(r=s[n]=Object.create(null)),s=r}s[ah]=t+64}i=e}l||(n.nextId=e+64)}r&&(r=!1);try{if(v(e),ih&&dh(t,v),a.offset=sh,s&&s.idsToInsert){sh+=6*s.idsToInsert.length,sh>nh&&w(sh),a.offset=sh;let e=function(e,t){let r,n=6*t.length,s=e.length-n;t.sort(((e,t)=>e.offset>t.offset?1:-1));for(;r=t.pop();){let t=r.offset,i=r.id;e.copyWithin(t+n,t,s),n-=6;let o=t+n;e[o++]=214,e[o++]=105,e[o++]=i>>24,e[o++]=i>>16&255,e[o++]=i>>8&255,e[o++]=255&i,s=t}return e}(eh.subarray(t,sh),s.idsToInsert);return s=null,e}return o&fh?(eh.start=t,eh.end=sh,eh):eh.subarray(t,sh)}finally{if(n){g<10&&g++;let s=n.sharedLength||u;if(n.length>s&&(n.length=s),y>1e4)n.transitions=null,g=0,y=0,m.length>0&&(m=[]);else if(m.length>0&&!l){for(let e=0,t=m.length;e<t;e++)m[e][ah]=0;m=[]}if(r&&a.saveStructures){let r=eh.subarray(t,sh);return!1===a.saveStructures(n,i)?(a._mergeStructures(a.getStructures()),a.pack(e)):(i=s,r)}}o&mh&&(sh=t)}};const v=e=>{sh>nh&&(eh=w(sh));var r,n=typeof e;if("string"===n){let n,s=e.length;if(ih&&s>=4&&s<4096){if((ih.size+=s)>61440){let e,r=(ih[0]?3*ih[0].length+ih[1].length:0)+10;sh+r>nh&&(eh=w(sh+r)),ih.position?(eh[sh]=200,sh+=3,eh[sh++]=98,e=sh-t,sh+=4,dh(t,v),rh.setUint16(e+t-3,sh-t-e)):(eh[sh++]=214,eh[sh++]=98,e=sh-t,sh+=4),ih=["",""],ih.size=0,ih.position=e}let r=oh.test(e);return ih[r?0:1]+=e,eh[sh++]=193,void v(r?-s:s)}n=s<32?1:s<256?2:s<65536?3:5;let i=3*s;if(sh+i>nh&&(eh=w(sh+i)),s<64||!o){let t,i,o,a=sh+n;for(t=0;t<s;t++)i=e.charCodeAt(t),i<128?eh[a++]=i:i<2048?(eh[a++]=i>>6|192,eh[a++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=e.charCodeAt(t+1)))?(i=65536+((1023&i)<<10)+(1023&o),t++,eh[a++]=i>>18|240,eh[a++]=i>>12&63|128,eh[a++]=i>>6&63|128,eh[a++]=63&i|128):(eh[a++]=i>>12|224,eh[a++]=i>>6&63|128,eh[a++]=63&i|128);r=a-sh-n}else r=o(e,sh+n,i);r<32?eh[sh++]=160|r:r<256?(n<2&&eh.copyWithin(sh+2,sh+1,sh+1+r),eh[sh++]=217,eh[sh++]=r):r<65536?(n<3&&eh.copyWithin(sh+3,sh+2,sh+2+r),eh[sh++]=218,eh[sh++]=r>>8,eh[sh++]=255&r):(n<5&&eh.copyWithin(sh+5,sh+3,sh+3+r),eh[sh++]=219,rh.setUint32(sh,r),sh+=4),sh+=r}else if("number"===n)if(e>>>0===e)e<64?eh[sh++]=e:e<256?(eh[sh++]=204,eh[sh++]=e):e<65536?(eh[sh++]=205,eh[sh++]=e>>8,eh[sh++]=255&e):(eh[sh++]=206,rh.setUint32(sh,e),sh+=4);else if(e>>0===e)e>=-32?eh[sh++]=256+e:e>=-128?(eh[sh++]=208,eh[sh++]=e+256):e>=-32768?(eh[sh++]=209,rh.setInt16(sh,e),sh+=2):(eh[sh++]=210,rh.setInt32(sh,e),sh+=4);else{let t;if((t=this.useFloat32)>0&&e<4294967296&&e>=-2147483648){let r;if(eh[sh++]=202,rh.setFloat32(sh,e),t<4||(r=e*Ku[(127&eh[sh])<<1|eh[sh+1]>>7])>>0===r)return void(sh+=4);sh--}eh[sh++]=203,rh.setFloat64(sh,e),sh+=8}else if("object"===n)if(e){if(s){let r=s.get(e);if(r){if(!r.id){let e=s.idsToInsert||(s.idsToInsert=[]);r.id=e.push(r)}return eh[sh++]=214,eh[sh++]=112,rh.setUint32(sh,r.id),void(sh+=4)}s.set(e,{offset:sh-t})}let n=e.constructor;if(n===Object)b(e,!0);else if(n===Array){(r=e.length)<16?eh[sh++]=144|r:r<65536?(eh[sh++]=220,eh[sh++]=r>>8,eh[sh++]=255&r):(eh[sh++]=221,rh.setUint32(sh,r),sh+=4);for(let t=0;t<r;t++)v(e[t])}else if(n===Map){(r=e.size)<16?eh[sh++]=128|r:r<65536?(eh[sh++]=222,eh[sh++]=r>>8,eh[sh++]=255&r):(eh[sh++]=223,rh.setUint32(sh,r),sh+=4);for(let[t,r]of e)v(t),v(r)}else{for(let t=0,r=Hu.length;t<r;t++){if(e instanceof $u[t]){let r=Hu[t];if(r.write)return r.type&&(eh[sh++]=212,eh[sh++]=r.type,eh[sh++]=0),void v(r.write.call(this,e));let n,s=eh,i=rh,o=sh;eh=null;try{n=r.pack.call(this,e,(e=>(eh=s,s=null,sh+=e,sh>nh&&w(sh),{target:eh,targetView:rh,position:sh-e})),v)}finally{s&&(eh=s,rh=i,sh=o,nh=eh.length-10)}return void(n&&(n.length+sh>nh&&w(n.length+sh),sh=hh(n,eh,sh,r.type)))}}b(e,!e.hasOwnProperty)}}else eh[sh++]=192;else if("boolean"===n)eh[sh++]=e?195:194;else if("bigint"===n){if(e<BigInt(1)<<BigInt(63)&&e>=-(BigInt(1)<<BigInt(63)))eh[sh++]=211,rh.setBigInt64(sh,e);else if(e<BigInt(1)<<BigInt(64)&&e>0)eh[sh++]=207,rh.setBigUint64(sh,e);else{if(!this.largeBigIntToFloat)throw new RangeError(e+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");eh[sh++]=203,rh.setFloat64(sh,Number(e))}sh+=8}else if("undefined"===n)this.encodeUndefinedAsNil?eh[sh++]=192:(eh[sh++]=212,eh[sh++]=0,eh[sh++]=0);else{if("function"!==n)throw new Error("Unknown type: "+n);v(this.writeFunction&&this.writeFunction())}},b=!1===this.useRecords?this.variableMapSize?e=>{let t,r=Object.keys(e),n=r.length;n<16?eh[sh++]=128|n:n<65536?(eh[sh++]=222,eh[sh++]=n>>8,eh[sh++]=255&n):(eh[sh++]=223,rh.setUint32(sh,n),sh+=4);for(let s=0;s<n;s++)v(t=r[s]),v(e[t])}:(e,r)=>{eh[sh++]=222;let n=sh-t;sh+=2;let s=0;for(let t in e)(r||e.hasOwnProperty(t))&&(v(t),v(e[t]),s++);eh[n+++t]=s>>8,eh[n+t]=255&s}:e.progressiveRecords&&!d?(e,r)=>{let s,i,o=n.transitions||(n.transitions=Object.create(null)),a=sh++-t;for(let l in e)if(r||e.hasOwnProperty(l)){if(s=o[l],s)o=s;else{let r=Object.keys(e),c=o;o=n.transitions;let u=0;for(let e=0,t=r.length;e<t;e++){let t=r[e];s=o[t],s||(s=o[t]=Object.create(null),u++),o=s}a+t+1==sh?(sh--,_(o,r,u)):x(o,r,a,u),i=!0,o=c[l]}v(e[l])}if(!i){let r=o[ah];r?eh[a+t]=r:x(o,Object.keys(e),a,0)}}:(e,t)=>{let r,s=n.transitions||(n.transitions=Object.create(null)),i=0;for(let n in e)(t||e.hasOwnProperty(n))&&(r=s[n],r||(r=s[n]=Object.create(null),i++),s=r);let o=s[ah];o?o>=96&&d?(eh[sh++]=96+(31&(o-=96)),eh[sh++]=o>>5):eh[sh++]=o:_(s,s.__keys__||Object.keys(e),i);for(let r in e)(t||e.hasOwnProperty(r))&&v(e[r])},w=e=>{let r;if(e>16777216){if(e-t>Ju)throw new Error("Packed buffer would be larger than maximum buffer size");r=Math.min(Ju,4096*Math.round(Math.max((e-t)*(e>67108864?1.25:2),4194304)/4096))}else r=1+(Math.max(e-t<<2,eh.length-1)>>12)<<12;let n=new Qu(r);return rh=new DataView(n.buffer,0,r),eh.copy?eh.copy(n,0,t,e):n.set(eh.slice(t,e)),sh-=t,t=0,nh=n.length-10,eh=n},_=(e,t,s)=>{let i=n.nextId;i||(i=64),i<p&&this.shouldShareStructure&&!this.shouldShareStructure(t)?(i=n.nextOwnId,i<f||(i=p),n.nextOwnId=i+1):(i>=f&&(i=p),n.nextId=i+1);let o=t.highByte=i>=96&&d?i-96>>5:-1;e[ah]=i,e.__keys__=t,n[i-64]=t,i<p?(t.isShared=!0,n.sharedLength=i-63,r=!0,o>=0?(eh[sh++]=96+(31&i),eh[sh++]=o):eh[sh++]=i):(o>=0?(eh[sh++]=213,eh[sh++]=114,eh[sh++]=96+(31&i),eh[sh++]=o):(eh[sh++]=212,eh[sh++]=114,eh[sh++]=i),s&&(y+=g*s),m.length>=h&&(m.shift()[ah]=0),m.push(e),v(t))},x=(e,r,n,s)=>{let i=eh,o=sh,a=nh,l=t;eh=th,sh=0,t=0,eh||(th=eh=new Qu(8192)),nh=eh.length-10,_(e,r,s),th=eh;let c=sh;if(eh=i,sh=o,nh=a,t=l,c>1){let e=sh+c-1;e>nh&&w(e);let r=n+t;eh.copyWithin(r+c,r+1,sh),eh.set(th.slice(0,c),r),sh=e}else eh[n+t]=th[0]}}useBuffer(e){eh=e,rh=new DataView(eh.buffer,eh.byteOffset,eh.byteLength),sh=0}clearSharedData(){this.structures&&(this.structures=[])}}function ch(e,t,r,n){let s=e.byteLength;if(s+1<256){var{target:i,position:o}=r(4+s);i[o++]=199,i[o++]=s+1}else if(s+1<65536){var{target:i,position:o}=r(5+s);i[o++]=200,i[o++]=s+1>>8,i[o++]=s+1&255}else{var{target:i,position:o,targetView:a}=r(7+s);i[o++]=201,a.setUint32(o,s+1),o+=4}i[o++]=116,i[o++]=t,i.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o)}function uh(e,t){let r=e.byteLength;var n,s;if(r<256){var{target:n,position:s}=t(r+2);n[s++]=196,n[s++]=r}else if(r<65536){var{target:n,position:s}=t(r+3);n[s++]=197,n[s++]=r>>8,n[s++]=255&r}else{var{target:n,position:s,targetView:i}=t(r+5);n[s++]=198,i.setUint32(s,r),s+=4}n.set(e,s)}function hh(e,t,r,n){let s=e.length;switch(s){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:s<256?(t[r++]=199,t[r++]=s):s<65536?(t[r++]=200,t[r++]=s>>8,t[r++]=255&s):(t[r++]=201,t[r++]=s>>24,t[r++]=s>>16&255,t[r++]=s>>8&255,t[r++]=255&s)}return t[r++]=n,t.set(e,r),r+=s}function dh(e,t){rh.setUint32(ih.position+e,sh-ih.position-e);let r=ih;ih=null,t(r[0]),t(r[1])}$u=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,du],Hu=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&n>=0&&n<4294967296){let{target:e,targetView:r,position:s}=t(6);e[s++]=214,e[s++]=255,r.setUint32(s,n)}else if(n>0&&n<17179869184){let{target:r,targetView:s,position:i}=t(10);r[i++]=215,r[i++]=255,s.setUint32(i,4e6*e.getMilliseconds()+(n/1e3/4294967296>>0)),s.setUint32(i+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:e,targetView:n,position:s}=t(3);e[s++]=212,e[s++]=255,e[s++]=255}else{let{target:r,targetView:s,position:i}=t(15);r[i++]=199,r[i++]=12,r[i++]=255,s.setUint32(i,1e6*e.getMilliseconds()),s.setBigInt64(i+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){let n=Array.from(e),{target:s,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(s[i++]=212,s[i++]=115,s[i++]=0),r(n)}},{pack(e,t,r){let{target:n,position:s}=t(this.structuredClone?3:0);this.structuredClone&&(n[s++]=212,n[s++]=101,n[s++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:s}=t(this.structuredClone?3:0);this.structuredClone&&(n[s++]=212,n[s++]=120,n[s++]=0),r([e.source,e.flags])}},{pack(e,t){this.structuredClone?ch(e,16,t):uh(Yu?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==Zu&&this.structuredClone?ch(e,ju.indexOf(r.name),t):uh(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];let ph=new lh({useRecords:!1});ph.pack,ph.pack;const fh=512,mh=1024;var yh={},gh=Uint8Array,vh=Uint16Array,bh=Uint32Array,wh=new gh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_h=new gh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xh=new gh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Eh=function(e,t){for(var r=new vh(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new bh(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return[r,s]},Th=Eh(wh,2),kh=Th[0],Sh=Th[1];kh[28]=258,Sh[258]=28;for(var Rh=Eh(_h,0),Ch=Rh[0],Mh=Rh[1],Ah=new vh(32768),Ph=0;Ph<32768;++Ph){var Oh=(43690&Ph)>>>1|(21845&Ph)<<1;Oh=(61680&(Oh=(52428&Oh)>>>2|(13107&Oh)<<2))>>>4|(3855&Oh)<<4,Ah[Ph]=((65280&Oh)>>>8|(255&Oh)<<8)>>>1}var Lh=function(e,t,r){for(var n=e.length,s=0,i=new vh(t);s<n;++s)e[s]&&++i[e[s]-1];var o,a=new vh(t);for(s=0;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;if(r){o=new vh(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var c=s<<4|e[s],u=t-e[s],h=a[e[s]-1]++<<u,d=h|(1<<u)-1;h<=d;++h)o[Ah[h]>>>l]=c}else for(o=new vh(n),s=0;s<n;++s)e[s]&&(o[s]=Ah[a[e[s]-1]++]>>>15-e[s]);return o},Bh=new gh(288);for(Ph=0;Ph<144;++Ph)Bh[Ph]=8;for(Ph=144;Ph<256;++Ph)Bh[Ph]=9;for(Ph=256;Ph<280;++Ph)Bh[Ph]=7;for(Ph=280;Ph<288;++Ph)Bh[Ph]=8;var Ih=new gh(32);for(Ph=0;Ph<32;++Ph)Ih[Ph]=5;var Dh=Lh(Bh,9,0),zh=Lh(Bh,9,1),Fh=Lh(Ih,5,0),Uh=Lh(Ih,5,1),jh=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Nh=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},Vh=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},qh=function(e){return(e+7)/8|0},Kh=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(2==e.BYTES_PER_ELEMENT?vh:4==e.BYTES_PER_ELEMENT?bh:gh)(r-t);return n.set(e.subarray(t,r)),n},Wh=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gh=function(e,t,r){var n=new Error(t||Wh[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Gh),!r)throw n;return n},Hh=function(e,t,r){var n=e.length;if(!n||r&&r.f&&!r.l)return t||new gh(0);var s=!t||r,i=!r||r.i;r||(r={}),t||(t=new gh(3*n));var o=function(e){var r=t.length;if(e>r){var n=new gh(Math.max(2*r,e));n.set(t),t=n}},a=r.f||0,l=r.p||0,c=r.b||0,u=r.l,h=r.d,d=r.m,p=r.n,f=8*n;do{if(!u){a=Nh(e,l,1);var m=Nh(e,l+1,3);if(l+=3,!m){var y=e[(R=qh(l)+4)-4]|e[R-3]<<8,g=R+y;if(g>n){i&&Gh(0);break}s&&o(c+y),t.set(e.subarray(R,g),c),r.b=c+=y,r.p=l=8*g,r.f=a;continue}if(1==m)u=zh,h=Uh,d=9,p=5;else if(2==m){var v=Nh(e,l,31)+257,b=Nh(e,l+10,15)+4,w=v+Nh(e,l+5,31)+1;l+=14;for(var _=new gh(w),x=new gh(19),E=0;E<b;++E)x[xh[E]]=Nh(e,l+3*E,7);l+=3*b;var T=jh(x),k=(1<<T)-1,S=Lh(x,T,1);for(E=0;E<w;){var R,C=S[Nh(e,l,k)];if(l+=15&C,(R=C>>>4)<16)_[E++]=R;else{var M=0,A=0;for(16==R?(A=3+Nh(e,l,3),l+=2,M=_[E-1]):17==R?(A=3+Nh(e,l,7),l+=3):18==R&&(A=11+Nh(e,l,127),l+=7);A--;)_[E++]=M}}var P=_.subarray(0,v),O=_.subarray(v);d=jh(P),p=jh(O),u=Lh(P,d,1),h=Lh(O,p,1)}else Gh(1);if(l>f){i&&Gh(0);break}}s&&o(c+131072);for(var L=(1<<d)-1,B=(1<<p)-1,I=l;;I=l){var D=(M=u[Vh(e,l)&L])>>>4;if((l+=15&M)>f){i&&Gh(0);break}if(M||Gh(2),D<256)t[c++]=D;else{if(256==D){I=l,u=null;break}var z=D-254;if(D>264){var F=wh[E=D-257];z=Nh(e,l,(1<<F)-1)+kh[E],l+=F}var U=h[Vh(e,l)&B],j=U>>>4;U||Gh(3),l+=15&U;O=Ch[j];if(j>3){F=_h[j];O+=Vh(e,l)&(1<<F)-1,l+=F}if(l>f){i&&Gh(0);break}s&&o(c+131072);for(var N=c+z;c<N;c+=4)t[c]=t[c-O],t[c+1]=t[c+1-O],t[c+2]=t[c+2-O],t[c+3]=t[c+3-O];c=N}}r.l=u,r.p=I,r.b=c,r.f=a,u&&(a=1,r.m=d,r.d=h,r.n=p)}while(!a);return c==t.length?t:Kh(t,0,c)},$h=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},Xh=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},Yh=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return[nd,0];if(1==s){var o=new gh(r[0].s+1);return o[r[0].s]=1,[o,1]}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=s-1;)a=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};var d=i[0].s;for(n=1;n<s;++n)i[n].s>d&&(d=i[n].s);var p=new vh(d+1),f=Qh(r[u-1],p,0);if(f>t){n=0;var m=0,y=f-t,g=1<<y;for(i.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));n<s;++n){var v=i[n].s;if(!(p[v]>t))break;m+=g-(1<<f-p[v]),p[v]=t}for(m>>>=y;m>0;){var b=i[n].s;p[b]<t?m-=1<<t-p[b]++-1:++n}for(;n>=0&&m;--n){var w=i[n].s;p[w]==t&&(--p[w],++m)}f=t}return[new gh(p),f]},Qh=function(e,t,r){return-1==e.s?Math.max(Qh(e.l,t,r+1),Qh(e.r,t,r+1)):t[e.s]=r},Zh=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new vh(++t),n=0,s=e[0],i=1,o=function(e){r[n++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[a]}return[r.subarray(0,n),t]},Jh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ed=function(e,t,r){var n=r.length,s=qh(t+2);e[s]=255&n,e[s+1]=n>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var i=0;i<n;++i)e[s+i+4]=r[i];return 8*(s+4+n)},td=function(e,t,r,n,s,i,o,a,l,c,u){$h(t,u++,r),++s[256];for(var h=Yh(s,15),d=h[0],p=h[1],f=Yh(i,15),m=f[0],y=f[1],g=Zh(d),v=g[0],b=g[1],w=Zh(m),_=w[0],x=w[1],E=new vh(19),T=0;T<v.length;++T)E[31&v[T]]++;for(T=0;T<_.length;++T)E[31&_[T]]++;for(var k=Yh(E,7),S=k[0],R=k[1],C=19;C>4&&!S[xh[C-1]];--C);var M,A,P,O,L=c+5<<3,B=Jh(s,Bh)+Jh(i,Ih)+o,I=Jh(s,d)+Jh(i,m)+o+14+3*C+Jh(E,S)+(2*E[16]+3*E[17]+7*E[18]);if(L<=B&&L<=I)return ed(t,u,e.subarray(l,l+c));if($h(t,u,1+(I<B)),u+=2,I<B){M=Lh(d,p,0),A=d,P=Lh(m,y,0),O=m;var D=Lh(S,R,0);$h(t,u,b-257),$h(t,u+5,x-1),$h(t,u+10,C-4),u+=14;for(T=0;T<C;++T)$h(t,u+3*T,S[xh[T]]);u+=3*C;for(var z=[v,_],F=0;F<2;++F){var U=z[F];for(T=0;T<U.length;++T){var j=31&U[T];$h(t,u,D[j]),u+=S[j],j>15&&($h(t,u,U[T]>>>5&127),u+=U[T]>>>12)}}}else M=Dh,A=Bh,P=Fh,O=Ih;for(T=0;T<a;++T)if(n[T]>255){j=n[T]>>>18&31;Xh(t,u,M[j+257]),u+=A[j+257],j>7&&($h(t,u,n[T]>>>23&31),u+=wh[j]);var N=31&n[T];Xh(t,u,P[N]),u+=O[N],N>3&&(Xh(t,u,n[T]>>>5&8191),u+=_h[N])}else Xh(t,u,M[n[T]]),u+=A[n[T]];return Xh(t,u,M[256]),u+A[256]},rd=new bh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nd=new gh(0),sd=function(e,t,r,n,s,i){var o=e.length,a=new gh(n+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(n,a.length-s),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var h=u+65535;h>=o&&(l[c>>3]=i),c=ed(l,c+1,e.subarray(u,h))}else{for(var d=rd[t-1],p=d>>>13,f=8191&d,m=(1<<r)-1,y=new vh(32768),g=new vh(m+1),v=Math.ceil(r/3),b=2*v,w=function(t){return(e[t]^e[t+1]<<v^e[t+2]<<b)&m},_=new bh(25e3),x=new vh(288),E=new vh(32),T=0,k=0,S=(u=0,0),R=0,C=0;u<o;++u){var M=w(u),A=32767&u,P=g[M];if(y[A]=P,g[M]=A,R<=u){var O=o-u;if((T>7e3||S>24576)&&O>423){c=td(e,l,0,_,x,E,k,S,C,u-C,c),S=T=k=0,C=u;for(var L=0;L<286;++L)x[L]=0;for(L=0;L<30;++L)E[L]=0}var B=2,I=0,D=f,z=A-P&32767;if(O>2&&M==w(u-z))for(var F=Math.min(p,O)-1,U=Math.min(32767,u),j=Math.min(258,O);z<=U&&--D&&A!=P;){if(e[u+B]==e[u+B-z]){for(var N=0;N<j&&e[u+N]==e[u+N-z];++N);if(N>B){if(B=N,I=z,N>F)break;var V=Math.min(z,N-2),q=0;for(L=0;L<V;++L){var K=u-z+L+32768&32767,W=K-y[K]+32768&32767;W>q&&(q=W,P=K)}}}z+=(A=P)-(P=y[A])+32768&32767}if(I){_[S++]=268435456|Sh[B]<<18|Mh[I];var G=31&Sh[B],H=31&Mh[I];k+=wh[G]+_h[H],++x[257+G],++E[H],R=u+B,++T}else _[S++]=e[u],++x[e[u]]}}c=td(e,l,i,_,x,E,k,S,C,u-C,c),!i&&7&c&&(c=ed(l,c+1,nd))}return Kh(a,0,n+qh(c)+s)},id=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}return e}(),od=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=id[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},ad=function(e,t,r,n,s){return sd(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,r,n,!s)},ld=function(e,t,r){for(var n=e(),s=e.toString(),i=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),o=0;o<n.length;++o){var a=n[o],l=i[o];if("function"==typeof a){t+=";"+l+"=";var c=a.toString();if(a.prototype)if(-1!=c.indexOf("[native code]")){var u=c.indexOf(" ",8)+1;t+=c.slice(u,c.indexOf("(",u))}else for(var h in t+=c,a.prototype)t+=";"+l+".prototype."+h+"="+a.prototype[h].toString();else t+=c}else r[l]=a}return[t,r]},cd=[],ud=function(e,t,r,n){var s;if(!cd[r]){for(var i="",o={},a=e.length-1,l=0;l<a;++l)i=(s=ld(e[l],i,o))[0],o=s[1];cd[r]=ld(e[a],i,o)}var c=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}({},cd[r][1]);return function(e,t,r,n,s){var i=new Worker(yh[t]||(yh[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return i.onmessage=function(e){var t=e.data,r=t.$e$;if(r){var n=new Error(r[0]);n.code=r[1],n.stack=r[2],s(n,null)}else s(null,t)},i.postMessage(r,n),i}(cd[r][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,c,function(e){var t=[];for(var r in e)e[r].buffer&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t}(c),n)},hd=function(){return[gh,vh,bh,wh,_h,xh,kh,Ch,zh,Uh,Ah,Wh,Lh,jh,Nh,Vh,qh,Kh,Gh,Hh,Sd,yd,gd]},dd=function(){return[gh,vh,bh,wh,_h,xh,Sh,Mh,Dh,Bh,Fh,Ih,Ah,rd,nd,Lh,$h,Xh,Yh,Qh,Zh,Jh,ed,td,qh,Kh,sd,ad,kd,yd]},pd=function(){return[wd,Ed,bd,od,id]},fd=function(){return[_d,xd]},md=function(){return[Td]},yd=function(e){return postMessage(e,[e.buffer])},gd=function(e){return e&&e.size&&new gh(e.size)},vd=function(e,t,r,n,s,i){var o=ud(r,n,s,(function(e,t){o.terminate(),i(e,t)}));return o.postMessage([e,t],t.consume?[e.buffer]:[]),function(){o.terminate()}},bd=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},wd=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&bd(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},_d=function(e){31==e[0]&&139==e[1]&&8==e[2]||Gh(6,"invalid gzip data");var t=e[3],r=10;4&t&&(r+=e[10]|2+(e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(2&t)},xd=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},Ed=function(e){return 10+(e.filename&&e.filename.length+1||0)},Td=function(e){(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)&&Gh(6,"invalid zlib data"),32&e[1]&&Gh(6,"invalid zlib data: preset dictionaries not supported")};function kd(e,t){return ad(e,t||{},0,0)}function Sd(e,t){return Hh(e,t)}function Rd(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&Gh(7),vd(e,t,[dd,pd,function(){return[Cd]}],(function(e){return yd(Cd(e.data[0],e.data[1]))}),2,r)}function Cd(e,t){t||(t={});var r=od(),n=e.length;r.p(e);var s=ad(e,t,Ed(t),8),i=s.length;return wd(s,t),bd(s,i-8,r.d()),bd(s,i-4,n),s}function Md(e,t){return Hh(e.subarray(_d(e),-8),t||new gh(xd(e)))}function Ad(e,t){return Hh((Td(e),e.subarray(2,-4)),t)}function Pd(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&Gh(7),31==e[0]&&139==e[1]&&8==e[2]?function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&Gh(7),vd(e,t,[hd,fd,function(){return[Md]}],(function(e){return yd(Md(e.data[0]))}),3,r)}(e,t,r):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&Gh(7),vd(e,t,[hd],(function(e){return yd(Sd(e.data[0],gd(e.data[1])))}),1,r)}(e,t,r):function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&Gh(7),vd(e,t,[hd,md,function(){return[Ad]}],(function(e){return yd(Ad(e.data[0],gd(e.data[1])))}),5,r)}(e,t,r)}var Od="undefined"!=typeof TextDecoder&&new TextDecoder;try{Od.decode(nd,{stream:!0}),1}catch(e){}const Ld=[];for(let e=0;e<256;e++)Ld[e]=(e<16?"0":"")+e.toString(16);function Bd(e,t,r){return Math.max(t,Math.min(r,e))}class Id{constructor(e=0,t=0,r=0,n=1){this._x=e,this._y=t,this._z=r,this._w=n}static slerp(e,t,r,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,n)}static slerpFlat(e,t,r,n,s,i,o){let a=r[n+0],l=r[n+1],c=r[n+2],u=r[n+3];const h=s[i+0],d=s[i+1],p=s[i+2],f=s[i+3];if(0===o)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=f);if(u!==f||a!==h||l!==d||c!==p){let e=1-o;const t=a*h+l*d+c*p+u*f,r=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const s=Math.sqrt(n),i=Math.atan2(s,t*r);e=Math.sin(e*i)/s,o=Math.sin(o*i)/s}const s=o*r;if(a=a*e+h*s,l=l*e+d*s,c=c*e+p*s,u=u*e+f*s,e===1-o){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,n,s,i){const o=r[n],a=r[n+1],l=r[n+2],c=r[n+3],u=s[i],h=s[i+1],d=s[i+2],p=s[i+3];return e[t]=o*p+c*u+a*d-l*h,e[t+1]=a*p+c*h+l*u-o*d,e[t+2]=l*p+c*d+o*h-a*u,e[t+3]=c*p-o*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,n=e._y,s=e._z,i=e._order,o=Math.cos,a=Math.sin,l=o(r/2),c=o(n/2),u=o(s/2),h=a(r/2),d=a(n/2),p=a(s/2);switch(i){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],n=t[4],s=t[8],i=t[1],o=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=r+o+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(s-l)*e,this._z=(i-n)*e}else if(r>o&&r>u){const e=2*Math.sqrt(1+r-o-u);this._w=(c-a)/e,this._x=.25*e,this._y=(n+i)/e,this._z=(s+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-r-u);this._w=(s-l)/e,this._x=(n+i)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-r-o);this._w=(i-n)/e,this._x=(s+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bd(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(0===r)return this;const n=Math.min(1,t/r);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,n=e._y,s=e._z,i=e._w,o=t._x,a=t._y,l=t._z,c=t._w;return this._x=r*c+i*o+n*l-s*a,this._y=n*c+i*a+s*o-r*l,this._z=s*c+i*l+r*a-n*o,this._w=i*c-r*o-n*a-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const r=this._x,n=this._y,s=this._z,i=this._w;let o=i*e._w+r*e._x+n*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=i,this._x=r,this._y=n,this._z=s,this;const a=1-o*o;if(a<=Number.EPSILON){const e=1-t;return this._w=e*i+t*this._w,this._x=e*r+t*this._x,this._y=e*n+t*this._y,this._z=e*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,o),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=i*u+this._w*h,this._x=r*u+this._x*h,this._y=n*u+this._y*h,this._z=s*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),n=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(n),r*Math.sin(s),r*Math.cos(s),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Id.prototype.isQuaternion=!0;class Dd{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Fd.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Fd.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*n,this.y=s[1]*t+s[4]*r+s[7]*n,this.z=s[2]*t+s[5]*r+s[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,n=this.z,s=e.elements,i=1/(s[3]*t+s[7]*r+s[11]*n+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*n+s[12])*i,this.y=(s[1]*t+s[5]*r+s[9]*n+s[13])*i,this.z=(s[2]*t+s[6]*r+s[10]*n+s[14])*i,this}applyQuaternion(e){const t=this.x,r=this.y,n=this.z,s=e.x,i=e.y,o=e.z,a=e.w,l=a*t+i*n-o*r,c=a*r+o*t-s*n,u=a*n+s*r-i*t,h=-s*t-i*r-o*n;return this.x=l*a+h*-s+c*-o-u*-i,this.y=c*a+h*-i+u*-s-l*-o,this.z=u*a+h*-o+l*-i-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*n,this.y=s[1]*t+s[5]*r+s[9]*n,this.z=s[2]*t+s[6]*r+s[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,n=e.y,s=e.z,i=t.x,o=t.y,a=t.z;return this.x=n*a-s*o,this.y=s*i-r*a,this.z=r*o-n*i,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return zd.copy(this).projectOnVector(e),this.sub(zd)}reflect(e){return this.sub(zd.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Bd(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const n=Math.sin(t)*e;return this.x=n*Math.sin(r),this.y=Math.cos(t)*e,this.z=n*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Dd.prototype.isVector3=!0;const zd=new Dd,Fd=new Id;class Ud{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,n,s,i,o,a,l,c,u,h,d,p,f,m){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=n,y[1]=s,y[5]=i,y[9]=o,y[13]=a,y[2]=l,y[6]=c,y[10]=u,y[14]=h,y[3]=d,y[7]=p,y[11]=f,y[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ud).fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,n=1/jd.setFromMatrixColumn(e,0).length(),s=1/jd.setFromMatrixColumn(e,1).length(),i=1/jd.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*i,t[9]=r[9]*i,t[10]=r[10]*i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,n=e.y,s=e.z,i=Math.cos(r),o=Math.sin(r),a=Math.cos(n),l=Math.sin(n),c=Math.cos(s),u=Math.sin(s);if("XYZ"===e.order){const e=i*c,r=i*u,n=o*c,s=o*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=r+n*l,t[5]=e-s*l,t[9]=-o*a,t[2]=s-e*l,t[6]=n+r*l,t[10]=i*a}else if("YXZ"===e.order){const e=a*c,r=a*u,n=l*c,s=l*u;t[0]=e+s*o,t[4]=n*o-r,t[8]=i*l,t[1]=i*u,t[5]=i*c,t[9]=-o,t[2]=r*o-n,t[6]=s+e*o,t[10]=i*a}else if("ZXY"===e.order){const e=a*c,r=a*u,n=l*c,s=l*u;t[0]=e-s*o,t[4]=-i*u,t[8]=n+r*o,t[1]=r+n*o,t[5]=i*c,t[9]=s-e*o,t[2]=-i*l,t[6]=o,t[10]=i*a}else if("ZYX"===e.order){const e=i*c,r=i*u,n=o*c,s=o*u;t[0]=a*c,t[4]=n*l-r,t[8]=e*l+s,t[1]=a*u,t[5]=s*l+e,t[9]=r*l-n,t[2]=-l,t[6]=o*a,t[10]=i*a}else if("YZX"===e.order){const e=i*a,r=i*l,n=o*a,s=o*l;t[0]=a*c,t[4]=s-e*u,t[8]=n*u+r,t[1]=u,t[5]=i*c,t[9]=-o*c,t[2]=-l*c,t[6]=r*u+n,t[10]=e-s*u}else if("XZY"===e.order){const e=i*a,r=i*l,n=o*a,s=o*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+s,t[5]=i*c,t[9]=r*u-n,t[2]=n*u-r,t[6]=o*c,t[10]=s*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Vd,e,qd)}lookAt(e,t,r){const n=this.elements;return Gd.subVectors(e,t),0===Gd.lengthSq()&&(Gd.z=1),Gd.normalize(),Kd.crossVectors(r,Gd),0===Kd.lengthSq()&&(1===Math.abs(r.z)?Gd.x+=1e-4:Gd.z+=1e-4,Gd.normalize(),Kd.crossVectors(r,Gd)),Kd.normalize(),Wd.crossVectors(Gd,Kd),n[0]=Kd.x,n[4]=Wd.x,n[8]=Gd.x,n[1]=Kd.y,n[5]=Wd.y,n[9]=Gd.y,n[2]=Kd.z,n[6]=Wd.z,n[10]=Gd.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,n=t.elements,s=this.elements,i=r[0],o=r[4],a=r[8],l=r[12],c=r[1],u=r[5],h=r[9],d=r[13],p=r[2],f=r[6],m=r[10],y=r[14],g=r[3],v=r[7],b=r[11],w=r[15],_=n[0],x=n[4],E=n[8],T=n[12],k=n[1],S=n[5],R=n[9],C=n[13],M=n[2],A=n[6],P=n[10],O=n[14],L=n[3],B=n[7],I=n[11],D=n[15];return s[0]=i*_+o*k+a*M+l*L,s[4]=i*x+o*S+a*A+l*B,s[8]=i*E+o*R+a*P+l*I,s[12]=i*T+o*C+a*O+l*D,s[1]=c*_+u*k+h*M+d*L,s[5]=c*x+u*S+h*A+d*B,s[9]=c*E+u*R+h*P+d*I,s[13]=c*T+u*C+h*O+d*D,s[2]=p*_+f*k+m*M+y*L,s[6]=p*x+f*S+m*A+y*B,s[10]=p*E+f*R+m*P+y*I,s[14]=p*T+f*C+m*O+y*D,s[3]=g*_+v*k+b*M+w*L,s[7]=g*x+v*S+b*A+w*B,s[11]=g*E+v*R+b*P+w*I,s[15]=g*T+v*C+b*O+w*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],n=e[8],s=e[12],i=e[1],o=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+s*a*u-n*l*u-s*o*h+r*l*h+n*o*d-r*a*d)+e[7]*(+t*a*d-t*l*h+s*i*h-n*i*d+n*l*c-s*a*c)+e[11]*(+t*l*u-t*o*d-s*i*u+r*i*d+s*o*c-r*l*c)+e[15]*(-n*o*c-t*a*u+t*o*h+n*i*u-r*i*h+r*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],n=e[2],s=e[3],i=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],y=e[15],g=u*m*l-f*h*l+f*a*d-o*m*d-u*a*y+o*h*y,v=p*h*l-c*m*l-p*a*d+i*m*d+c*a*y-i*h*y,b=c*f*l-p*u*l+p*o*d-i*f*d-c*o*y+i*u*y,w=p*u*a-c*f*a-p*o*h+i*f*h+c*o*m-i*u*m,_=t*g+r*v+n*b+s*w;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/_;return e[0]=g*x,e[1]=(f*h*s-u*m*s-f*n*d+r*m*d+u*n*y-r*h*y)*x,e[2]=(o*m*s-f*a*s+f*n*l-r*m*l-o*n*y+r*a*y)*x,e[3]=(u*a*s-o*h*s-u*n*l+r*h*l+o*n*d-r*a*d)*x,e[4]=v*x,e[5]=(c*m*s-p*h*s+p*n*d-t*m*d-c*n*y+t*h*y)*x,e[6]=(p*a*s-i*m*s-p*n*l+t*m*l+i*n*y-t*a*y)*x,e[7]=(i*h*s-c*a*s+c*n*l-t*h*l-i*n*d+t*a*d)*x,e[8]=b*x,e[9]=(p*u*s-c*f*s-p*r*d+t*f*d+c*r*y-t*u*y)*x,e[10]=(i*f*s-p*o*s+p*r*l-t*f*l-i*r*y+t*o*y)*x,e[11]=(c*o*s-i*u*s-c*r*l+t*u*l+i*r*d-t*o*d)*x,e[12]=w*x,e[13]=(c*f*n-p*u*n+p*r*h-t*f*h-c*r*m+t*u*m)*x,e[14]=(p*o*n-i*f*n-p*r*a+t*f*a+i*r*m-t*o*m)*x,e[15]=(i*u*n-c*o*n+c*r*a-t*u*a-i*r*h+t*o*h)*x,this}scale(e){const t=this.elements,r=e.x,n=e.y,s=e.z;return t[0]*=r,t[4]*=n,t[8]*=s,t[1]*=r,t[5]*=n,t[9]*=s,t[2]*=r,t[6]*=n,t[10]*=s,t[3]*=r,t[7]*=n,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),n=Math.sin(t),s=1-r,i=e.x,o=e.y,a=e.z,l=s*i,c=s*o;return this.set(l*i+r,l*o-n*a,l*a+n*o,0,l*o+n*a,c*o+r,c*a-n*i,0,l*a-n*o,c*a+n*i,s*a*a+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,n,s,i){return this.set(1,r,s,0,e,1,i,0,t,n,1,0,0,0,0,1),this}compose(e,t,r){const n=this.elements,s=t._x,i=t._y,o=t._z,a=t._w,l=s+s,c=i+i,u=o+o,h=s*l,d=s*c,p=s*u,f=i*c,m=i*u,y=o*u,g=a*l,v=a*c,b=a*u,w=r.x,_=r.y,x=r.z;return n[0]=(1-(f+y))*w,n[1]=(d+b)*w,n[2]=(p-v)*w,n[3]=0,n[4]=(d-b)*_,n[5]=(1-(h+y))*_,n[6]=(m+g)*_,n[7]=0,n[8]=(p+v)*x,n[9]=(m-g)*x,n[10]=(1-(h+f))*x,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,r){const n=this.elements;let s=jd.set(n[0],n[1],n[2]).length();const i=jd.set(n[4],n[5],n[6]).length(),o=jd.set(n[8],n[9],n[10]).length();this.determinant()<0&&(s=-s),e.x=n[12],e.y=n[13],e.z=n[14],Nd.copy(this);const a=1/s,l=1/i,c=1/o;return Nd.elements[0]*=a,Nd.elements[1]*=a,Nd.elements[2]*=a,Nd.elements[4]*=l,Nd.elements[5]*=l,Nd.elements[6]*=l,Nd.elements[8]*=c,Nd.elements[9]*=c,Nd.elements[10]*=c,t.setFromRotationMatrix(Nd),r.x=s,r.y=i,r.z=o,this}makePerspective(e,t,r,n,s,i){void 0===i&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*s/(t-e),l=2*s/(r-n),c=(t+e)/(t-e),u=(r+n)/(r-n),h=-(i+s)/(i-s),d=-2*i*s/(i-s);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,n,s,i){const o=this.elements,a=1/(t-e),l=1/(r-n),c=1/(i-s),u=(t+e)*a,h=(r+n)*l,d=(i+s)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let e=0;e<16;e++)if(t[e]!==r[e])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Ud.prototype.isMatrix4=!0;const jd=new Dd,Nd=new Ud,Vd=new Dd(0,0,0),qd=new Dd(1,1,1),Kd=new Dd,Wd=new Dd,Gd=new Dd,Hd=new Ud;class $d extends Lc{states;textures;constructor(e){super(e),this.version(3).stores({states:"&hash",textures:"&hash, timestamp"})}}function Xd(e){return function(e){return 1<<31-Math.clz32(e)}(2*(e-1))}class Yd extends class{MINIMUM_RENDER_ATTEMPTS=3;WebRenderer=Mi;autosave=!0;autosaveDelay=1e4;_autosaveTimer;pixelsPerMeter=1e3;get pixelPerUnit(){return this.pixelsPerMeter}store;serializeQueue=[];rasterizeQueue=[];optimizeQueue=[];textEncoder=new TextEncoder;ktx2Encoder=new class{pool=new class{pool;queue=[];workers=[];workersResolve=[];workerStatus=0;workerCreator;constructor(e=4){this.pool=e}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const r=this.workersResolve[e];if(r&&r(t),this.queue.length){const{resolve:t,msg:r,transfer:n}=this.queue.shift();this.workersResolve[e]=t,this.workers[e].postMessage(r,n)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise((r=>{const n=this._getIdleWorker();-1!==n?(this._initWorker(n),this.workerStatus|=1<<n,this.workersResolve[n]=r,this.workers[n].postMessage(e,t)):this.queue.push({resolve:r,msg:e,transfer:t})}))}dispose(){this.workers.forEach((e=>e.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}(1);constructor(){this.pool.setWorkerCreator((()=>new Worker(Vc)))}async encode(e){const t=await this.pool.postMessage(e,[e.data.buffer]);if(t.data.error)throw new Error(t.data.error);if(!t.data.texture)throw new Error("Encoding failed");return t.data.texture}};_unsavedTextureData=new Map;_stateData=new Map;_textureData=new Map;_imagePool=[];constructor(e="ethereal-web-store"){this.store=new $d(e)}saveStore(){const e=Array.from(this._stateData.entries()).filter((([e,t])=>"string"==typeof e)).map((([e,t])=>({hash:e,textureHash:t.texture?.hash}))),t=Array.from(this._unsavedTextureData.values());return this._unsavedTextureData.clear(),this.loadIntoStore({stateData:e,textureData:t})}_packr=new lh({structuredClone:!0});_unpackr=new mu({structuredClone:!0});async importCache(e){try{const t=await fetch(e),r=await t.arrayBuffer(),n=await new Promise(((e,t)=>{Pd(new Uint8Array(r),{consume:!0},((r,n)=>{if(r)return t(r);e(n)}))})),s=this._unpackr.unpack(n);return s.textureData=s.textureData.filter((e=>e&&e.hash&&e.texture)),console.log(`Importing weblayer cache data from ${e} with `+s.stateData.length+" states and "+s.textureData.length+" textures"),console.log(s),this.loadIntoStore(s)}catch(e){console.warn("Failed to import cache",e)}}getActiveStateHashes(){return Array.from(this._stateData.keys()).filter((e=>"string"==typeof e))}async exportCache(e=this.getActiveStateHashes()){const t=await this.store.states.bulkGet(e);let r=await this.store.textures.bulkGet(t.map((e=>e.textureHash)).filter((e=>"string"==typeof e)));r=r.filter((e=>e&&"string"==typeof e.hash&&e.texture));const n={stateData:t,textureData:r},s=this._packr.pack(n);return new Promise(((e,t)=>{Rd(s,{consume:!0},((r,n)=>{if(r)return t(r);e(new Blob([n.buffer]))}))}))}async downloadCache(){await this.saveStore();const e=await this.exportCache(),t=location.pathname.split("/").filter((e=>e));Fs(e,"web."+location.host+"."+(t[t.length-1]??"")+".cache")}async loadIntoStore(e){for(const t of e.textureData){const e=this._textureData.get(t.hash)||{hash:t.hash,canvas:void 0,ktx2Url:void 0};!e.ktx2Url&&t.texture&&(e.ktx2Url=URL.createObjectURL(new Blob([t.texture],{type:"image/ktx2"})))}for(const t of e.stateData){const e=this.getLayerState(t.hash);if(!e.texture&&t.textureHash){const r=this._textureData.get(t.textureHash);e.texture=r}}return Promise.all([this.store.states.bulkPut(e.stateData),this.store.textures.bulkPut(e.textureData)])}getLayerState(e){let t=this._stateData.get(e);return t||(t={cssTransform:void 0,bounds:new Bs,margin:new Is,padding:new Is,border:new Is,fullWidth:0,fullHeight:0,renderAttempts:0,textureWidth:32,textureHeight:32,pixelRatio:1,texture:void 0,pseudo:{hover:!1,active:!1,focus:!1,target:!1}},this._stateData.set(e,t)),t}getTextureState(e){let t=this._textureData.get(e);return t||(t={hash:e,canvas:void 0,ktx2Url:void 0},this._textureData.set(e,t)),t}_statesRequestedFromStore=new Set;_texturesRequestedFromStore=new Set;async requestStoredData(e){const t=this.getLayerState(e);if("string"!=typeof e)return t;if(!this._statesRequestedFromStore.has(e)){this._statesRequestedFromStore.add(e);const r=await this.store.states.get(e);r?.textureHash&&(t.texture=this.getTextureState(r.textureHash))}const r=t.texture;if(r&&r.hash&&!r.canvas&&!r.ktx2Url&&!this._texturesRequestedFromStore.has(r?.hash)){this._texturesRequestedFromStore.add(r.hash);const e=await this.store.textures.get(r.hash);if(e?.texture&&!r.canvas){const t=await new Promise(((t,r)=>{Pd(e.texture,{consume:!0},((e,n)=>{if(e)return r(e);t(n)}))}));r.canvas||(r.ktx2Url=URL.createObjectURL(new Blob([t.buffer],{type:"image/ktx2"})))}}return t}async compressTexture(e){const t=this._textureData.get(e),r=t?.canvas;if(!r)throw new Error("Missing texture canvas");const n=this.getImageData(r),s=await this.ktx2Encoder.encode(n),i=this._unsavedTextureData.get(e)||{hash:e,timestamp:Date.now(),texture:void 0};t.ktx2Url=URL.createObjectURL(new Blob([s],{type:"image/ktx2"}));const o=await new Promise(((e,t)=>{Rd(new Uint8Array(s),{consume:!0},((r,n)=>{if(r)return t(r);e(n)}))}));i.texture=o,this._unsavedTextureData.set(e,i)}tasksPending=!1;serializePendingCount=0;rasterizePendingCount=0;MAX_SERIALIZE_TASK_COUNT=10;MAX_RASTERIZE_TASK_COUNT=10;scheduleTasksIfNeeded(){this.tasksPending||0===this.serializeQueue.length&&0===this.rasterizeQueue.length||(this.tasksPending=!0,setTimeout(this._runTasks,1))}_runTasks=()=>{const e=this.serializeQueue,t=this.rasterizeQueue;for(;e.length>0&&this.serializePendingCount<this.MAX_SERIALIZE_TASK_COUNT;){this.serializePendingCount++;const{layer:t,resolve:r}=e.shift();this.serialize(t).then((e=>{this.serializePendingCount--,r(e)}))}for(;t.length>0&&this.rasterizePendingCount<this.MAX_RASTERIZE_TASK_COUNT;){this.rasterizePendingCount++;const{hash:e,svgUrl:r,resolve:n}=t.shift();this.rasterize(e,r).finally((()=>{this.rasterizePendingCount--,n(void 0),this._autosaveTimer&&clearTimeout(this._autosaveTimer),this.autosave&&(this._autosaveTimer=setTimeout((()=>{this.saveStore()}),this.autosaveDelay))}))}this.tasksPending=!1};addToSerializeQueue(e){const t=this.serializeQueue.find((t=>t.layer===e));if(t)return t.promise;let r;const n=new Promise((e=>{r=e}));return this.serializeQueue.push({layer:e,resolve:r,promise:n}),n}updateDOMMetrics(e){const t=e.domMetrics;Ds(e.element,t.bounds,e.parentLayer?.element),function(e,t){if(null===e.offsetParent)return void(t.left=t.right=t.top=t.bottom=0);let r=getComputedStyle(e);t.left=parseFloat(r.marginLeft)||0,t.right=parseFloat(r.marginRight)||0,t.top=parseFloat(r.marginTop)||0,t.bottom=parseFloat(r.marginBottom)||0}(e.element,t.margin),function(e,t){let r=getComputedStyle(e);t.left=parseFloat(r.paddingLeft)||0,t.right=parseFloat(r.paddingRight)||0,t.top=parseFloat(r.paddingTop)||0,t.bottom=parseFloat(r.paddingBottom)||0}(e.element,t.padding),function(e,t){let r=getComputedStyle(e);t.left=parseFloat(r.borderLeftWidth)||0,t.right=parseFloat(r.borderRightWidth)||0,t.top=parseFloat(r.borderTopWidth)||0,t.bottom=parseFloat(r.borderBottomWidth)||0}(e.element,t.border)}async serialize(e){this.updateDOMMetrics(e);const t=e.element,r=e.domMetrics,{top:n,left:s,width:i,height:o}=r.bounds,{top:a,left:l,bottom:c,right:u}=r.margin,h=i+Math.max(l,0)+Math.max(u,0),d=o+Math.max(a,0)+Math.max(c,0),p=e.pixelRatio||parseFloat(e.element.getAttribute(Mi.PIXEL_RATIO_ATTRIBUTE))||1,f=Math.max(Xd(h*p),32),m=Math.max(Xd(d*p),32),y={};let g;const v=getComputedStyle(t),b=v.transform;let w=null;if(b&&"none"!==b){const e=1/this.pixelsPerMeter;w=Mi.parseCSSTransform(v,i,o,e,Hd)}if(e.isMediaElement)y.stateKey=t;else{const r=Mi.attributeHTML(Mi.LAYER_ATTRIBUTE,""),n="inline"===v.display;Mi.updateInputAttributes(t);const s=function(e,t,r,n){const s=[],i=[];e.manager.updateDOMMetrics(e);const o=e.domMetrics;let a=e.element.parentElement;a||(a=document.documentElement);do{let e=a.tagName.toLowerCase(),l=" ",c="";for(const e of a.attributes){const t=qc(e.value);"style"!==e.name?l+=`${e.name}="${t}" `:c=t}const u="<"+e+("html"===e?` ${Mi.RENDERING_DOCUMENT_ATTRIBUTE}="" xmlns="http://www.w3.org/1999/xhtml"\n                    style="${$c(n)} --x-width:${o.bounds.width}px; --x-height:${o.bounds.height}px; ${c} width:${t}px; height:${r}px;" `:` style="${c}" ${Mi.RENDERING_PARENT_ATTRIBUTE}="" `)+l+" >";s.unshift(u);const h="</"+e+">";if(i.push(h),"html"==e)break}while(a=a!==document.documentElement?a.parentElement||document.documentElement:null);return[s.join(""),i.join("")]}(e,h,d,p),i=await Mi.getAllEmbeddedStyles(t);let o=await async function(e,t=Hc){return(await Gc(e,{depth:0,target:e,replacer:t})).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}(t);o=o.replace(r,`${r} ${Mi.RENDERING_ATTRIBUTE}="" `+(n?`${Mi.RENDERING_INLINE_ATTRIBUTE}="" `:" ")+" "+Mi.getPsuedoAttributes(e.desiredPseudoState)),g='<svg width="'+f+'" height="'+m+'" xmlns="http://www.w3.org/2000/svg"><defs><style type="text/css"><![CDATA[\n'+i.join("\n")+']]></style></defs><foreignObject x="0" y="0" width="'+f+'" height="'+m+'">'+s[0]+o+s[1]+"</foreignObject></svg>";const a=Qc(await crypto.subtle.digest("SHA-1",this.textEncoder.encode(g)))+"?w="+h+";h="+d+";tw="+f+";th="+m;y.stateKey=a}const _=await this.requestStoredData(y.stateKey);return _.cssTransform=w?.clone(),_.bounds.left=s,_.bounds.top=n,_.bounds.width=i,_.bounds.height=o,_.margin.left=l,_.margin.top=a,_.margin.right=u,_.margin.bottom=c,_.fullWidth=h,_.fullHeight=d,_.pixelRatio=p,_.textureWidth=f,_.textureHeight=m,e.desiredDOMStateKey=y.stateKey,"string"==typeof y.stateKey&&e.allStateHashes.add(y.stateKey),y.needsRasterize=!e.isMediaElement&&h*d>0&&!_.texture?.hash,y.svgUrl=y.needsRasterize&&g?"data:image/svg+xml;utf8,"+encodeURIComponent(g):void 0,e.lastSVGUrl=y.svgUrl,y}async rasterize(e,t){const r=this.getLayerState(e),n=this._imagePool.pop()||new Image,{fullWidth:s,fullHeight:i,textureWidth:o,textureHeight:a,pixelRatio:l}=r;if(await new Promise(((e,r)=>{n.onload=()=>{e()},n.onerror=e=>{r(e)},n.width=o,n.height=a,n.src=t})),!n.complete||n.currentSrc!==t)throw new Error("Rasterization Failed");await n.decode();const c=Math.floor(s*l),u=Math.floor(i*l),h=await this.rasterizeToCanvas(n,c,u,30,30),d=this.getImageData(h),p=Qc(await crypto.subtle.digest("SHA-1",d.data))+"?w="+o+";h="+a,f=r.texture?.hash;f!==p&&(r.renderAttempts=0),r.renderAttempts++,r.texture=this.getTextureState(p);const m=r.texture.canvas||r.texture.ktx2Url;if(!(r.renderAttempts>this.MINIMUM_RENDER_ATTEMPTS&&m||(setTimeout((()=>this.addToRasterizeQueue(e,t)),2*(500+1e3*Math.random())^r.renderAttempts),r.texture.canvas))){r.texture.canvas=await this.rasterizeToCanvas(n,c,u,o,a);try{await this.compressTexture(p)}finally{this._imagePool.push(n)}}}async rasterizeToCanvas(e,t,r,n,s,i){(i=i||document.createElement("canvas")).width=n,i.height=s;const o=i.getContext("2d");return o.imageSmoothingEnabled=!0,o.imageSmoothingQuality="high",o.drawImage(e,0,0,t,r,0,0,n,s),i}getImageData(e){return e.getContext("2d").getImageData(0,0,e.width,e.height)}addToRasterizeQueue(e,t){const r=this.rasterizeQueue.find((t=>t.hash===e));if(r)return r.promise;let n;const s=new Promise((e=>{n=e}));return this.rasterizeQueue.push({hash:e,svgUrl:t,resolve:n,promise:s}),s}optimizeImageData(e){}addToOptimizeQueue(e){}}{static DEFAULT_TRANSCODER_PATH="https://unpkg.com/@loaders.gl/textures@3.1.7/dist/libs/";static initialize(e){Yd.instance=new Yd,Yd.instance.renderer=e,Yd.instance.ktx2Loader.detectSupport(e)}static instance;constructor(){super(),this.ktx2Loader.setTranscoderPath(Yd.DEFAULT_TRANSCODER_PATH)}renderer;textureEncoding=t.sRGBEncoding;ktx2Loader=new zi;texturesByHash=new Map;layersByElement=new WeakMap;layersByMesh=new WeakMap;getTexture(e){const t=this.getTextureState(e);return this.texturesByHash.has(e)||this.texturesByHash.set(e,{}),this._loadCompressedTextureIfNecessary(t),this._loadCanvasTextureIfNecessary(t),this.texturesByHash.get(e)}_compressedTexturePromise=new Map;_loadCompressedTextureIfNecessary(e){const r=e.ktx2Url;r&&(this._compressedTexturePromise.has(e.hash)||new Promise((n=>{this._compressedTexturePromise.set(e.hash,n),this.ktx2Loader.loadAsync(r).then((r=>{r.wrapS=t.ClampToEdgeWrapping,r.wrapT=t.ClampToEdgeWrapping,r.minFilter=t.LinearFilter,r.encoding=this.textureEncoding,this.texturesByHash.get(e.hash).compressedTexture=r})).finally((()=>{n(void 0)}))})))}_canvasTexturePromise=new Map;_loadCanvasTextureIfNecessary(e){const r=this.texturesByHash.get(e.hash);if(r.compressedTexture)return r.canvasTexture?.dispose(),void(r.canvasTexture=void 0);const n=e.canvas;if(n&&!r.canvasTexture&&!r.compressedTexture){const e=new t.CanvasTexture(n);e.wrapS=t.ClampToEdgeWrapping,e.wrapT=t.ClampToEdgeWrapping,e.minFilter=t.LinearFilter,e.encoding=this.textureEncoding,e.flipY=!1,r.canvasTexture=e}}}const Qd=new t.Vector3,Zd=new t.Vector3,Jd=new Bs;class ep extends t.Object3D{containerElement;options;rootLayer;raycaster=new t.Raycaster;_interactionRays=[];_hitIntersections=[];constructor(e,t={}){super(),t.manager||(t.manager=Yd.instance),this.options=t;const r="string"==typeof e?function(e){const t=document.createElement("div");t.innerHTML=e;const r=t.firstElementChild;return t.removeChild(r),r}(e):e;this.containerElement=Mi.createLayerTree(r,t,((e,{target:t})=>{if("layercreated"===e){const e=t.layer||new Li(t,this);t===r?(e[Ai]=()=>this._updateInteractions(),this.rootLayer=e,this.add(e)):e.parentWebLayer?.add(e),this.options.onLayerCreate?.(e)}else if("layermoved"===e){const e=this.options.manager.layersByElement.get(t);e.parentWebLayer?.add(e)}})),this.containerElement.container=this,this.refresh(),this.update()}get manager(){return this.options.manager}get interactionRays(){return this._interactionRays}set interactionRays(e){this._interactionRays=e}async updateUntilReady(){const e=setInterval((()=>{this.update()}),20);this.rootLayer.setNeedsRefresh(!0),await this.rootLayer.refresh(!0),clearInterval(e)}update(){this.rootLayer.update(!0)}refresh(){this.rootLayer.refresh(!0)}querySelector(e){return this.rootLayer.querySelector(e)}get contentMesh(){return this.rootLayer.contentMesh}_previousHoverLayers=new Set;_contentMeshes=[];_prepareHitTest=e=>{e.desiredPseudoStates.hover&&this._previousHoverLayers.add(e),e.cursor.visible=!1,e.desiredPseudoStates.hover=!1,e.contentMesh.visible&&this._contentMeshes.push(e.contentMesh)};_intersectionSort(e,t){const r=e.object.parent,n=t.object.parent;return r.depth!==n.depth?n.depth-r.depth:n.index-r.index}_updateInteractions(){const e=this._previousHoverLayers;e.clear(),this._contentMeshes.length=0,this.rootLayer.traverseLayersPreOrder(this._prepareHitTest);for(const t of this._interactionRays){"isObject3D"in t&&t.isObject3D?this.raycaster.ray.set(t.getWorldPosition(Qd),t.getWorldDirection(Zd).negate()):this.raycaster.ray.copy(t),this._hitIntersections.length=0;const r=this.raycaster.intersectObjects(this._contentMeshes,!1,this._hitIntersections);r.sort(this._intersectionSort);const n=r[0];if(n){const t=n.object.parent;t.cursor.position.copy(n.point),t.cursor.visible=!0,t.desiredPseudoStates.hover=!0,e.has(t)||t.setNeedsRefresh()}}for(const t of e)t.desiredPseudoStates.hover||t.setNeedsRefresh()}hitTest(e){const t=this.raycaster,r=this._hitIntersections,n=this.options.manager.layersByMesh;"isObject3D"in e&&e.isObject3D?this.raycaster.ray.set(e.getWorldPosition(Qd),e.getWorldDirection(Zd).negate()):this.raycaster.ray.copy(e),r.length=0,t.intersectObject(this,!0,r),r.sort(this._intersectionSort);for(const e of r){const t=n.get(e.object);if(!t)continue;const r=t.bounds,s=t.margin,i=r.width+s.left+s.right,o=r.height+s.top+s.bottom;if(i*o==0)continue;let a=t.element;const l=e.uv.x*i-s.left,c=e.uv.y*o-s.top;return Ls(t.element,(e=>{if(!a.contains(e))return!1;const r=Ds(e,Jd,t.element),{left:n,top:s,width:i,height:o}=r;return l>n&&l<n+i&&c>s&&c<s+o&&(a=e,!0)})),{layer:t,intersection:e,target:a}}}destroy(){this.containerElement.remove(),this.removeFromParent(),this.rootLayer.dispose()}async downloadCache(e){await this.manager.saveStore();const t=new Set;this.rootLayer.traverseLayersPreOrder((r=>{if(!e||e(r))for(const e of r.allStateHashes)t.add(e)}));const r=await this.manager.exportCache(Array.from(t));Fs(r,"web."+this.rootLayer.element.id+".cache")}}class tp extends class{takeOwnership;setSharedData;width;height;vueApp;vueRoot;constructor(e,t,r,n={}){this.takeOwnership=this.takeOwnershipProto.bind(this),this.setSharedData=this.setSharedDataProto.bind(this),this.width=t,this.height=r,this.vueApp=ks(e,n)}takeOwnershipProto(){return!0}setSharedDataProto(e){return!0}}{isEthereal;isInteractive;isNetworked;isStatic;updateTime;raycaster;tempV=new THREE.Vector3;size;webLayer3D;needsUpdate=!1;headDiv;readyPromise=null;static initializeEthereal(){let e=window.APP.scene;Yd.initialize(e.renderer)}static systemTick(e,t){window.APP.scene}constructor(e,t,r,n={},s={}){n.width&&n.height&&n.width>0&&n.height>0?(t=n.width,r=n.height):(n.width&&n.width>0||n.height&&n.height>0)&&(n.width&&n.width>0&&(r=n.width/t*r,t=n.width),n.height&&n.height>0&&(t=n.height/r*r,r=n.height)),super(e,t,r,s),this.isEthereal=!1,this.vueApp.provide("params",n),this.isInteractive=!1,this.isNetworked=!1,this.isStatic=!0,this.updateTime=100,this.raycaster=new THREE.Raycaster,this.size={width:t/1e3,height:r/1e3},this.headDiv=document.createElement("div")}mount(e){this.isEthereal=!0===e,this.vueRoot=this.vueApp.mount(this.headDiv);var t="";t=this.width>0?"width: "+this.width+"px; ":"width: fit-content; ",this.height>0?t=t+"height: "+this.height+"px;":t+="height: fit-content;",console.log("setting style: ",t),this.vueRoot.$el.setAttribute("style",t);let r=document.createElement("link");r.setAttribute("href","https://resources.realitymedia.digital/vue-apps/dist/hubs.css"),r.setAttribute("rel","stylesheet"),r.setAttribute("crossorigin","anonymous"),this.vueRoot.$el.insertBefore(r,this.vueRoot.$el.firstChild),this.webLayer3D=new ep(this.vueRoot?.$el,{autoRefresh:!0,onLayerCreate:e=>{e.desiredPseudoStates.hover=!0},onLayerPaint:e=>{this.isStatic&&(this.needsUpdate=!0)},renderOrderOffset:0});var n;this.readyPromise=(n=r,new Promise((e=>{n.onload=e}))).then((()=>{let e=this.vueRoot?.$el.getBoundingClientRect();console.log("mounted has rect: ",e),this.height=this.height>0?this.height:Math.ceil(1*e.height),this.width=this.width>0?this.width:Math.ceil(1*e.width),this.size={width:this.width/1e3,height:this.height/1e3},t="width: "+this.width+"px; height: "+this.height+"px;",console.log("setting style: ",t),this.vueRoot?.$el.setAttribute("style",t),this.webLayer3D?.rootLayer.setNeedsRefresh()}))}async waitForReady(){this.webLayer3D?.rootLayer.setNeedsRefresh(),await this.readyPromise,await(this.webLayer3D?.updateUntilReady().then((()=>{this.webLayer3D?.rootLayer.setNeedsRefresh()})).catch((e=>{console.error("WebLayerUpdate failed: ",e)})))}setNetworkMethods(e,t){this.takeOwnership=e,this.setSharedData=t}updateSharedData(e){this.needsUpdate=!0}getSize(){return console.log("div size: {"+this.size.width+", "+this.size.height+"}"),this.size}getSharedData(e){throw new Error("getSharedData should be overridden by subclasses")}clicked(e){if(!this.isInteractive)return;const t=e.object3D,r=this.webLayer3D.getWorldDirection(new THREE.Vector3).negate();this.tempV.copy(t.position),this.tempV.addScaledVector(r,-.1),this.raycaster.ray.set(this.tempV,r);const n=this.webLayer3D.hitTest(this.raycaster.ray);n&&(n.target.click(),n.target.focus(),console.log("hit",n.target,n.layer))}dragStart(e){}dragEnd(e){}play(){}pause(){}destroy(){this.webLayer3D&&this.webLayer3D.destroy(),this.vueApp.unmount()}tick(e){if(this.isEthereal);else{this.needsUpdate;this.needsUpdate=!1,this.updateTime=e,!0,this.webLayer3D.update()}}}window.APP.utils.followLinkClick=function(e){var t="";if(e.preventDefault(),e.target instanceof HTMLElement){if(e.target instanceof HTMLAnchorElement)t=e.target.href;else if(e.target instanceof HTMLSpanElement){let r=e.target.childNodes[0];r instanceof HTMLAnchorElement&&(t=r.href)}!async function(e,t){await window.APP.scene.systems["data-logging"].logLink(e,t),t.length>0&&window.open(t,"_blank")}(e.target.id,t)}};class rp{_state;state;app;constructor(e){this._state=et({count:0}),this.app=e,this.state=tt(this._state)}increment(){this.app.takeOwnership()&&(this._state.count++,this.app.setSharedData(this.state))}updateSharedData(e){this._state.count=e.count}}class np extends tp{shared;constructor(e={}){super(Os,400,300,e),this.shared=new rp(this),this.vueApp.provide("shared",this.shared),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}const sp={class:"fade"},ip=(e=>(tr("data-v-9ffe3f52"),e=e(),rr(),e))((()=>In("p",null,[In("span",null,[In("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation and Then Some! ")]),In("span",null,[In("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")])],-1)));var op={props:{msg:String},setup(e){const t=ar("shared");return(r,n)=>(Sn(),An(wn,null,[In("span",sp,[In("h1",null,u(e.msg),1)]),ip,In("button",{"xr-layer":"",onClick:n[0]||(n[0]=(...e)=>dt(t).increment&&dt(t).increment(...e))},"count is: "+u(dt(t).state.count),1)],64))},__scopeId:"data-v-9ffe3f52"};const ap=e=>(tr("data-v-08f6e824"),e=e(),rr(),e),lp={id:"room"},cp=ap((()=>In("img",{"xr-layer":"",alt:"Vue logo",src:Ss},null,-1))),up=[Fn(" Edit code in "),ap((()=>In("code",null,"src/apps",-1))),Fn(' to test hot module replacement while running project as "npm run dev". ')];var hp={setup(e){const t=ar("shared");return(e,r)=>(Sn(),An("div",null,[In("div",lp,[cp,Dn(op,{msg:"Vue Component with Local Button Count"}),In("p",{id:"edit",class:c({upclose:dt(t).state.close})},up,2)])]))},__scopeId:"data-v-08f6e824"};class dp{_state;state;app;constructor(e){this._state=et({close:!1}),this.app=e,this.state=tt(this._state)}setClose(e){this._state.close!=e&&(this._state.close=e)}}class pp extends tp{shared;constructor(e={}){super(hp,500,500,e),this.isInteractive=!0,this.shared=new dp(this),this.vueApp.provide("shared",this.shared)}docs;boundsSize=new THREE.Vector3;bounds=new THREE.Box3;mount(){super.mount(!0),this.docs=this.webLayer3D.querySelector("#edit"),this.docs||console.warn("Vue app needs #edit div")}}const fp=e=>(tr("data-v-1d144fe5"),e=e(),rr(),e),mp={id:"room"},yp={class:"titleStyle"},gp=fp((()=>In("div",null,null,-1))),vp=[fp((()=>In("a",{href:"https://blairmacintyre.me"},"Click",-1)))],bp=Fn(" to swap objects: "),wp=fp((()=>In("div",null,null,-1))),_p=Fn("Click to make larger: "),xp=Fn("Click to make smaller: ");var Ep={setup(e){let t=ar("params");var r=t&&t.parameter1?t.parameter1:"Example Control Panel",n=t&&t.parameter2?t.parameter2:"Click the buttons to switch objects or change the color of an object";const s=ar("shared"),i=ar("linkClick");return(e,t)=>(Sn(),An("div",null,[In("div",mp,[In("div",yp,u(dt(r)),1),In("div",null,u(dt(n)),1),gp,In("div",null,[In("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...e)=>dt(i)&&dt(i)(...e))},vp),bp,In("button",{"xr-layer":"",onClick:t[1]||(t[1]=(...e)=>dt(s).nextObject&&dt(s).nextObject(...e))},"Swap Objects")]),In("div",null,"Current object is: "+u(dt(s).getName()),1),wp,In("div",null,[_p,In("span",{"xr-layer":"",class:"fakeButton",onClick:t[2]||(t[2]=(...e)=>dt(s).larger&&dt(s).larger(...e))},"Larger")]),In("div",null,[xp,In("span",{"xr-layer":"",class:"fakeButton",onClick:t[3]||(t[3]=(...e)=>dt(s).smaller&&dt(s).smaller(...e))},"Smaller")])])]))},__scopeId:"data-v-1d144fe5"};class Tp{_state;state;app;objects;constructor(e){if(this._state=et({object:-1,size:{x:1,y:1,z:1}}),this.app=e,this.state=tt(this._state),this.objects=[],window.AFRAME){let e=window.AFRAME.scenes[0].object3D;for(let t=1;t<11;t++){let r=e.getObjectByName("TestObject"+t);r&&(r.visible=!1,this.objects.push(r))}}this.objects.length>0?(this._state.object=0,this._copyVec3(this.objects[0].scale,this._state.size),this.objects[0].visible=!0):this._state.object=-1}_copyVec3(e,t){t.x=e.x,t.y=e.y,t.z=e.z}_nextObject(){if(-1==this._state.object)return-1;if(this.objects[this._state.object].visible=!1,this._state.object++,this._state.object>=this.objects.length&&(this._state.object=0),this.objects[this._state.object].visible=!0,this._copyVec3(this.objects[this._state.object].scale,this._state.size),window.AFRAME){window.AFRAME.scenes[0].emit("updatePortals")}}_updateSize(e){this._state.object>=0&&(this._copyVec3(e,this._state.size),this.objects[this._state.object].scale.copy(this._state.size),this.objects[this._state.object].updateMatrix())}_larger(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}_smaller(){this._state.object>=0&&(this.objects[this._state.object].scale.multiplyScalar(1/1.1),this.objects[this._state.object].updateMatrix(),this._copyVec3(this.objects[this._state.object].scale,this._state.size))}nextObject(){this.app.takeOwnership()&&(this._nextObject(),this.app.setSharedData(this.state))}larger(){this.app.takeOwnership()&&(this._larger(),this.app.setSharedData(this.state))}smaller(){this.app.takeOwnership()&&(this._smaller(),this.app.setSharedData(this.state))}getName(){return this._state.object>=0?this.objects[this._state.object].name:"NO OBJECTS"}updateSharedData(e){this._state.object!=e.object&&(this.objects[this._state.object].visible=!1,this.objects[e.object].visible=!0,this._state.object=e.object),this._updateSize(e.size)}}class kp extends tp{shared;constructor(e={}){super(Ep,400,225,e),this.shared=new Tp(this),this.vueApp.provide("shared",this.shared),this.vueApp.provide("linkClick",window.APP.utils.followLinkClick),this.isInteractive=!0,this.isNetworked=!0,this.isStatic=!1}updateSharedData(e){super.updateSharedData(e),this.shared.updateSharedData(e)}getSharedData(){return this.shared.state}}var Sp={props:{msg:String},setup:e=>(et({count:0}),(t,r)=>(Sn(),An("h2",null,u(e.msg),1)))};const Rp={id:"room",class:"darkwall"};var Cp={setup(e){let t=ar("params");var r=t&&t.message?t.message:"PORTAL TITLE";return(e,t)=>(Sn(),An("div",Rp,[Dn(Sp,{msg:dt(r)},null,8,["msg"])]))}};class Mp extends tp{constructor(e,t,r={}){super(Cp,e,t,r)}}var Ap={props:{msg:String},setup:e=>(et({count:0}),(t,r)=>(Sn(),An("h4",null,u(e.msg),1)))};const Pp={id:"room",class:"darkwall"};var Op={setup(e){let t=ar("params");var r=t&&t.message?t.message:"PORTAL SUBTITLE";return(e,t)=>(Sn(),An("div",Pp,[Dn(Ap,{msg:dt(r)},null,8,["msg"])]))}};class Lp extends tp{constructor(e,t,r={}){super(Op,e,t,r)}}const Bp={class:"titleStyle"};var Ip={setup(e){let t=ar("params");var r=t&&t.text?t.text:"Text not set for GraphLabel",n=(t&&t.color?"color: "+t.color+";":"color: red;")+(t&&t.size?"font-size: "+t.size+"em;":"font-size: 2em;");return(e,t)=>(Sn(),An("div",null,[In("div",{id:"room",class:"darkwall",style:i(dt(n))},[jn('<Title v-bind:msg="title" />'),In("div",Bp,u(dt(r)),1)],4)]))}};class Dp extends tp{params;constructor(e,t,r={}){super(Ip,e,t,r),this.params=r}async setLabel(e,t){return this.params.text=e,this.params.color=t,this.waitForReady()}}const zp={id:"room",class:"darkwall"},Fp=In("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/38d6d7a1e02fc2f9.png",width:"250"},null,-1),Up=In("div",{class:"displaytext"},"AR allows us to extend our physical reality; VR creates for us a different reality.",-1);var jp={setup:e=>(e,t)=>(Sn(),An("div",zp,[Dn(Sp,{msg:"Reality Media"}),Fp,Up]))};class Np extends tp{constructor(e,t,r={}){super(jp,e,t,r)}}const Vp={id:"room",class:"darkwall"},qp={class:"spacer"},Kp=In("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/7af7b95b35fd7616.jpg",width:"250"},null,-1),Wp=In("div",{class:"squareoff"}," Each reality medium mediates and remediates. It offers a new representation of the world that we implicitly compare to our experience of the world in itself, but also through other media.",-1),Gp=In("p",null,[In("a",{href:"https://realitymedia.digital",target:"_blank"}," Start at the reality media site. "),Fn(" | ")],-1);var Hp={setup:e=>(e,t)=>(Sn(),An("div",Vp,[In("div",qp,[Dn(Sp,{msg:"AR & VR as reality media"}),Kp,Wp]),Gp]))};class $p extends tp{constructor(e,t,r={}){super(Hp,e,t,r),this.isInteractive=!0}}const Xp={id:"room",class:"darkwall"},Yp=In("div",{class:"spacer"},[In("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/7ab3d86afd48dbfb.jpg",width:"250"}),In("div",{class:"squareoff"},"Film became one of the most important reality media of the twentieth century, and in some ways, it is a forerunner of virtual reality.")],-1);var Qp={setup:e=>(e,t)=>(Sn(),An("div",Xp,[Dn(Sp,{msg:"The LaCiotat Effect"}),Yp]))};class Zp extends tp{constructor(e,t,r={}){super(Qp,e,t,r)}}const Jp={id:"room",class:"darkwall"},ef={class:"spacer"},tf=In("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/91fdfa811e752dc8.jpg",width:"200"},null,-1),rf=In("div",{class:"squareoff"},"3-D computer graphics help to construct the visual realities of AR and VR, that is photorealism. The uncanny valley.",-1);var nf={setup:e=>(e,t)=>(Sn(),An("div",Jp,[In("div",ef,[Dn(Sp,{msg:"3-D Graphics & Tracking"}),tf,rf])]))};class sf extends tp{constructor(e,t,r={}){super(nf,e,t,r)}}const of={id:"room",class:"darkwall"},af=In("div",{class:"spacer"},[jn('<img src="../../assets/images/parthenon.png" width="250">'),In("div",{class:"squareoff"},"Presence in VR is usually conceived of as forgetting that the medium is there. The idea is that if the user can be enticed into behaving as if she were not aware of all the complex technology, then she feels presence.")],-1);var lf={setup:e=>(e,t)=>(Sn(),An("div",of,[Dn(Sp,{msg:"Presence"}),af]))};class cf extends tp{constructor(e,t,r={}){super(lf,e,t,r)}}var uf="https://resources.realitymedia.digital/vue-apps/dist/dc05c04546a69e64.png";const hf={id:"room",class:"darkwall"},df=In("div",{class:"spacer"},[In("img",{src:uf,width:"250"}),In("div",{class:"squareoff"},"Reality media applications often function as additions to established genres. Most current AR and VR applications behave like applications or artifacts that we know from earlier media.")],-1);var pf={setup:e=>(e,t)=>(Sn(),An("div",hf,[Dn(Sp,{msg:"Genres"}),df]))};class ff extends tp{constructor(e,t,r={}){super(pf,e,t,r)}}const mf={id:"room",class:"darkwall"},yf=In("div",{class:"spacer"},[In("img",{src:uf,width:"250"}),In("div",{class:"squareoff"},"VR will continue to construct special realities, apart from the everyday. VR worlds will continue to be metaphoric worlds.")],-1);var gf={setup:e=>(e,t)=>(Sn(),An("div",mf,[Dn(Sp,{msg:"The Future of AR & VR"}),yf]))};class vf extends tp{constructor(e,t,r={}){super(gf,e,t,r)}}const bf={id:"room",class:"darkwall"},wf=In("div",{class:"spacer"},[In("div",{class:"squareoff"},"Pervasive, always-on AR applications have the potential to provide companies or government authorities even more information and with more precision than our current mobile applications do, both by aggregating our habits as consumers and by identifying us as individuals.")],-1);var _f={setup:e=>(e,t)=>(Sn(),An("div",bf,[Dn(Sp,{msg:"Privacy and Public Space"}),wf]))};class xf extends tp{constructor(e,t,r={}){super(_f,e,t,r)}}const Ef={id:"room",class:"darkwall"},Tf=[In("div",{class:"postertitle"},"AR & VR as reality media",-1),In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1)];var kf={setup:e=>(e,t)=>(Sn(),An("div",Ef,Tf))};class Sf extends tp{constructor(e,t,r={}){super(kf,e,t,r)}}const Rf={id:"room",class:"darkwall"},Cf=In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Mf={setup:e=>(e,t)=>(Sn(),An("div",Rf,[Dn(Sp,{msg:"The History of Reality Media"}),Cf]))};class Af extends tp{constructor(e,t,r={}){super(Mf,e,t,r)}}const Pf={id:"room",class:"darkwall"},Of=In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Lf={setup:e=>(e,t)=>(Sn(),An("div",Pf,[Dn(Sp,{msg:"3-D & Tracking"}),Of]))};class Bf extends tp{constructor(e,t,r={}){super(Lf,e,t,r)}}const If={id:"room",class:"darkwall"},Df=In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var zf={setup:e=>(e,t)=>(Sn(),An("div",If,[Dn(Sp,{msg:"Presence"}),Df]))};class Ff extends tp{constructor(e,t,r={}){super(zf,e,t,r)}}const Uf={id:"room",class:"darkwall"},jf=In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Nf={setup:e=>(e,t)=>(Sn(),An("div",Uf,[Dn(Sp,{msg:"Genres"}),jf]))};class Vf extends tp{constructor(e,t,r={}){super(Nf,e,t,r)}}const qf={id:"room",class:"darkwall"},Kf=In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Wf={setup:e=>(e,t)=>(Sn(),An("div",qf,[Dn(Sp,{msg:"Future"}),Kf]))};class Gf extends tp{constructor(e,t,r={}){super(Wf,e,t,r)}}const Hf={id:"room",class:"darkwall"},$f=In("div",{class:"spacer"},[In("div",{class:"flushleft"},[In("br"),In("h3",null," Some of the key differences between classic VR and AR"),In("br"),In("h3",null," Extended reality (XR) and the immersive web "),In("br"),In("h3",null," Where AR and VR fit on Milgram and Kishinos virtuality continuum")])],-1);var Xf={setup:e=>(e,t)=>(Sn(),An("div",Hf,[Dn(Sp,{msg:"Privacy"}),$f]))};class Yf extends tp{constructor(e,t,r={}){super(Xf,e,t,r)}}const Qf={id:"room",class:"darkwall"},Zf={class:"spacer"},Jf=In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/83dde73d5dcc5eaf.jpg"},null,-1),em=In("br",null,null,-1),tm=In("br",null,null,-1),rm=In("div",{class:"squareoff"},[Fn(" First person shooter games such as "),In("a",{href:"https://www.half-life.com/en/alyx/",target:"_blank"},"HalfLife: Alyx "),Fn(" have long used 3-D graphics to create an immersive experience for millions of players. And for decades, players on computers and game consoles have yearned for true VR so that they could fall through the screen into the worlds on the other side.")],-1);var nm={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Qf,[In("div",Zf,[Jf,em,tm,Dn(Sp,{msg:"HalfLife: Alyx"}),rm])])]))};class sm extends tp{constructor(e,t,r={}){super(nm,e,t,r),this.isInteractive=!0}}const im={id:"room",class:"darkwall"},om={class:"spacer"},am=In("a",{target:"_blank",href:"https://pokemongolive.com/en/"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/b6f1439b30421ab7.jpg",alt:"Pokemon Go Image"})],-1),lm=In("div",{class:"squareoff"},"Pokemon Go (2016) is perhaps still the best-known AR game. ",-1);var cm={setup:e=>(e,t)=>(Sn(),An("div",im,[In("div",om,[am,Dn(Sp,{msg:"Steam VR"}),lm])]))};class um extends tp{constructor(e,t,r={}){super(cm,e,t,r)}}const hm={id:"room",class:"darkwall"},dm={class:"spacer"},pm=In("div",{class:"squareoff"},"Beat Saber is a VR rhythm game with a little Star Wars thrown in. The player uses lightsabers to keep the beat. ",-1);var fm={setup:e=>(e,t)=>(Sn(),An("div",hm,[In("div",dm,[Dn(Sp,{msg:"Beat Saber"}),pm])]))};class mm extends tp{constructor(e,t,r={}){super(fm,e,t,r)}}const ym={id:"room",class:"darkwall"},gm={class:"spacer"},vm=In("a",{target:"_blank",href:"https://www.thewalkingdeadourworld.com/"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/88810b6ba2c44021.jpg",alt:"Walking Dead Image"})],-1),bm=In("div",{class:"squareoff"},"In this AR version of the transmedia franchise GPS is used to determine your location in the world. Your location and the zombies appear in an enhanced Google Maps map on the phone screen. ",-1);var wm={setup:e=>(e,t)=>(Sn(),An("div",ym,[In("div",gm,[vm,Dn(Sp,{msg:"Walking Dead: Our World"}),bm])]))};class _m extends tp{constructor(e,t,r={}){super(wm,e,t,r)}}const xm={id:"room",class:"darkwall"},Em={class:"spacer"},Tm=In("div",{class:"squareoff"},"Like video games and 360-degree video, VR art emphasizes immersion as the feature that makes the experience unique, as in a VR work by Christian Lemmerz entitled La Apparizione (2017). ",-1);var km={setup:e=>(e,t)=>(Sn(),An("div",xm,[In("div",Em,[Dn(Sp,{msg:"La Apparizione"}),Tm])]))};class Sm extends tp{constructor(e,t,r={}){super(km,e,t,r)}}const Rm={id:"room",class:"darkwall"},Cm={class:"spacer"},Mm=In("div",{class:"squareoff"},'Minecraft VR is a fully immersive, headset version of the sandbox game that already runs on computers, game consoles, and mobile devices. It is called a "sandbox game" because it provides an independent environment in which players can make their own structures and objects out of virtual, LEGO-like blocks. ',-1);var Am={setup:e=>(e,t)=>(Sn(),An("div",Rm,[In("div",Cm,[Dn(Sp,{msg:"Minecraft VR"}),Mm])]))};class Pm extends tp{constructor(e,t,r={}){super(Am,e,t,r)}}const Om={id:"room",class:"darkwall"},Lm={class:"spacer headline"};var Bm={setup:e=>(e,t)=>(Sn(),An("div",Om,[In("div",Lm,[Dn(Sp,{msg:"AR & VR GAMES"})])]))};class Im extends tp{constructor(e,t,r={}){super(Bm,e,t,r)}}const Dm={id:"room",class:"darkwall"},zm={class:"spacer headline"};var Fm={setup:e=>(e,t)=>(Sn(),An("div",Dm,[In("div",zm,[Dn(Sp,{msg:"AR & VR ART"})])]))};class Um extends tp{constructor(e,t,r={}){super(Fm,e,t,r)}}const jm={id:"room",class:"darkwall"},Nm={class:"spacer"},Vm=In("a",{target:"_blank",href:"https://recroom.com/"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/c3afe77648abe84e.jpg",alt:"Rec Room"})],-1),qm=In("div",{class:"squareoff"},null,-1);var Km={setup:e=>(e,t)=>(Sn(),An("div",jm,[In("div",Nm,[Vm,Dn(Sp,{msg:"Rec Room"}),qm])]))};class Wm extends tp{constructor(e,t,r={}){super(Km,e,t,r)}}const Gm={id:"room",class:"darkwall"},Hm={class:"spacer"},$m=In("a",{target:"_blank",href:"https://www.steamvr.com/en/"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/2d8cf962293b3088.jpg",alt:"Steam Image"})],-1),Xm=In("div",{class:"squareoff"},null,-1);var Ym={setup:e=>(e,t)=>(Sn(),An("div",Gm,[In("div",Hm,[$m,Dn(Sp,{msg:"Steam"}),Xm])]))};class Qm extends tp{constructor(e,t,r={}){super(Ym,e,t,r)}}const Zm={id:"room",class:"darkwall"},Jm={class:"spacer"},ey=In("a",{target:"_blank",href:"https://blog.google/products/maps/new-sense-direction-live-view/"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/060c5fa00fb3253e.jpg",alt:"Google Live View Image"})],-1),ty=In("div",{class:"squareoff"},null,-1);var ry={setup:e=>(e,t)=>(Sn(),An("div",Zm,[In("div",Jm,[ey,Dn(Sp,{msg:"Google Live View"}),ty])]))};class ny extends tp{constructor(e,t,r={}){super(ry,e,t,r)}}const sy={id:"room",class:"darkwall"},iy={class:"spacer"},oy=In("a",{target:"_blank"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/4e01dbc22b7f7978.jpg",alt:"The Day The World Changed"})],-1),ay=In("div",{class:"squareoff"},null,-1);var ly={setup:e=>(e,t)=>(Sn(),An("div",sy,[In("div",iy,[oy,Dn(Sp,{msg:"The Day The World Changed"}),ay])]))};class cy extends tp{constructor(e,t,r={}){super(ly,e,t,r)}}const uy={id:"room",class:"darkwall"},hy={class:"spacer"},dy=In("a",{target:"_blank"},[In("img",{"xr-layer":"",width:"400",src:"https://resources.realitymedia.digital/vue-apps/dist/c99cd2d7da044495.jpg",alt:"CerneYArena"})],-1),py=In("div",{class:"squareoff"},null,-1);var fy={setup:e=>(e,t)=>(Sn(),An("div",uy,[In("div",hy,[dy,Dn(Sp,{msg:"CerneYArena"}),py])]))};class my extends tp{constructor(e,t,r={}){super(fy,e,t,r)}}const yy={id:"room",class:"ivorywall"},gy={style:{"padding-top":"10px"}},vy={class:"history_spacer-side"},by=In("p",{class:"history_year"},"1430s",-1),wy=In("hr",{class:"history_hr"},null,-1),_y=In("br",null,null,-1),xy=In("div",{class:"squareoff"}," Linear perspective is a system developed by architects and painters to create an illusion of depth on a flat surface using the vanishing points. This technique resembles the way we see the world, as it imitates how rays of light reflects off objects in the world and could be focused on a surface. ",-1),Ey=In("br",null,null,-1);var Ty={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",yy,[In("div",gy,[In("div",vy,[Dn(Sp,{class:"history_title",msg:"Linear Perspective"}),by,wy,_y,xy]),Ey])])]))};class ky extends tp{constructor(e,t,r={}){super(Ty,e,t,r)}}const Sy=[Un('<div id="room" class="ivorywall"><div style="padding-top:10px;"><div class="history_spacer-side"><div class="history_subtitle">Linear Perspective</div><hr class="history_hr2"><br><div class="squareoff"> Around 1425, Italian Renaissance architect Filippo Brunelleschi demonstrated linear perspective with the help of a mirror. Using the technique of parallel lines converging in a single vanishing point and a mirror, he painted the Florence Baptistry. This is the first example of diminished reality, in which the real world is overlayed and obscured by the technology. </div></div></div><br></div>',1)];var Ry={setup:e=>(e,t)=>(Sn(),An("div",null,Sy))};class Cy extends tp{constructor(e,t,r={}){super(Ry,e,t,r)}}const My={id:"room",class:"ivorywall"},Ay={style:{"padding-top":"10px"}},Py={class:"history_spacer-side"},Oy=In("p",{class:"history_year"},"1790",-1),Ly=In("hr",{class:"history_hr"},null,-1),By=In("br",null,null,-1),Iy=In("div",{class:"squareoff"}," The panorama conceived by artist Robert Barker was one of the ways to represent reality at the end of the 18th century. Barker used perspective painting to create a panorama on a canvas stretched around the cylindrical surface. Viewers stood in the middle and experienced the scene in either direction. Therefore, the panoramas were fully immersive virtual environments consisting of a painted canvas. ",-1),Dy=In("br",null,null,-1);var zy={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",My,[In("div",Ay,[In("div",Py,[Dn(Sp,{class:"history_title",msg:"Panorama"}),Oy,Ly,By,Iy])]),Dy])]))};class Fy extends tp{constructor(e,t,r={}){super(zy,e,t,r)}}const Uy=[Un('<div id="room" class="ivorywall"><div style="padding-top:10px;"><div class="history_spacer-side"><div class="history_subtitle">Photography</div><hr class="history_hr2"><br><div class="squareoff"> The forerunner of the camera, <span style="font-weight:bold;font-size:1.3rem;">camera obscura</span> is a darkened room with a small hole that admitted light to project the inverted image of the outside scene onto the opposite wall. This image was ephemeral until the development of modern chemistry that made another medium possible. </div></div></div><br></div>',1)];var jy={setup:e=>(e,t)=>(Sn(),An("div",null,Uy))};class Ny extends tp{constructor(e,t,r={}){super(jy,e,t,r)}}const Vy={id:"room",class:"ivorywall"},qy={style:{"padding-top":"10px"}},Ky={class:"history_spacer-side"},Wy=In("p",{class:"history_year"},"1820s",-1),Gy=In("hr",{class:"history_hr"},null,-1),Hy=In("br",null,null,-1),$y=In("div",{class:"squareoff"}," Photography was developed through mechanizing the process of linear perspective. Until today, photography is recognized as a medium that has a strong claim to reality. ",-1),Xy=In("br",null,null,-1);var Yy={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Vy,[In("div",qy,[In("div",Ky,[Dn(Sp,{class:"history_title",msg:"Photography"}),Wy,Gy,Hy,$y])]),Xy])]))};class Qy extends tp{constructor(e,t,r={}){super(Yy,e,t,r)}}const Zy={id:"room",class:"ivorywall"},Jy={style:{"padding-top":"10px"}},eg={class:"history_spacer-side"},tg=In("p",{class:"history_year"},"1890s",-1),rg=In("hr",{class:"history_hr"},null,-1),ng=In("br",null,null,-1),sg=In("div",{class:"squareoff"}," The first fully dynamic reality media was seen in the 1980s, when the Lumire brothers created cinmatographe, which is one of the first motion picture apparatus. With this device, they made 'The Arrival of a Train at La Ciotat Station', which showcased their success in reproducing a facet of reality that photography could not, by having motion and time. ",-1),ig=In("br",null,null,-1);var og={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Zy,[In("div",Jy,[In("div",eg,[Dn(Sp,{class:"history_title",msg:"Film"}),tg,rg,ng,sg])]),ig])]))};class ag extends tp{constructor(e,t,r={}){super(og,e,t,r)}}const lg={id:"room",class:"ivorywall"},cg={style:{"padding-top":"10px"}},ug={class:"history_spacer-side"},hg=In("p",{class:"history_year"},"1920s",-1),dg=In("hr",{class:"history_hr"},null,-1),pg=In("br",null,null,-1),fg=In("div",{class:"squareoff"},' Television filled in the gap that film had left open for a medium that presented moving images and sound "live". Up until the late 1950s, most television was broadcast live. As video recording technology improved, more and more primetime television was recorded. However, still the quality of liveness is true to two TV generes: the news and the coverage of sports. Today, with the digital technology, film and television are diverging in hybrid formats. ',-1),mg=In("br",null,null,-1);var yg={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",lg,[In("div",cg,[In("div",ug,[Dn(Sp,{class:"history_title",msg:"TV"}),hg,dg,pg,fg])]),mg])]))};class gg extends tp{constructor(e,t,r={}){super(yg,e,t,r)}}const vg={id:"room",class:"ivorywall"},bg={style:{"padding-top":"10px"}},wg={class:"history_spacer-side"},_g=In("p",{class:"history_year"},"1430s",-1),xg=In("hr",{class:"history_hr"},null,-1),Eg=In("br",null,null,-1),Tg=In("div",{class:"squareoff"}," Among the different kinds of cameras and techniques used for creating panoramic photographs, the equirectangular Projection is commonly used today. Rather than using multiple viewpoints and stitching the photos together, it keeps a single viewpoint and fits the spherical world into a flat image by distorting the image. ",-1),kg=In("br",null,null,-1);var Sg={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",vg,[In("div",bg,[In("div",wg,[Dn(Sp,{class:"history_title",msg:"Equirectangular Projection"}),_g,xg,Eg,Tg])]),kg])]))};class Rg extends tp{constructor(e,t,r={}){super(Sg,e,t,r)}}const Cg={id:"room",class:"ivorywall"},Mg={style:{"padding-top":"10px"}},Ag={class:"history_spacer-side"},Pg=In("p",{class:"history_year"},"1962",-1),Og=In("hr",{class:"history_hr"},null,-1),Lg=In("br",null,null,-1),Bg=In("div",{class:"squareoff"}," With interactions engaging more than just sight, immersion was achieved in new ways with the advent of Morton Heilig's Sensorama. Now, audiences weren't only watching narratives, they were putting themselves into new worlds - riding a motorcycle with the wind blowing through their hair and over their body, all while the smells of the open road filled their nostrils. ",-1),Ig=In("br",null,null,-1);var Dg={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Cg,[In("div",Mg,[In("div",Ag,[Dn(Sp,{class:"history_title",msg:"Sensorama"}),Pg,Og,Lg,Bg])]),Ig])]))};class zg extends tp{constructor(e,t,r={}){super(Dg,e,t,r)}}const Fg={id:"room",class:"ivorywall"},Ug={style:{"padding-top":"10px"}},jg={class:"history_spacer-side"},Ng=In("p",{class:"history_year"},"1430s",-1),Vg=In("hr",{class:"history_hr"},null,-1),qg=In("br",null,null,-1),Kg=In("div",{class:"squareoff"}," The first motion simulator platform was made in 1910 and was a model aircraft connected to the ground by a universal joint. When the wind blew, the plane's flaps could be used to rotate the plane so pilots could get practice without having to go into the air. In 1929, Edwin Link made a new simulator, that used a platform with inflating and deflating bellows below it to rotate the platform. In 1958, the Comet 4 was developed using hydraulics and had 3 degrees of freedom. As these motion simulators, which were at the time mainly used for training, grew, they started to be used for various new things. In 1977, the Doron SR2 simulator ride was made, which was an enclosed cockpit with a screen on the inside, which could be used to project a first-person view, while hydraulics pitched the ride around. This allowed for the simulation of movement while giving the people inside a first-person view of the vehicle that the ride would simulate. ",-1),Wg=In("br",null,null,-1);var Gg={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Fg,[In("div",Ug,[In("div",jg,[Dn(Sp,{class:"history_title",msg:"Immersive Rides"}),Ng,Vg,qg,Kg])]),Wg])]))};class Hg extends tp{constructor(e,t,r={}){super(Gg,e,t,r)}}const $g={id:"room",class:"ivorywall"},Xg={style:{"padding-top":"10px"}},Yg={class:"history_spacer-side"},Qg=In("p",{class:"history_year"},"1430s",-1),Zg=In("hr",{class:"history_hr"},null,-1),Jg=In("br",null,null,-1),ev=In("div",{class:"squareoff"}," Theaters ",-1),tv=In("br",null,null,-1);var rv={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",$g,[In("div",Xg,[In("div",Yg,[Dn(Sp,{class:"history_title",msg:"Theaters"}),Qg,Zg,Jg,ev])]),tv])]))};class nv extends tp{constructor(e,t,r={}){super(rv,e,t,r)}}const sv={id:"room",class:"ivorywall"},iv={style:{"padding-top":"10px"}},ov={class:"history_spacer-side"},av=In("p",{class:"history_year"},"1968",-1),lv=In("hr",{class:"history_hr"},null,-1),cv=In("br",null,null,-1),uv=In("div",{class:"squareoff"}," In 2012, Palmer Luckey released a Kickstarter for the Oculus Rift, a personal Virtual Reality headset that would be more publicly available and affordable than previous VR headsets. In March of 2013, the Oculus Development Kit 1 was released and allowed customers to play VR games with a controller. At this point, the headset only used a gyroscope, accelerometer, and magnetometer. Over time, the Oculus grew, and HTC made the Vive as a competitor. In this time, technological improvements had allowed for people wearing the headsets to move around in a small space and have their position tracked. These improvements also included specialized controllers that would also track the movements of the user's hands. ",-1),hv=In("br",null,null,-1);var dv={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",sv,[In("div",iv,[In("div",ov,[Dn(Sp,{class:"history_title",msg:"Personal VR Systems"}),av,lv,cv,uv])]),hv])]))};class pv extends tp{constructor(e,t,r={}){super(dv,e,t,r)}}const fv={id:"room",class:"ivorywall"},mv={style:{"padding-top":"10px"}},yv={class:"history_spacer-side"},gv=In("p",{class:"history_year"},"1968",-1),vv=In("hr",{class:"history_hr"},null,-1),bv=In("br",null,null,-1),wv=In("div",{class:"squareoff"}," Augmented Reality ",-1),_v=In("br",null,null,-1);var xv={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",fv,[In("div",mv,[In("div",yv,[Dn(Sp,{class:"history_title",msg:"Augmented Reality"}),gv,vv,bv,wv])]),_v])]))};class Ev extends tp{constructor(e,t,r={}){super(xv,e,t,r)}}const Tv={id:"room",class:"ivorywall"},kv={style:{"padding-top":"10px"}},Sv={class:"history_spacer-side"},Rv=In("p",{class:"history_year"},"2007",-1),Cv=In("hr",{class:"history_hr"},null,-1),Mv=In("br",null,null,-1),Av=In("div",{class:"squareoff"}," Google Street View, which was first launched in 2007, provides the user interactive panoramas that are created through stitching photographs together seamlessly. In Google Maps, the user could feel as if they are on the streets of the place they select, looking around the world. ",-1),Pv=In("br",null,null,-1);var Ov={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Tv,[In("div",kv,[In("div",Sv,[Dn(Sp,{class:"history_title",msg:"Google Street View"}),Rv,Cv,Mv,Av])]),Pv])]))};class Lv extends tp{constructor(e,t,r={}){super(Ov,e,t,r)}}const Bv={id:"room",class:"ivorywall"},Iv={style:{"padding-top":"10px"}},Dv={class:"history_spacer-side"},zv=In("p",{class:"history_year"},"1800s",-1),Fv=In("hr",{class:"history_hr"},null,-1),Uv=In("br",null,null,-1),jv=In("div",{class:"squareoff"}," The stereoscopic film allowed people to generate 3D views of images by mimicking the human eyes with two cameras. The stereoscope, a device for viewing these photographs, was first invented in 1832 by Charles Wheatstone. Many methods to generate stereoscopic movies were attempted, but it wasn't until 1922 that the first 3D film, The Power of Love, came out. This used one projector but had the two sets of images coded into red and blue, while the audience would were glasses with red and blue lenses. Later, polarization allowed full-color 3D films to be made. ",-1),Nv=In("br",null,null,-1);var Vv={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Bv,[In("div",Iv,[In("div",Dv,[Dn(Sp,{class:"history_title",msg:"Stereoscopic Film"}),zv,Fv,Uv,jv])]),Nv])]))};class qv extends tp{constructor(e,t,r={}){super(Vv,e,t,r)}}const Kv={id:"room",class:"ivorywall"},Wv={style:{"padding-top":"10px"}},Gv={class:"history_spacer-side"},Hv=In("p",{class:"history_year"},"1500s",-1),$v=In("hr",{class:"history_hr"},null,-1),Xv=In("br",null,null,-1),Yv=In("div",{class:"squareoff"}," One of the most famous trompe loeils was the fresco on walls or ceilings of the SantIgnazio Church in Rome painted by Andrea Pozzo. If a viewer stands in the right spot, the perspective lines up perfectly, as if the vault opens to the heavens. It locates the viewer in a hybrid space that is part physical and part virtual. It is therefore, in a sense, a forerunner of AR as it combines the physical and the virtual. In another sense, it was a forerunner of VR in that it blended the painting into the whole building to create a seamless environment. ",-1),Qv=In("br",null,null,-1);var Zv={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Kv,[In("div",Wv,[In("div",Gv,[Dn(Sp,{class:"history_title",msg:"Trompe-l'oeil"}),Hv,$v,Xv,Yv])]),Qv])]))};class Jv extends tp{constructor(e,t,r={}){super(Zv,e,t,r)}}const eb={id:"room",class:"ivorywall"},tb={style:{"padding-top":"10px"}},rb={class:"history_spacer-side"},nb=In("p",{class:"history_year"},"1965",-1),sb=In("hr",{class:"history_hr"},null,-1),ib=In("br",null,null,-1),ob=In("div",{class:"squareoff"},' "In 1965 Ivan E. Sutherland envisioned the Ultimate Display, a room in which a computer can directly control the existence of matter. This type of display would merge the digital and the physical world, dramatically changing how people interact with computers." ',-1),ab=In("br",null,null,-1);var lb={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",eb,[In("div",tb,[In("div",rb,[Dn(Sp,{class:"history_title",msg:"Ultimate Display"}),nb,sb,ib,ob])]),ab])]))};class cb extends tp{constructor(e,t,r={}){super(lb,e,t,r)}}const ub={id:"room",class:"ivorywall"},hb={style:{"padding-top":"10px"}},db={class:"history_spacer-side"},pb=In("p",{class:"history_year"},"1992",-1),fb=In("hr",{class:"history_hr"},null,-1),mb=In("br",null,null,-1),yb=In("div",{class:"squareoff"},' "A Cave Automatic Virtual Environment is an immersive virtual reality environment where projectors are directed to between three and six of the walls of a room-sized cube. The name is also a reference to the allegory of the Cave in Plato\'s Republic in which a philosopher contemplates perception, reality, and illusion." ',-1),gb=In("br",null,null,-1);var vb={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",ub,[In("div",hb,[In("div",db,[Dn(Sp,{class:"history_title",msg:"VRCave"}),pb,fb,mb,yb])]),gb])]))};class bb extends tp{constructor(e,t,r={}){super(vb,e,t,r)}}const wb=[Un('<div id="room" class="ivorywall"><div style="padding-top:10px;"><div class="history_spacer-side"><div class="history_subtitle">Film</div><hr class="history_hr2"><br><div class="squareoff"><span style="font-weight:bold;font-size:1.3rem;">Zoetrope</span> is one of the pre-film devices that produced the illusion of motion by displaying a sequence of drawing or photographs showing progressive phases of that motion. It is consisted of a cylinder with vertical slits along the side. The inner surface of the cylinder features a row of sequential images. When it rotates at a high speed, the user can see the rapid succession of images through one of the slits on the cylinder, which create the ilusion of motion. </div></div></div><br></div>',1)];var _b={setup:e=>(e,t)=>(Sn(),An("div",null,wb))};class xb extends tp{constructor(e,t,r={}){super(_b,e,t,r)}}const Eb={id:"room",class:"darkwall"},Tb={class:"spacer-side"},kb=In("br",null,null,-1),Sb=In("div",{class:"squareoff"},[In("p",null,[Fn("In 1930s, Walter Benjamin introduced the concept of "),In("em",null,"aura"),Fn(" in The Work of Art in the Age of Mechanical Reproduction. Aura is the "),In("em",null,"here and now"),Fn(" that work possesses because of its unique history of production and transmission. ")]),In("br"),In("p",null,[Fn("AR applications are not perfect reproductive technologies, as some draw on the physical and cultural uniquesness, "),In("em",null,"the here and now"),Fn(" of particular places. ")])],-1);var Rb={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Eb,[In("div",Tb,[Dn(Sp,{msg:"Aura"}),kb,Sb])])]))};class Cb extends tp{constructor(e,t,r={}){super(Rb,e,t,r)}}const Mb=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[Fn(' "These definitions circle around one core idea: that presence is a kind of absence, '),In("span",{class:"keyPoint"},"the absence of mediation."),Fn(" Presence as transportation, immersion, or realism all come down to the user's forgetting that the medium is there.\" ")])])],-1)];var Ab={setup:e=>(e,t)=>(Sn(),An("div",null,Mb))};class Pb extends tp{constructor(e,t,r={}){super(Ab,e,t,r)}}const Ob={id:"room",class:"darkwall"},Lb={class:"spacer-side"},Bb=In("br",null,null,-1),Ib=In("br",null,null,-1),Db=In("div",{class:"squareoff"},'"Casa Batll, one of the masterpieces of Antoni Gaud, can be experienced with the mobile AR, which visualizes the reconstructed interior and the design inspirations through 3D animations."',-1);var zb={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Ob,[In("div",Lb,[Dn(Sp,{msg:"Gaud's Casa Batll with AR"}),Bb,Ib,Db])])]))};class Fb extends tp{constructor(e,t,r={}){super(zb,e,t,r)}}const Ub=[In("div",{id:"room",class:"darkwall"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/740518294e513122.jpg",height:"326"})],-1)];var jb={setup:e=>(e,t)=>(Sn(),An("div",null,Ub))};class Nb extends tp{constructor(e,t,r={}){super(jb,e,t,r)}}const Vb={id:"room",class:"darkwall"},qb={class:"spacer-side"},Kb=In("div",{class:"squareoff"},[In("br"),In("br"),Fn(" The term cybersickness, or visually induced motion sickness, has been coined to describe symptoms including headache, nausea, eye strain, dizziness, fatigue, or even vomiting that may occur during or after exposure to a virtual environment. Cybersickness is visceral evidence that VR is not the medium to end all media. Cybersickness reminds the susceptible user of the medium in a powerful way. Nausea replaces astonishment. ")],-1);var Wb={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Vb,[In("div",qb,[Dn(Sp,{msg:"Cybersickness and the negation of presence"}),Kb])])]))};class Gb extends tp{constructor(e,t,r={}){super(Wb,e,t,r)}}const Hb=[In("div",{id:"room",class:"darkwall"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/d3e564df2f84bc31.jpg",height:"326"})],-1)];var $b={setup:e=>(e,t)=>(Sn(),An("div",null,Hb))};class Xb extends tp{constructor(e,t,r={}){super($b,e,t,r)}}const Yb={id:"room",class:"darkwall"},Qb={class:"spacer-side"},Zb=In("br",null,null,-1),Jb=In("div",{class:"squareoff"},"Researchers have long pursued the idea of emotional reactions such as empathy as a test of presence. VR is understood as getting us closer to the authentic or the real. But forgetting the medium is not necessary for a sense of presence. Presence can be understood in a more nuanced way as a liminal zone between forgetting and acknowledging VR as a medium. ",-1);var ew={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Yb,[In("div",Qb,[Dn(Sp,{msg:"Presence and Empathy"}),Zb,Jb])])]))};class tw extends tp{constructor(e,t,r={}){super(ew,e,t,r)}}const rw=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"full"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/25ecf05f66df0777.jpg",height:"475"})])],-1)];var nw={setup:e=>(e,t)=>(Sn(),An("div",null,rw))};class sw extends tp{constructor(e,t,r={}){super(nw,e,t,r)}}var iw="https://resources.realitymedia.digital/vue-apps/dist/d1938b14fe1c27f4.png";const ow=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer"},[In("div",{class:"largerText",style:{"font-weight":"bold","text-align":"left"}},"1. What is Presence?"),In("br"),In("br"),In("div",{style:{float:"right"}},[In("img",{"xr-layer":"",src:iw,width:"50",height:"50"})]),In("div",{class:"postertitle",style:{"text-align":"left"}},"2. Manifestations of Presence"),In("br"),In("br"),In("div",{style:{float:"right"}},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/aeb1fd379616a132.png",width:"50",height:"50"})]),In("div",{class:"postertitle",style:{"text-align":"left"}},"3. Aura, Place and Space ")])],-1)];var aw={setup:e=>(e,t)=>(Sn(),An("div",null,ow))};class lw extends tp{constructor(e,t,r={}){super(aw,e,t,r)}}const cw=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer"},[In("div",{style:{"font-size":"2.4rem","font-weight":"bold","text-align":"left"}},"2. Manifestations of Presence"),In("br"),In("br"),In("div",{style:{float:"right"}},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/46d7793fa7ab24ad.png",width:"50",height:"50"})]),In("div",{class:"postertitle",style:{"text-align":"left"}},"1. What is Presence?"),In("br"),In("br"),In("div",{style:{float:"right"}},[In("img",{"xr-layer":"",src:iw,width:"50",height:"50"})]),In("div",{class:"postertitle",style:{"text-align":"left"}},"3. Aura, Place and Space ")])],-1)];var uw={setup:e=>(e,t)=>(Sn(),An("div",null,cw))};class hw extends tp{constructor(e,t,r={}){super(uw,e,t,r)}}const dw=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer"},[In("div",{class:"largerText",style:{"font-size":"2.8rem","font-weight":"bold","text-align":"left"}},"3. Aura, Place and Space "),In("br"),In("br"),In("div",{style:{float:"right"}},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/f89cb4e350469b14.png",width:"50",height:"50"})]),In("div",{class:"postertitle",style:{"text-align":"left"}},"1. What is Presence?"),In("br"),In("br"),In("div",{style:{float:"right"}},[In("img",{"xr-layer":"",src:iw,width:"50",height:"50"})]),In("div",{class:"postertitle",style:{"text-align":"left"}},"2. Manifestations of Presence")])],-1)];var pw={setup:e=>(e,t)=>(Sn(),An("div",null,dw))};class fw extends tp{constructor(e,t,r={}){super(pw,e,t,r)}}const mw={id:"room",class:"darkwall"},yw={class:"spacer-side"},gw=In("br",null,null,-1),vw=In("br",null,null,-1),bw=In("div",{class:"squareoff"},[Fn("360"),In("span",null,""),Fn(" film Clouds Over Sidra created by Chris Milk and Gabo Arora shows the life of Syrian refugees in Za'atari camp in Jordan. The camera follows 12-year old Sidra in her everyday life, allowing the users to be present with Sidra. ")],-1),ww=In("br",null,null,-1),_w=In("blockquote",{class:"squareoff"},"\"When youre inside of the headset . . . you see full 360 degrees, in all directions. And when youre sitting there in her room, watching her, you're not watching it through a television screen, youre not watching it through a window, youre sitting there with her. When you look down, you're sitting on the same ground that shes sitting on. And because of that, you feel her humanity in a deeper way. You empathize with her in a deeper way. (Milk 2015)\"",-1);var xw={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",mw,[In("div",yw,[Dn(Sp,{msg:"Ultimate Empathy Machine"}),gw,vw,bw,ww,_w])])]))};class Ew extends tp{constructor(e,t,r={}){super(xw,e,t,r)}}const Tw=[In("div",{id:"room",class:"darkwall"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/883881c7af4ee295.jpg",height:"326"})],-1)];var kw={setup:e=>(e,t)=>(Sn(),An("div",null,Tw))};class Sw extends tp{constructor(e,t,r={}){super(kw,e,t,r)}}const Rw={id:"room",class:"darkwall"},Cw={class:"spacer-side"},Mw=In("br",null,null,-1),Aw=In("br",null,null,-1),Pw=In("div",null,[In("div",{class:"squareoff"},[Fn("Nonnie de la Pea's "),In("a",{href:"https://embed.ted.com/talks/nonny_de_la_pena_the_future_of_news_virtual_reality",class:"alink",target:"_blank"},"Ted Talk"),Fn(" called 'The future of news?'' introduces a new form of journalism where Virtual Reality technology is used to put audience inside the stories. In her work, she created VR stories about imprisonment in Guantanamo and hunger in Los Angeles to induce empathy in the audience.")])],-1);var Ow={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Rw,[In("div",Cw,[Dn(Sp,{msg:"The future of news?"}),Mw,Aw,Pw])])]))};class Lw extends tp{constructor(e,t,r={}){super(Ow,e,t,r),this.isInteractive=!0}}const Bw=[In("div",{id:"room",class:"darkwall"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/801aa52e4d0113bc.jpg",height:"326"})],-1)];var Iw={setup:e=>(e,t)=>(Sn(),An("div",null,Bw))};class Dw extends tp{constructor(e,t,r={}){super(Iw,e,t,r)}}const zw={id:"room",class:"darkwall"},Fw={class:"spacer-side"},Uw=In("br",null,null,-1),jw=In("div",{class:"squareoff"},"The Pit experiments were conducted by researchers at the University of North Carolina in the early 2000s, to establish empirical evidence of presence in virtual reality. They constructed a physical set, complete with platforms and walls, that matched the virtual scene. The subjects were asked to perform simple tasks that involved walking to the edge of a virtual pit. Researchers measured their physiological reactions to see if they experienced signs of fear, such as an accelerated heart beat. Pass through the portal to experience a replica of one version of their Pit Room yourself. ",-1);var Nw={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",zw,[In("div",Fw,[Dn(Sp,{msg:"Pit Experiement"}),Uw,jw])])]))};class Vw extends tp{constructor(e,t,r={}){super(Nw,e,t,r)}}const qw={id:"room",class:"darkwall"},Kw={class:"spacer-side"},Ww=In("br",null,null,-1),Gw=In("div",{class:"squareoff"},[Fn(' This experiment was inspired by the VR "pit" experiment described on the wall to your left. The subjects wore AR headsets instead of VR ones. They could see the room around them, but the pit itself was still virtual. Would the subjects would feel the same measurable anxiety in AR as in VR? The subjects filled out a questionnaire after the experience and indicated that they did have a feeling of presence, but in this case, unlike in the VR experiment, the physiological data (heart rate etc.) did not indicate a response. '),In("br"),In("br"),In("div",{class:"oblique",style:{fontSize:"0.9rem"}}," Gandy, Maribeth, et al. 2010. Experiences with an AR Evaluation Test Bed: Presence, Performance, and Physiological Measurement. In 2010 IEEE International Symposium on Mixed and Augmented Reality, 12736. Seoul, Korea (South): IEEE. https://doi.org/10.1109/ISMAR.2010.5643560.")],-1);var Hw={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",qw,[In("div",Kw,[Dn(Sp,{msg:"Presence in AR"}),Ww,Gw])])]))};class $w extends tp{constructor(e,t,r={}){super(Hw,e,t,r)}}const Xw=[Un('<div id="room" class="darkwall"><div class="spacer-side"><div class="postertitle">Presence</div><div class="squareoff">Presence is a kind of absence, the absence of mediation. If the users can forget that the medium is there, then they feel presence. <br><br> To look further, Lombard and Ditton&#39;s classification of presence is useful. They grouped definitions of presence into two categories, which are <br><br><div class="keyPoint"> (1) individual perception of the world <br> (2) social interaction and engagement with others</div><br><br> The first category includes presence as transportation, as immersion and as realism. </div><br><br><div class="squareoff" style="font-style:italic;">&quot;VR and AR cannot deceive their users into believing that they are having a non-mediated experience. But that is not necessary for a sense of presence.&quot;</div></div></div>',1)];var Yw={setup:e=>(e,t)=>(Sn(),An("div",null,Xw))};class Qw extends tp{constructor(e,t,r={}){super(Yw,e,t,r)}}const Zw={id:"room",class:"darkwall"},Jw={class:"spacer-side"},e_=In("br",null,null,-1),t_=In("br",null,null,-1),r_=In("div",{class:"squareoff"},[Fn("Treehugger: Wawona VR experience transports the users to the red giant Sequoia trees from the Sequoia National Park. It provides a sense of intimacy with the tree - with its bark, with the cells that make up its being. The vividness of the work illustrates "),In("em",null,"presence"),Fn(". ")],-1);var n_={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",Zw,[In("div",Jw,[Dn(Sp,{msg:"Treehugger: Wawona"}),e_,t_,r_,jn(" In this experience, users find themselves on the threshold of forgetting that we are having a VR experience. Being on that threshold is a sence of presence in a reality medium. ")])])]))};class s_ extends tp{constructor(e,t,r={}){super(n_,e,t,r)}}const i_=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("div",null,'Reality media have always been about presence. The legend of La Ciotat is a myth of presence, which you can explore in the gallery entitled "What are Reality Media?"')])])],-1)];var o_={setup:e=>(e,t)=>(Sn(),An("div",null,i_))};class a_ extends tp{constructor(e,t,r={}){super(o_,e,t,r)}}const l_=[In("div",{id:"room",class:"darkwall"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/89c91ebefe9504d1.png",height:"475"})],-1)];var c_={setup:e=>(e,t)=>(Sn(),An("div",null,l_))};class u_ extends tp{constructor(e,t,r={}){super(c_,e,t,r)}}const h_=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer"},[In("br"),In("br"),jn(' <Title msg="The future of news?" /> '),In("div",{class:"squareoff"},"Parthenon model explanation")])],-1)];var d_={setup:e=>(e,t)=>(Sn(),An("div",null,h_))};class p_ extends tp{constructor(e,t,r={}){super(d_,e,t,r)}}const f_=[In("div",{id:"room",class:"darkwall"},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/495ecc58771c118d.jpg",height:"326"})],-1)];var m_={setup:e=>(e,t)=>(Sn(),An("div",null,f_))};class y_ extends tp{constructor(e,t,r={}){super(m_,e,t,r)}}const g_={id:"room",class:"darkwall"},v_={class:"spacer-side"},b_=In("br",null,null,-1),w_=In("br",null,null,-1),__=In("div",{class:"squareoff"},"The Franklin Institute in Philadelphia offered a mobile AR experience for their Terracotta Warrior exhibition. The app allowed visitors to use their smartphones to scan items and view various AR content to learn more about the history behind the clay soldiers.",-1);var x_={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",g_,[In("div",v_,[Dn(Sp,{msg:"Terracotta Warriors AR"}),b_,w_,__])])]))};class E_ extends tp{constructor(e,t,r={}){super(x_,e,t,r)}}const T_=[Un('<div id="room" class="darkwall"><div class="spacer-side"><div class="squareoff"><div class="lgquote">&quot;[Virtual Reality] feels like life; it feels like truth.&quot; <br> <span style="float:right;">- Chris Milk</span></div></div></div></div>',1)];var k_={setup:e=>(e,t)=>(Sn(),An("div",null,T_))};class S_ extends tp{constructor(e,t,r={}){super(k_,e,t,r)}}const R_=[Un('<div id="room" class="darkwall"><div class="spacer-side"><div class="squareoff"><div class="lgquote">&quot;In order to study a VEs effectiveness in evoking presence, researchers need a well designed and verified measure of the phenomena.&quot;<br><span style="float:right;">- Meehan et al. </span></div></div></div></div>',1)];var C_={setup:e=>(e,t)=>(Sn(),An("div",null,R_))};class M_ extends tp{constructor(e,t,r={}){super(C_,e,t,r)}}const A_=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("div",{class:"lgquote"},"Cybersickness is visceral evidence that VR is not the medium to end all media.")])])],-1)];var P_={setup:e=>(e,t)=>(Sn(),An("div",null,A_))};class O_ extends tp{constructor(e,t,r={}){super(P_,e,t,r)}}const L_=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("div",{class:"lgquote"},"VR experiences generally lack aura, but AR experiences for cultural heritage can borrow or even enhance the aura of place.")])])],-1)];var B_={setup:e=>(e,t)=>(Sn(),An("div",null,L_))};class I_ extends tp{constructor(e,t,r={}){super(B_,e,t,r)}}const D_=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("div",{class:"lgquote"},"Each reality medium strives to achieve presence, and each one falls short.")])])],-1)];var z_={setup:e=>(e,t)=>(Sn(),An("div",null,D_))};class F_ extends tp{constructor(e,t,r={}){super(z_,e,t,r)}}const U_={id:"room"},j_={class:"spacer-side"},N_=In("br",null,null,-1),V_=In("br",null,null,-1),q_=In("div",{class:"squareoff"},[Fn('The experiments in the Pit Room required subjects to walk along the edges of the virtual pit while carrying an object (a book or a colored block). The physical room was designed to copy the virtual room: the subjects walked on actual wooden board, which they could feel through flimsy slippers that they were wearing. (This is called "passive haptics.") The subjects\'s heart rate, skin conductance, and skin temperature were monitored for changes. The goal was to establish empirical measures for the subjective feeling of presence. Changes in heart rate proved to be the best physical measure of presence, and the passive haptics were particularly effective. This version of the Pit model was provided by Rick Skarbez, and was used in one of the final sequence of experiments for the Pit researcher. '),In("br"),In("br"),In("div",{class:"oblique",style:{fontSize:"0.9rem"}},'R. Skarbez, F. P. Brooks and M. C. Whitton, "Immersion and Coherence: Research Agenda and Early Results," in IEEE Transactions on Visualization and Computer Graphics, vol. 27, no. 10, pp. 3839-3850, 1 Oct. 2021, doi: 10.1109/TVCG.2020.2983701.'),In("br"),In("br")],-1);var K_={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",U_,[In("div",j_,[N_,Dn(Sp,{msg:"Pit Experiment"}),V_,q_])])]))};class W_ extends tp{constructor(e,t,r={}){super(K_,e,t,r)}}const G_={id:"room"},H_={class:"spacer-side"},$_=In("br",null,null,-1),X_=Un('<br><div class="squareoff"> To get a sense of what the experiment was like, you should visit this room in a head-worn VR display and walk around the pit instead of teleporting or using the controller to move. Note that the lack of &quot;passive haptics&quot; (the physical set used in the UNC experiment) will diminish the sense of vertigo that you feel compared to the participants in the original experiment. <br><br><ul style="margin-left:60px;margin-right:60px;"><li style="color:#78cfa8;">At each of the two locations marked with the red and blue arrows on the floor, stand on the arrow facing in the indicated direction</li><br><li style="color:#78cfa8;">Pick up a ball with your controller</li><br><li style="color:#78cfa8;">Try to drop it on the target</li></ul><br><div style="font-size:0.9rem;" class="oblique">* Head-Mounted Display devices such as Oculus Quests are recommended for this experiment * </div></div><br><br>',4);var Y_={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",G_,[In("div",H_,[$_,Dn(Sp,{msg:"Instructions"}),X_])])]))};class Q_ extends tp{constructor(e,t,r={}){super(Y_,e,t,r)}}const Z_=[In("div",{id:"room"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("br"),In("div",{"xr-layer":""},[In("img",{class:"centerImg",height:"300",src:"https://resources.realitymedia.digital/vue-apps/dist/7e96bd7e1d27893a.jpg"})]),In("br"),Fn(" A view of the original Pit model. Shows a side view of the virtual environment. Subjects start in the Training Room and later enter the Pit Room. "),In("br"),In("br"),In("div",{class:"oblique",style:{fontSize:"0.9rem"}},"Meehan, Michael, Brent Insko, Mary Whitton, and Frederick P Brooks. 2002. (Figure 1 in Physiological Measures of Presence in Stressful Virtual Environments. ACM Transactions on Graphics 21 (3): 64552.)"),In("br")])])],-1)];var J_={setup:e=>(e,t)=>(Sn(),An("div",null,Z_))};class ex extends tp{constructor(e,t,r={}){super(J_,e,t,r)}}const tx=[In("div",{id:"room"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("br"),In("div",{"xr-layer":""},[In("img",{class:"centerImg",height:"270",src:"https://resources.realitymedia.digital/vue-apps/dist/64b90ca959e54ae2.jpg"})]),In("br"),Fn(" A subject wearing HMD and physiological monitoring equipment. Subjects also took their shoes off to better feel the edges of the platform. (Fig 3 in Meehan et al.) "),In("br"),In("br")])])],-1)];var rx={setup:e=>(e,t)=>(Sn(),An("div",null,tx))};class nx extends tp{constructor(e,t,r={}){super(rx,e,t,r)}}const sx=[In("div",{id:"room"},[In("div",{class:"spacer-side"},[In("div",{class:"squareoff"},[In("br"),Fn(" We hypothesized that to the degree that a VE seems real, it would evoke physiological responses similar to those evoked by the corresponding real environment, and that greater presence would evoke a greater response. To examine this, we conducted three experiments, the results of which support the use of physiological reaction as a reliable, valid, sensitive, and objective presence measure. "),In("br"),In("br"),In("br"),In("div",{class:"oblique",style:{fontSize:"0.9rem"}},"Meehan, Michael, Brent Insko, Mary Whitton, and Frederick P Brooks. 2002. Physiological Measures of Presence in Stressful Virtual Environments. ACM Transactions on Graphics 21 (3): 64552."),In("br")])])],-1)];var ix={setup:e=>(e,t)=>(Sn(),An("div",null,sx))};class ox extends tp{constructor(e,t,r={}){super(ix,e,t,r)}}const ax={id:"room",class:"darkwall"},lx={class:"spacer"},cx=In("br",null,null,-1),ux=In("br",null,null,-1),hx=In("div",{class:"squareoff"},[In("i",null,"Reality Media"),Fn(" is a project encompassing three writing spaces, three technologies for representing ideas: print, the web, and immersive VR. The printed page is a writing space with a tradition dating back to the fifteenth century (in Europe, much earlier in China). Obviously the web has a far shorter tradition, beginning around 1990. But in the thirty year since Tim Berners-Lee launched the first web server, the web has grown to rival print for many kinds of communication. The technologies for creating 3D graphic spaces in VR (and AR) actually predate the web. But only in the past 10 years have AR and VR become widely available media. The goal of RealityMedia is to demonstrate the potential range of AR and VR as communicative forms. ")],-1);var dx={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",ax,[In("div",lx,[Dn(Sp,{msg:"Welcome to Reality Media!"}),cx,ux,hx])])]))};class px extends tp{constructor(e,t,r={}){super(dx,e,t,r)}}const fx={id:"room",class:"darkwall"},mx={class:"spacer"},yx=In("br",null,null,-1),gx=In("div",{style:{float:"left","margin-right":"20px"}},[In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/3fb3b645bd6f6de6.jpg",height:"383"})],-1),vx={class:"squareoff"},bx={style:{"margin-left":"30px"}},wx=Fn("Published by "),_x=[In("a",{href:"https://mitpress.mit.edu/books/reality-media",target:"_blank"},"MIT Press .",-1)],xx=In("br",null,null,-1),Ex=In("div",{class:"oblique"},"By Jay David Bolter, Maria Engberg and Blair MacIntyre",-1),Tx=In("br",null,null,-1),kx=In("br",null,null,-1),Sx=Fn(" How augmented reality and virtual reality are taking their places in contemporary media culture alongside film and television. ");var Rx={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",fx,[In("div",mx,[Dn(Sp,{msg:"Reality Media"}),yx,gx,In("div",vx,[In("div",bx,[wx,In("span",{"xr-layer":"",onClick:t[0]||(t[0]=(...t)=>e.linkClick&&e.linkClick(...t)),class:"alink"},_x)]),xx,Ex,Tx,kx,Sx])])])]))};class Cx extends tp{constructor(e,t,r={}){super(Rx,e,t,r),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const Mx={id:"room",class:"darkwall"},Ax={class:"spacer"},Px=In("br",null,null,-1),Ox=In("div",{"xr-layer":""},[In("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/ab7985c65467fc96.jpg",height:"212"})],-1),Lx=In("br",null,null,-1),Bx={class:"squareoff"},Ix=In("em",null,"Realitymedia",-1),Dx=Fn(" is built on top of Mozilla's open-source platform. An extensive guide to using Mozilla Hubs is available "),zx=[In("a",{href:"https://hubs.mozilla.com/docs/intro-hubs.html",target:"_blank"},"in the Hubs user documentation .",-1)],Fx=In("br",null,null,-1),Ux=In("br",null,null,-1),jx=Fn(" Here are the highlights: "),Nx=In("br",null,null,-1),Vx=In("br",null,null,-1),qx=Fn(" Before entering, you are in the room's lobby. From here, you can see and hear what's going on inside the room, but you can only interact with others using text chat. "),Kx=In("br",null,null,-1),Wx=In("br",null,null,-1);var Gx={setup(e){const t=ar("linkClick");return(e,r)=>(Sn(),An("div",null,[In("div",Mx,[In("div",Ax,[Dn(Sp,{msg:"The Hubs Platform"}),Px,Ox,Lx,In("div",Bx,[Ix,Dx,In("span",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},zx),Fx,Ux,jx,Nx,Vx,qx,Kx,Wx])])])]))}};class Hx extends tp{constructor(e,t,r={}){super(Gx,e,t,r),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const $x={id:"room",class:"darkwall"},Xx={class:"spacer"},Yx={class:"squareoff"},Qx=In("br",null,null,-1),Zx=In("br",null,null,-1),Jx=In("br",null,null,-1),eE=In("div",{class:"keyPoint"},"To enter the room:",-1),tE=In("br",null,null,-1),rE=Fn(" - On a desktop or mobile device, follow the prompts to select a name/avatar and enable the mic. "),nE=In("br",null,null,-1),sE=Fn(' - On a VR headset, if you opened the URL on your desktop or smartphone, choose "Enter on Standalone VR" to create a code that makes it easy to open on your standalone headset. Open the browser in your VR headset, navigate to hubs.link and enter the code. '),iE=In("br",null,null,-1),oE=In("br",null,null,-1),aE=In("div",{class:"keyPoint"},"To navigate in Hubs:",-1),lE=In("br",null,null,-1),cE=Fn(" - On desktop use your WASD or arrow keys to move around. You can also press your right mouse button to teleport to a different location. Rotate your view using the Q and E keys, or hold down your left mouse button and drag. "),uE=In("br",null,null,-1),hE=Fn(" - For VR and mobile controls, see the "),dE=[In("a",{href:"https://hubs.mozilla.com/docs/hubs-controls.html",target:"_blank"},"list of Hubs controls .",-1)];var pE={setup(e){const t=ar("linkClick");return(e,r)=>(Sn(),An("div",null,[In("div",$x,[In("div",Xx,[In("div",Yx,[Qx,Zx,Jx,eE,tE,rE,nE,sE,iE,oE,In("div",null,[aE,lE,cE,uE,hE,In("span",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},dE)])])])])]))}};class fE extends tp{constructor(e,t,r={}){super(pE,e,t,r),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const mE={id:"room",class:"darkwall"},yE={class:"spacer"},gE=In("br",null,null,-1),vE=In("div",{class:"squareoff"}," The figure below indicates how to mute your microphone, take photos, share your screen, create media objects, and so on: ",-1),bE=In("br",null,null,-1),wE=In("br",null,null,-1),_E=In("div",{"xr-layer":""},[In("img",{src:"https://resources.realitymedia.digital/vue-apps/dist/b15807fada17de90.jpg",height:"212"})],-1);var xE={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",mE,[In("div",yE,[Dn(Sp,{msg:"Features in Hubs"}),gE,vE,bE,wE,_E])])]))};class EE extends tp{constructor(e,t,r={}){super(xE,e,t,r)}}const TE={id:"room",class:"darkwall"},kE={class:"spacer"},SE=In("br",null,null,-1),RE=In("br",null,null,-1);var CE={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",TE,[In("div",kE,[Dn(Sp,{msg:"Please stand on the podium"}),SE,RE])])]))};class ME extends tp{constructor(e,t,r={}){super(CE,e,t,r)}}const AE={id:"room",class:"darkwall"},PE={class:"spacer"},OE=In("br",null,null,-1),LE=In("div",{class:"squareoff"},[In("div",{class:"keyPoint"},"Visit the exhibit with friends"),In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/e7b4a0e2c07730f2.png",height:"212"}),In("br"),Fn(" Sharing the URL of the room you are currently in will allow others to join your experience. "),In("br"),In("br"),In("div",{class:"keyPoint"},"Favorite your room"),Fn(" Set your room as a favorite under the 'more' menu. Then, you can easily revisit the room from the list in the 'favorite rooms'. ")],-1);var BE={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",AE,[In("div",PE,[Dn(Sp,{msg:"Other ways to use the room"}),OE,LE])])]))};class IE extends tp{constructor(e,t,r={}){super(BE,e,t,r)}}const DE=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer"},[In("br"),In("div",{class:"keyPoint"},"Here is a map, which you will also find posted through the galleries"),In("br"),In("img",{"xr-layer":"",src:"https://resources.realitymedia.digital/vue-apps/dist/74d2e9fda186b0d5.png",height:"400"})])],-1)];var zE={setup:e=>(e,t)=>(Sn(),An("div",null,DE))};class FE extends tp{constructor(e,t,r={}){super(zE,e,t,r)}}const UE=[In("div",{id:"room",class:"darkwall"},[In("div",{class:"spacer"},[In("div",{class:"squareoff"},[In("br"),In("br"),In("br"),In("br"),In("br"),Fn(" Each gallery in this immersive book corresponds to one or more chapters in the printed book and illustrates the themes of the printed chapter(s). (See the map on the far wall for the names/themes of the galleries.) For example, the gallery entitled Presence illustrates both presence and the related concept of aura and how computer scientists as well as filmmakers and designers have tried to evoke these reactions in visitors to their immersive applications. ")])])],-1)];var jE={setup:e=>(e,t)=>(Sn(),An("div",null,UE))};class NE extends tp{constructor(e,t,r={}){super(jE,e,t,r)}}const VE={id:"room",class:"darkwall"},qE=[In("a",{href:"https://realitymedia.digital/",target:"_blank",style:{fontSize:"1.5em"}},"Click here to return back to the website.",-1)];var KE={setup(e){const t=ar("linkClick");return(e,r)=>(Sn(),An("div",null,[In("div",VE,[In("div",null,[In("span",{"xr-layer":"",onClick:r[0]||(r[0]=(...e)=>dt(t)&&dt(t)(...e)),class:"alink"},qE)])])]))}};class WE extends tp{constructor(e,t,r={}){super(KE,e,t,r),this.isInteractive=!0,this.vueApp.provide("linkClick",window.APP.utils.followLinkClick)}}const GE={id:"room",class:"darkwall"},HE={class:"spacer"},$E=In("br",null,null,-1),XE=In("br",null,null,-1);var YE={setup:e=>(e,t)=>(Sn(),An("div",null,[In("div",GE,[In("div",HE,[$E,XE,Dn(Sp,{msg:"Back to the main exhibition"})])])]))};class QE extends tp{constructor(e,t,r={}){super(YE,e,t,r)}}const ZE={id:"room"},JE={class:"spacer"},eT=In("br",null,null,-1),tT=In("br",null,null,-1),rT={class:"squareoff"};var nT={setup(e){let t=ar("params");var r=t&&t.parameter1?t.parameter1:"How to Use the Audio Pads",n=t&&t.parameter2?t.parameter2:"start the narrations about the room you are currently in";return(e,t)=>(Sn(),An("div",null,[In("div",ZE,[In("div",JE,[Dn(Sp,{msg:dt(r)},null,8,["msg"]),eT,tT,In("div",rT,"Standing on the Audio Pads will "+u(dt(n)),1)])])]))}};class sT extends tp{constructor(e,t,r={}){super(nT,e,t,r)}}const iT={id:"room",class:"darkwall"},oT={class:"spacer-side"},aT=In("br",null,null,-1),lT={class:"squareoff labelTitle"},cT={class:"squareoff"},uT=In("br",null,null,-1);var hT={setup(e){let t=ar("params");var r=t&&t.parameter1?t.parameter1:" ",n=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(Sn(),An("div",null,[In("div",iT,[In("div",oT,[aT,jn('<Title v-bind:msg="title" />'),In("div",lT,u(dt(r)),1),In("div",cT,u(dt(n)),1),uT])])]))}};class dT extends tp{constructor(e,t,r={}){super(hT,e,t,r)}}const pT={id:"room"},fT={class:"spacer-side"},mT=In("br",null,null,-1),yT={class:"squareoff labelTitle"},gT={class:"squareoff"},vT=In("br",null,null,-1);var bT={setup(e){let t=ar("params");var r=t&&t.parameter1?t.parameter1:" ",n=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(Sn(),An("div",null,[In("div",pT,[In("div",fT,[mT,jn('<Title v-bind:msg="title" />'),In("div",yT,u(dt(r)),1),In("div",gT,u(dt(n)),1),vT])])]))}};class wT extends tp{constructor(e,t,r={}){super(bT,e,t,r)}}const _T={id:"room",class:"darkwall"},xT={class:"spacer-side"},ET=In("br",null,null,-1),TT={class:"squareoff labelLgTitle"},kT={class:"squareoff labelLgBody"},ST=In("br",null,null,-1);var RT={setup(e){let t=ar("params");var r=t&&t.parameter1?t.parameter1:" ",n=t&&t.parameter2?t.parameter2:" ";return(e,t)=>(Sn(),An("div",null,[In("div",_T,[In("div",xT,[ET,jn('<Title v-bind:msg="title" />'),In("div",TT,u(dt(r)),1),In("div",kT,u(dt(n)),1),ST])])]))}};class CT extends tp{constructor(e,t,r={}){super(RT,e,t,r)}}const MT={id:"room",class:"darkwall"},AT={class:"spacer-side"},PT=In("br",null,null,-1),OT={class:"squareoff titleStyle"},LT=In("br",null,null,-1);var BT={setup(e){let t=ar("params");var r=t&&t.parameter1?t.parameter1:" ";return(e,t)=>(Sn(),An("div",null,[In("div",MT,[In("div",AT,[PT,jn('<Title v-bind:msg="title" />'),In("div",OT,u(dt(r)),1),LT])])]))}};class IT extends tp{constructor(e,t,r={}){super(BT,e,t,r)}}return e.AR=function(e={}){let t=new Ev(600,475,e);return t.mount(),t},e.Absence_Mediation=function(e={}){let t=new Pb(600,475,e);return t.mount(),t},e.Alyx=function(e={}){let t=new sm(600,475,e);return t.mount(),t},e.Apparizione=function(e={}){let t=new Sm(600,475,e);return t.mount(),t},e.ArtBanner=function(e={}){let t=new Um(600,475,e);return t.mount(),t},e.AudioPad=function(e={}){let t=new sT(600,475,e);return t.mount(),t},e.AudioText=function(e={}){let t=new ME(600,475,e);return t.mount(),t},e.Aura=function(e={}){let t=new Cb(600,475,e);return t.mount(),t},e.Back=function(){let e=new WE(600,475);return e.mount(),e},e.BeatSaber=function(e={}){let t=new mm(600,475,e);return t.mount(),t},e.CameraObscura=function(e={}){let t=new Ny(600,475,e);return t.mount(),t},e.Center1=function(e={}){let t=new $p(300,475,e);return t.mount(),t},e.Center2=function(e={}){let t=new Zp(300,475,e);return t.mount(),t},e.Center3=function(e={}){let t=new sf(300,475,e);return t.mount(),t},e.Center4=function(e={}){let t=new cf(300,475,e);return t.mount(),t},e.Center5=function(e={}){let t=new ff(300,475,e);return t.mount(),t},e.Center6=function(e={}){let t=new vf(300,475,e);return t.mount(),t},e.Center7=function(e={}){let t=new xf(300,475,e);return t.mount(),t},e.CerneYArena=function(e={}){let t=new my(600,475,e);return t.mount(),t},e.Empathy=function(e={}){let t=new tw(600,475,e);return t.mount(),t},e.Equirectangular=function(e={}){let t=new Rg(600,475,e);return t.mount(),t},e.Exit=function(e={}){let t=new QE(600,475,e);return t.mount(),t},e.Film=function(e={}){let t=new ag(600,475,e);return t.mount(),t},e.GamesBanner=function(e={}){let t=new Im(600,475,e);return t.mount(),t},e.Gaudi=function(e={}){let t=new Fb(600,475,e);return t.mount(),t},e.Gaudi_pic=function(e={}){let t=new Nb(600,326,e);return t.mount(),t},e.GoogleLiveView=function(e={}){let t=new ny(600,475,e);return t.mount(),t},e.GoogleStreetView=function(e={}){let t=new Lv(600,475,e);return t.mount(),t},e.GraphLabel=function(e={}){let t=new Dp(0,0,e);return t.mount(),t},e.HubsFeatures=function(e={}){let t=new EE(600,475,e);return t.mount(),t},e.HubsPlatform=function(e={}){let t=new Hx(600,500,e);return t.mount(),t},e.HubsPlatform2=function(e={}){let t=new fE(600,475,e);return t.mount(),t},e.ImmersiveRides=function(e={}){let t=new Hg(600,475,e);return t.mount(),t},e.Label=function(e={}){let t=new dT(600,475,e);return t.mount(),t},e.Label_bk=function(e={}){let t=new wT(600,475,e);return t.mount(),t},e.Label_lg=function(e={}){let t=new CT(600,475,e);return t.mount(),t},e.Laciotat=function(e={}){let t=new a_(600,475,e);return t.mount(),t},e.LinearPerspective=function(e={}){let t=new ky(600,475,e);return t.mount(),t},e.LinearPerspective_Demo=function(e={}){let t=new Cy(600,475,e);return t.mount(),t},e.Mainmap_black=function(e={}){let t=new sw(600,475,e);return t.mount(),t},e.Map=function(e={}){let t=new Np(300,475,e);return t.mount(),t},e.Milk=function(e={}){let t=new Ew(600,475,e);return t.mount(),t},e.Milk_pic=function(e={}){let t=new Sw(600,326,e);return t.mount(),t},e.Minecraft=function(e={}){let t=new Pm(600,475,e);return t.mount(),t},e.MitPress=function(e={}){let t=new Cx(600,475,e);return t.mount(),t},e.Monolith1=function(e={}){let t=new Sf(300,475,e);return t.mount(),t},e.Monolith2=function(e={}){let t=new Af(300,475,e);return t.mount(),t},e.Monolith3=function(e={}){let t=new Bf(300,475,e);return t.mount(),t},e.Monolith4=function(e={}){let t=new Ff(300,475,e);return t.mount(),t},e.Monolith5=function(e={}){let t=new Vf(300,475,e);return t.mount(),t},e.Monolith6=function(e={}){let t=new Gf(300,475,e);return t.mount(),t},e.Monolith7=function(e={}){let t=new Yf(300,475,e);return t.mount(),t},e.Nonnie=function(e={}){let t=new Lw(600,475,e);return t.mount(),t},e.Nonnie_pic=function(e={}){let t=new Dw(600,326,e);return t.mount(),t},e.Overview=function(e={}){let t=new NE(600,475,e);return t.mount(),t},e.Panorama=function(e={}){let t=new Fy(600,475,e);return t.mount(),t},e.Parthenon=function(e={}){let t=new p_(600,475,e);return t.mount(),t},e.Photography=function(e={}){let t=new Qy(600,475,e);return t.mount(),t},e.Pit=function(e={}){let t=new W_(600,475,e);return t.mount(),t},e.PitInstruction=function(e={}){let t=new Q_(600,475,e);return t.mount(),t},e.Pit_AR=function(e={}){let t=new $w(600,475,e);return t.mount(),t},e.Pit_Experiment=function(e={}){let t=new Vw(600,475,e);return t.mount(),t},e.PlaceandSpace=function(e={}){let t=new u_(600,475,e);return t.mount(),t},e.Pokemon=function(e={}){let t=new um(600,475,e);return t.mount(),t},e.PortalSubtitle=function(e={}){let t=new Lp(300,100,e);return t.mount(),t},e.PortalTitle=function(e={}){let t=new Mp(300,100,e);return t.mount(),t},e.Presence=function(e={}){let t=new Qw(600,475,e);return t.mount(),t},e.Presence_map=function(e={}){let t=new lw(600,475,e);return t.mount(),t},e.Presence_map2=function(e={}){let t=new hw(600,475,e);return t.mount(),t},e.Presence_map3=function(e={}){let t=new fw(600,475,e);return t.mount(),t},e.Quote1=function(e={}){let t=new S_(600,475,e);return t.mount(),t},e.Quote2=function(e={}){let t=new M_(600,475,e);return t.mount(),t},e.Quote3=function(e={}){let t=new O_(600,475,e);return t.mount(),t},e.Quote4=function(e={}){let t=new I_(600,475,e);return t.mount(),t},e.Quote5=function(e={}){let t=new F_(600,475,e);return t.mount(),t},e.RecRoom=function(e={}){let t=new Wm(600,475,e);return t.mount(),t},e.Sensorama=function(e={}){let t=new zg(600,475,e);return t.mount(),t},e.Sharing=function(e={}){let t=new IE(600,475,e);return t.mount(),t},e.Steam=function(e={}){let t=new Qm(600,475,e);return t.mount(),t},e.Stereoscopic=function(e={}){let t=new qv(600,475,e);return t.mount(),t},e.TV=function(e={}){let t=new gg(600,475,e);return t.mount(),t},e.Terracotta=function(e={}){let t=new E_(600,475,e);return t.mount(),t},e.TerracottaPic=function(e={}){let t=new y_(600,326,e);return t.mount(),t},e.TheDayTheWorldChanged=function(e={}){let t=new cy(600,475,e);return t.mount(),t},e.Theaters=function(e={}){let t=new nv(600,475,e);return t.mount(),t},e.Title=function(e={}){let t=new IT(600,475,e);return t.mount(),t},e.Treehugger=function(e={}){let t=new s_(600,475,e);return t.mount(),t},e.Trompe=function(e={}){let t=new Jv(600,475,e);return t.mount(),t},e.UltimateDisplay=function(e={}){let t=new cb(600,475,e);return t.mount(),t},e.VR=function(e={}){let t=new pv(600,475,e);return t.mount(),t},e.VRCave=function(e={}){let t=new bb(600,475,e);return t.mount(),t},e.WalkingDead=function(e={}){let t=new _m(600,475,e);return t.mount(),t},e.Welcome=function(e={}){let t=new px(600,475,e);return t.mount(),t},e.Zoetrope=function(e={}){let t=new xb(600,475,e);return t.mount(),t},e.cybersickness=function(e={}){let t=new Gb(600,475,e);return t.mount(),t},e.cybersickness_pic=function(e={}){let t=new Xb(600,326,e);return t.mount(),t},e.exportCache=async function(e){return await Yd.instance.saveStore(),await Yd.instance.exportCache(e)},e.hubsTest1=function(e={}){let t=new np(e);return t.mount(),t},e.hubsTest2=function(e={}){let t=new pp(e);return t.mount(),t},e.hubsTest3=function(e={}){let t=new kp(e);return t.mount(),t},e.initializeEthereal=function(){tp.initializeEthereal()},e.loadCache=async function(e){await Yd.instance.importCache(e)},e.pitSign1=function(e={}){let t=new ex(600,475,e);return t.mount(),t},e.pitSign2=function(e={}){let t=new nx(600,475,e);return t.mount(),t},e.pitSign3=function(e={}){let t=new ox(600,475,e);return t.mount(),t},e.rotundaMap=function(e={}){let t=new FE(600,475,e);return t.mount(),t},e.systemTick=function(e,t){tp.systemTick(e,t)},Object.defineProperty(e,"__esModule",{value:!0}),e}({},THREE);
